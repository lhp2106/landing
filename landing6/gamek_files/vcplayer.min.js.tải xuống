/**
 * vcplayer - v1.1.0 - 2017-11-29 14:59:15
 * Author: Tuan Le Dac Thanh - thanhtuan.pfiev@gmail.com
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.videojs=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(){},{}],2:[function(a,b){"use strict";var c=a("object-keys"),d=a("foreach"),e="function"==typeof Symbol&&"symbol"==typeof Symbol(),f=Object.prototype.toString,g=function(a){return"function"==typeof a&&"[object Function]"===f.call(a)},h=function(){var a={};try{Object.defineProperty(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a}catch(c){return!1}},i=Object.defineProperty&&h(),j=function(a,b,c,d){(!(b in a)||g(d)&&d())&&(i?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value:c,writable:!0}):a[b]=c)},k=function(a,b){var f=arguments.length>2?arguments[2]:{},g=c(b);e&&(g=g.concat(Object.getOwnPropertySymbols(b))),d(g,function(c){j(a,c,b[c],f[c])})};k.supportsDescriptors=!!i,b.exports=k},{foreach:4,"object-keys":49}],3:[function(a,b){function c(a,b,c){if(!g(b))throw new TypeError("iterator must be a function");arguments.length<3&&(c=this),"[object Array]"===h.call(a)?d(a,b,c):"string"==typeof a?e(a,b,c):f(a,b,c)}function d(a,b,c){for(var d=0,e=a.length;e>d;d++)i.call(a,d)&&b.call(c,a[d],d,a)}function e(a,b,c){for(var d=0,e=a.length;e>d;d++)b.call(c,a.charAt(d),d,a)}function f(a,b,c){for(var d in a)i.call(a,d)&&b.call(c,a[d],d,a)}var g=a("is-function");b.exports=c;var h=Object.prototype.toString,i=Object.prototype.hasOwnProperty},{"is-function":9}],4:[function(a,b){var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString;b.exports=function(a,b,e){if("[object Function]"!==d.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;f>g;g++)b.call(e,a[g],g,a);else for(var h in a)c.call(a,h)&&b.call(e,a[h],h,a)}},{}],5:[function(a,b){var c="Function.prototype.bind called on incompatible ",d=Array.prototype.slice,e=Object.prototype.toString,f="[object Function]";b.exports=function(a){var b=this;if("function"!=typeof b||e.call(b)!==f)throw new TypeError(c+b);for(var g,h=d.call(arguments,1),i=function(){if(this instanceof g){var c=b.apply(this,h.concat(d.call(arguments)));return Object(c)===c?c:this}return b.apply(a,h.concat(d.call(arguments)))},j=Math.max(0,b.length-h.length),k=[],l=0;j>l;l++)k.push("$"+l);if(g=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(i),b.prototype){var m=function(){};m.prototype=b.prototype,g.prototype=new m,m.prototype=null}return g}},{}],6:[function(a,b){var c=a("./implementation");b.exports=Function.prototype.bind||c},{"./implementation":5}],7:[function(a,b){(function(c){var d="undefined"!=typeof c?c:"undefined"!=typeof window?window:{},e=a("min-document");if("undefined"!=typeof document)b.exports=document;else{var f=d["__GLOBAL_DOCUMENT_CACHE@4"];f||(f=d["__GLOBAL_DOCUMENT_CACHE@4"]=e),b.exports=f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":1}],8:[function(a,b){(function(a){b.exports="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(a,b){function c(a){var b=d.call(a);return"[object Function]"===b||"function"==typeof a&&"[object RegExp]"!==b||"undefined"!=typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}b.exports=c;var d=Object.prototype.toString},{}],10:[function(a,b){var c=a("../internal/getNative"),d=c(Date,"now"),e=d||function(){return(new Date).getTime()};b.exports=e},{"../internal/getNative":26}],11:[function(a,b){function c(a,b,c){function h(){r&&clearTimeout(r),n&&clearTimeout(n),t=0,n=r=s=void 0}function i(b,c){c&&clearTimeout(c),n=r=s=void 0,b&&(t=e(),o=a.apply(q,m),r||n||(m=q=void 0))}function j(){var a=b-(e()-p);0>=a||a>b?i(s,n):r=setTimeout(j,a)}function k(){i(v,r)}function l(){if(m=arguments,p=e(),q=this,s=v&&(r||!w),u===!1)var c=w&&!r;else{n||w||(t=p);var d=u-(p-t),f=0>=d||d>u;f?(n&&(n=clearTimeout(n)),t=p,o=a.apply(q,m)):n||(n=setTimeout(k,d))}return f&&r?r=clearTimeout(r):r||b===u||(r=setTimeout(j,b)),c&&(f=!0,o=a.apply(q,m)),!f||r||n||(m=q=void 0),o}var m,n,o,p,q,r,s,t=0,u=!1,v=!0;if("function"!=typeof a)throw new TypeError(f);if(b=0>b?0:+b||0,c===!0){var w=!0;v=!1}else d(c)&&(w=!!c.leading,u="maxWait"in c&&g(+c.maxWait||0,b),v="trailing"in c?!!c.trailing:v);return l.cancel=h,l}var d=a("../lang/isObject"),e=a("../date/now"),f="Expected a function",g=Math.max;b.exports=c},{"../date/now":10,"../lang/isObject":39}],12:[function(a,b){function c(a,b){if("function"!=typeof a)throw new TypeError(d);return b=e(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,f=e(c.length-b,0),g=Array(f);++d<f;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var d="Expected a function",e=Math.max;b.exports=c},{}],13:[function(a,b){function c(a,b,c){var g=!0,h=!0;if("function"!=typeof a)throw new TypeError(f);return c===!1?g=!1:e(c)&&(g="leading"in c?!!c.leading:g,h="trailing"in c?!!c.trailing:h),d(a,b,{leading:g,maxWait:+b,trailing:h})}var d=a("./debounce"),e=a("../lang/isObject"),f="Expected a function";b.exports=c},{"../lang/isObject":39,"./debounce":11}],14:[function(a,b){function c(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=c},{}],15:[function(a,b){function c(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=c},{}],16:[function(a,b){function c(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=c},{}],17:[function(a,b){var c=a("./createBaseFor"),d=c();b.exports=d},{"./createBaseFor":24}],18:[function(a,b){function c(a,b){return d(a,b,e)}var d=a("./baseFor"),e=a("../object/keysIn");b.exports=c},{"../object/keysIn":45,"./baseFor":17}],19:[function(a,b){function c(a,b,l,m,n){if(!h(a))return a;var o=g(b)&&(f(b)||j(b)),p=o?void 0:k(b);return d(p||b,function(d,f){if(p&&(f=d,d=b[f]),i(d))m||(m=[]),n||(n=[]),e(a,b,f,c,l,m,n);else{var g=a[f],h=l?l(g,d,f,a,b):void 0,j=void 0===h;j&&(h=d),void 0===h&&(!o||f in a)||!j&&(h===h?h===g:g!==g)||(a[f]=h)}}),a}var d=a("./arrayEach"),e=a("./baseMergeDeep"),f=a("../lang/isArray"),g=a("./isArrayLike"),h=a("../lang/isObject"),i=a("./isObjectLike"),j=a("../lang/isTypedArray"),k=a("../object/keys");b.exports=c},{"../lang/isArray":36,"../lang/isObject":39,"../lang/isTypedArray":42,"../object/keys":44,"./arrayEach":15,"./baseMergeDeep":20,"./isArrayLike":27,"./isObjectLike":32}],20:[function(a,b){function c(a,b,c,k,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,g(p)&&(f(p)||i(p))?r=f(q)?q:g(q)?d(q):[]:h(p)||e(p)?r=e(q)?j(q):h(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=k(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var d=a("./arrayCopy"),e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isArrayLike"),h=a("../lang/isPlainObject"),i=a("../lang/isTypedArray"),j=a("../lang/toPlainObject");b.exports=c},{"../lang/isArguments":35,"../lang/isArray":36,"../lang/isPlainObject":40,"../lang/isTypedArray":42,"../lang/toPlainObject":43,"./arrayCopy":14,"./isArrayLike":27}],21:[function(a,b){function c(a){return function(b){return null==b?void 0:d(b)[a]}}var d=a("./toObject");b.exports=c},{"./toObject":34}],22:[function(a,b){function c(a,b,c){if("function"!=typeof a)return d;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var d=a("../utility/identity");b.exports=c},{"../utility/identity":48}],23:[function(a,b){function c(a){return f(function(b,c){var f=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=d(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&e(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++f<g;){var k=c[f];k&&a(b,k,h)}return b})}var d=a("./bindCallback"),e=a("./isIterateeCall"),f=a("../function/restParam");b.exports=c},{"../function/restParam":12,"./bindCallback":22,"./isIterateeCall":30}],24:[function(a,b){function c(a){return function(b,c,e){for(var f=d(b),g=e(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}var d=a("./toObject");b.exports=c},{"./toObject":34}],25:[function(a,b){var c=a("./baseProperty"),d=c("length");b.exports=d},{"./baseProperty":21}],26:[function(a,b){function c(a,b){var c=null==a?void 0:a[b];return d(c)?c:void 0}var d=a("../lang/isNative");b.exports=c},{"../lang/isNative":38}],27:[function(a,b){function c(a){return null!=a&&e(d(a))}var d=a("./getLength"),e=a("./isLength");b.exports=c},{"./getLength":25,"./isLength":31}],28:[function(a,b){var c=function(){try{Object({toString:0}+"")}catch(a){return function(){return!1}}return function(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}}();b.exports=c},{}],29:[function(a,b){function c(a,b){return a="number"==typeof a||d.test(a)?+a:-1,b=null==b?e:b,a>-1&&a%1==0&&b>a}var d=/^\d+$/,e=9007199254740991;b.exports=c},{}],30:[function(a,b){function c(a,b,c){if(!f(c))return!1;var g=typeof b;if("number"==g?d(c)&&e(b,c.length):"string"==g&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var d=a("./isArrayLike"),e=a("./isIndex"),f=a("../lang/isObject");b.exports=c},{"../lang/isObject":39,"./isArrayLike":27,"./isIndex":29}],31:[function(a,b){function c(a){return"number"==typeof a&&a>-1&&a%1==0&&d>=a}var d=9007199254740991;b.exports=c},{}],32:[function(a,b){function c(a){return!!a&&"object"==typeof a}b.exports=c},{}],33:[function(a,b){function c(a){for(var b=i(a),c=b.length,j=c&&a.length,l=!!j&&g(j)&&(e(a)||d(a)||h(a)),m=-1,n=[];++m<c;){var o=b[m];(l&&f(o,j)||k.call(a,o))&&n.push(o)}return n}var d=a("../lang/isArguments"),e=a("../lang/isArray"),f=a("./isIndex"),g=a("./isLength"),h=a("../lang/isString"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=c},{"../lang/isArguments":35,"../lang/isArray":36,"../lang/isString":41,"../object/keysIn":45,"./isIndex":29,"./isLength":31}],34:[function(a,b){function c(a){if(f.unindexedChars&&e(a)){for(var b=-1,c=a.length,g=Object(a);++b<c;)g[b]=a.charAt(b);return g}return d(a)?a:Object(a)}var d=a("../lang/isObject"),e=a("../lang/isString"),f=a("../support");b.exports=c},{"../lang/isObject":39,"../lang/isString":41,"../support":47}],35:[function(a,b){function c(a){return e(a)&&d(a)&&g.call(a,"callee")&&!h.call(a,"callee")}var d=a("../internal/isArrayLike"),e=a("../internal/isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable;b.exports=c},{"../internal/isArrayLike":27,"../internal/isObjectLike":32}],36:[function(a,b){var c=a("../internal/getNative"),d=a("../internal/isLength"),e=a("../internal/isObjectLike"),f="[object Array]",g=Object.prototype,h=g.toString,i=c(Array,"isArray"),j=i||function(a){return e(a)&&d(a.length)&&h.call(a)==f};b.exports=j},{"../internal/getNative":26,"../internal/isLength":31,"../internal/isObjectLike":32}],37:[function(a,b){function c(a){return d(a)&&g.call(a)==e}var d=a("./isObject"),e="[object Function]",f=Object.prototype,g=f.toString;b.exports=c},{"./isObject":39}],38:[function(a,b){function c(a){return null==a?!1:d(a)?k.test(i.call(a)):f(a)&&(e(a)?k:g).test(a)}var d=a("./isFunction"),e=a("../internal/isHostObject"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=c},{"../internal/isHostObject":28,"../internal/isObjectLike":32,"./isFunction":37}],39:[function(a,b){function c(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=c},{}],40:[function(a,b){function c(a){var b;if(!g(a)||l.call(a)!=i||f(a)||e(a)||!k.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return h.ownLast?(d(a,function(a,b,d){return c=k.call(d,b),!1}),c!==!1):(d(a,function(a,b){c=b}),void 0===c||k.call(a,c))}var d=a("../internal/baseForIn"),e=a("./isArguments"),f=a("../internal/isHostObject"),g=a("../internal/isObjectLike"),h=a("../support"),i="[object Object]",j=Object.prototype,k=j.hasOwnProperty,l=j.toString;b.exports=c},{"../internal/baseForIn":18,"../internal/isHostObject":28,"../internal/isObjectLike":32,"../support":47,"./isArguments":35}],41:[function(a,b){function c(a){return"string"==typeof a||d(a)&&g.call(a)==e}var d=a("../internal/isObjectLike"),e="[object String]",f=Object.prototype,g=f.toString;b.exports=c},{"../internal/isObjectLike":32}],42:[function(a,b){function c(a){return e(a)&&d(a.length)&&!!C[E.call(a)]}var d=a("../internal/isLength"),e=a("../internal/isObjectLike"),f="[object Arguments]",g="[object Array]",h="[object Boolean]",i="[object Date]",j="[object Error]",k="[object Function]",l="[object Map]",m="[object Number]",n="[object Object]",o="[object RegExp]",p="[object Set]",q="[object String]",r="[object WeakMap]",s="[object ArrayBuffer]",t="[object Float32Array]",u="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",y="[object Uint8Array]",z="[object Uint8ClampedArray]",A="[object Uint16Array]",B="[object Uint32Array]",C={};C[t]=C[u]=C[v]=C[w]=C[x]=C[y]=C[z]=C[A]=C[B]=!0,C[f]=C[g]=C[s]=C[h]=C[i]=C[j]=C[k]=C[l]=C[m]=C[n]=C[o]=C[p]=C[q]=C[r]=!1;var D=Object.prototype,E=D.toString;b.exports=c},{"../internal/isLength":31,"../internal/isObjectLike":32}],43:[function(a,b){function c(a){return d(a,e(a))}var d=a("../internal/baseCopy"),e=a("../object/keysIn");b.exports=c},{"../internal/baseCopy":16,"../object/keysIn":45}],44:[function(a,b){var c=a("../internal/getNative"),d=a("../internal/isArrayLike"),e=a("../lang/isObject"),f=a("../internal/shimKeys"),g=a("../support"),h=c(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||("function"==typeof a?g.enumPrototypes:d(a))?f(a):e(a)?h(a):[]}:f;b.exports=i},{"../internal/getNative":26,"../internal/isArrayLike":27,"../internal/shimKeys":33,"../lang/isObject":39,"../support":47}],45:[function(a,b){function c(a){if(null==a)return[];j(a)||(a=Object(a));var b=a.length;b=b&&i(b)&&(f(a)||e(a)||k(a))&&b||0;for(var c=a.constructor,d=-1,m=g(c)&&c.prototype||x,n=m===a,o=Array(b),q=b>0,r=l.enumErrorProps&&(a===w||a instanceof Error),t=l.enumPrototypes&&g(a);++d<b;)o[d]=d+"";for(var C in a)t&&"prototype"==C||r&&("message"==C||"name"==C)||q&&h(C,b)||"constructor"==C&&(n||!z.call(a,C))||o.push(C);if(l.nonEnumShadows&&a!==x){var D=a===y?u:a===w?p:A.call(a),E=B[D]||B[s];for(D==s&&(m=x),b=v.length;b--;){C=v[b];var F=E[C];n&&F||(F?!z.call(a,C):a[C]===m[C])||o.push(C)}}return o}var d=a("../internal/arrayEach"),e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../lang/isFunction"),h=a("../internal/isIndex"),i=a("../internal/isLength"),j=a("../lang/isObject"),k=a("../lang/isString"),l=a("../support"),m="[object Array]",n="[object Boolean]",o="[object Date]",p="[object Error]",q="[object Function]",r="[object Number]",s="[object Object]",t="[object RegExp]",u="[object String]",v=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],w=Error.prototype,x=Object.prototype,y=String.prototype,z=x.hasOwnProperty,A=x.toString,B={};B[m]=B[o]=B[r]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},B[n]=B[u]={constructor:!0,toString:!0,valueOf:!0},B[p]=B[q]=B[t]={constructor:!0,toString:!0},B[s]={constructor:!0},d(v,function(a){for(var b in B)if(z.call(B,b)){var c=B[b];c[a]=z.call(c,a)}}),b.exports=c},{"../internal/arrayEach":15,"../internal/isIndex":29,"../internal/isLength":31,"../lang/isArguments":35,"../lang/isArray":36,"../lang/isFunction":37,"../lang/isObject":39,"../lang/isString":41,"../support":47}],46:[function(a,b){var c=a("../internal/baseMerge"),d=a("../internal/createAssigner"),e=d(c);b.exports=e},{"../internal/baseMerge":19,"../internal/createAssigner":23}],47:[function(a,b){var c=Array.prototype,d=Error.prototype,e=Object.prototype,f=e.propertyIsEnumerable,g=c.splice,h={};!function(a){var b=function(){this.x=a},c={0:a,length:a},e=[];b.prototype={valueOf:a,y:a};for(var i in new b)e.push(i);h.enumErrorProps=f.call(d,"message")||f.call(d,"name"),h.enumPrototypes=f.call(b,"prototype"),h.nonEnumShadows=!/valueOf/.test(e),h.ownLast="x"!=e[0],h.spliceObjects=(g.call(c,0,1),!c[0]),h.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),b.exports=h},{}],48:[function(a,b){function c(a){return a}b.exports=c},{}],49:[function(a,b){"use strict";var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,e=Array.prototype.slice,f=a("./isArguments"),g=Object.prototype.propertyIsEnumerable,h=!g.call({toString:null},"toString"),i=g.call(function(){},"prototype"),j=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],k=function(a){var b=a.constructor;return b&&b.prototype===a},l={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},m=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!l["$"+a]&&c.call(window,a)&&null!==window[a]&&"object"==typeof window[a])try{k(window[a])}catch(b){return!0}}catch(b){return!0}return!1}(),n=function(a){if("undefined"==typeof window||!m)return k(a);try{return k(a)}catch(b){return!1}},o=function(a){var b=null!==a&&"object"==typeof a,e="[object Function]"===d.call(a),g=f(a),k=b&&"[object String]"===d.call(a),l=[];if(!b&&!e&&!g)throw new TypeError("Object.keys called on a non-object");var m=i&&e;if(k&&a.length>0&&!c.call(a,0))for(var o=0;o<a.length;++o)l.push(String(o));if(g&&a.length>0)for(var p=0;p<a.length;++p)l.push(String(p));else for(var q in a)m&&"prototype"===q||!c.call(a,q)||l.push(String(q));if(h)for(var r=n(a),s=0;s<j.length;++s)r&&"constructor"===j[s]||!c.call(a,j[s])||l.push(j[s]);return l};o.shim=function(){if(Object.keys){var a=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!a){var b=Object.keys;Object.keys=function(a){return b(f(a)?e.call(a):a)}}}else Object.keys=o;return Object.keys||o},b.exports=o},{"./isArguments":50}],50:[function(a,b){"use strict";var c=Object.prototype.toString;b.exports=function(a){var b=c.call(a),d="[object Arguments]"===b;return d||(d="[object Array]"!==b&&null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===c.call(a.callee)),d}},{}],51:[function(a,b){"use strict";var c=a("object-keys");b.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var a={},b=Symbol("test");if("string"==typeof b)return!1;var d=42;a[b]=d;for(b in a)return!1;if(0!==c(a).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(a).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(a).length)return!1;var e=Object.getOwnPropertySymbols(a);if(1!==e.length||e[0]!==b)return!1;if(!Object.prototype.propertyIsEnumerable.call(a,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(a,b);if(f.value!==d||f.enumerable!==!0)return!1}return!0}},{"object-keys":49}],52:[function(a,b){"use strict";var c=a("object-keys"),d=a("function-bind"),e=function(a){return"undefined"!=typeof a&&null!==a},f=a("./hasSymbols")(),g=Object,h=d.call(Function.call,Array.prototype.push),i=d.call(Function.call,Object.prototype.propertyIsEnumerable);b.exports=function(a){if(!e(a))throw new TypeError("target must be an object");var b,d,j,k,l,m,n,o=g(a);for(b=1;b<arguments.length;++b){if(d=g(arguments[b]),k=c(d),f&&Object.getOwnPropertySymbols)for(l=Object.getOwnPropertySymbols(d),j=0;j<l.length;++j)n=l[j],i(d,n)&&h(k,n);for(j=0;j<k.length;++j)n=k[j],m=d[n],i(d,n)&&(o[n]=m)}return o}},{"./hasSymbols":51,"function-bind":6,"object-keys":49}],53:[function(a,b){"use strict";var c=a("define-properties"),d=a("./implementation"),e=a("./polyfill"),f=a("./shim");c(d,{implementation:d,getPolyfill:e,shim:f}),b.exports=d},{"./implementation":52,"./polyfill":54,"./shim":55,"define-properties":2}],54:[function(a,b){"use strict";var c=a("./implementation"),d=function(){if(!Object.assign)return!1;for(var a="abcdefghijklmnopqrst",b=a.split(""),c={},d=0;d<b.length;++d)c[b[d]]=b[d];var e=Object.assign({},c),f="";for(var g in e)f+=g;return a!==f},e=function(){if(!Object.assign||!Object.preventExtensions)return!1;var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch(b){return"y"===a[1]}};b.exports=function(){return Object.assign?d()?c:e()?c:Object.assign:c}},{"./implementation":52}],55:[function(a,b){"use strict";var c=a("define-properties"),d=a("./polyfill");b.exports=function(){var a=d();return c(Object,{assign:a},{assign:function(){return Object.assign!==a}}),a}},{"./polyfill":54,"define-properties":2}],56:[function(a,b){function c(a){var b=!1;return function(){return b?void 0:(b=!0,a.apply(this,arguments))}}b.exports=c,c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0})})},{}],57:[function(a,b){var c=a("trim"),d=a("for-each"),e=function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.exports=function(a){if(!a)return{};var b={};return d(c(a).split("\n"),function(a){var d=a.indexOf(":"),f=c(a.slice(0,d)).toLowerCase(),g=c(a.slice(d+1));"undefined"==typeof b[f]?b[f]=g:e(b[f])?b[f].push(g):b[f]=[b[f],g]}),b}},{"for-each":3,trim:59}],58:[function(a,b){function c(a,b){var c,d=null;try{c=JSON.parse(a,b)}catch(e){d=e}return[d,c]}b.exports=c},{}],59:[function(a,b,c){function d(a){return a.replace(/^\s*|\s*$/g,"")}c=b.exports=d,c.left=function(a){return a.replace(/^\s*/,"")},c.right=function(a){return a.replace(/\s*$/,"")}},{}],60:[function(a,b){function c(a){return a.replace(/\n\r?\s*/g,"")}b.exports=function(a){for(var b="",d=0;d<arguments.length;d++)b+=c(a[d])+(arguments[d+1]||"");return b}},{}],61:[function(a,b){"use strict";function c(a,b){for(var c=0;c<a.length;c++)b(a[c])}function d(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function e(a,b,c){var d=a;return k(b)?(c=b,"string"==typeof a&&(d={uri:a})):d=m(b,{uri:a}),d.callback=c,d}function f(a,b,c){return b=e(a,b,c),g(b)}function g(a){function b(){4===k.readyState&&g()}function c(){var a=void 0;if(k.response?a=k.response:"text"!==k.responseType&&k.responseType||(a=k.responseText||k.responseXML),u)try{a=JSON.parse(a)}catch(b){}return a}function e(a){clearTimeout(o),a instanceof Error||(a=new Error(""+(a||"Unknown XMLHttpRequest Error"))),a.statusCode=0,h(a,i)}function g(){if(!n){var b;clearTimeout(o),b=a.useXDR&&void 0===k.status?200:1223===k.status?204:k.status;var d=i,e=null;0!==b?(d={body:c(),statusCode:b,method:q,headers:{},url:p,rawRequest:k},k.getAllResponseHeaders&&(d.headers=l(k.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),h(e,d,d.body)}}var h=a.callback;if("undefined"==typeof h)throw new Error("callback argument missing");h=j(h);var i={body:void 0,headers:{},statusCode:0,method:q,url:p,rawRequest:k},k=a.xhr||null;k||(k=a.cors||a.useXDR?new f.XDomainRequest:new f.XMLHttpRequest);var m,n,o,p=k.url=a.uri||a.url,q=k.method=a.method||"GET",r=a.body||a.data||null,s=k.headers=a.headers||{},t=!!a.sync,u=!1;if("json"in a&&(u=!0,s.accept||s.Accept||(s.Accept="application/json"),"GET"!==q&&"HEAD"!==q&&(s["content-type"]||s["Content-Type"]||(s["Content-Type"]="application/json"),r=JSON.stringify(a.json))),k.onreadystatechange=b,k.onload=g,k.onerror=e,k.onprogress=function(){},k.ontimeout=e,k.open(q,p,!t,a.username,a.password),t||(k.withCredentials=!!a.withCredentials),!t&&a.timeout>0&&(o=setTimeout(function(){n=!0,k.abort("timeout");var a=new Error("XMLHttpRequest timeout");a.code="ETIMEDOUT",e(a)},a.timeout)),k.setRequestHeader)for(m in s)s.hasOwnProperty(m)&&k.setRequestHeader(m,s[m]);else if(a.headers&&!d(a.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(k.responseType=a.responseType),"beforeSend"in a&&"function"==typeof a.beforeSend&&a.beforeSend(k),k.send(r),k}function h(){}var i=a("global/window"),j=a("once"),k=a("is-function"),l=a("parse-headers"),m=a("xtend");b.exports=f,f.XMLHttpRequest=i.XMLHttpRequest||h,f.XDomainRequest="withCredentials"in new f.XMLHttpRequest?f.XMLHttpRequest:i.XDomainRequest,c(["get","put","post","patch","head","delete"],function(a){f["delete"===a?"del":a]=function(b,c,d){return c=e(b,c,d),c.method=a.toUpperCase(),g(c)}})},{"global/window":8,"is-function":9,once:56,"parse-headers":57,xtend:62}],62:[function(a,b){function c(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var e in c)d.call(c,e)&&(a[e]=c[e])}return a}b.exports=c;var d=Object.prototype.hasOwnProperty},{}],63:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./button.js"),j=d(i),k=a("./component.js"),l=d(k),m=function(a){function b(a,c){return e(this,b),f(this,Object.getPrototypeOf(b).call(this,a,c))}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-big-play-button"}},{key:"handleClick",value:function(){this.player_.play()}}]),b}(j["default"]);m.prototype.controlText_="Play Video",l["default"].registerComponent("BigPlayButton",m),c["default"]=m},{"./button.js":64,"./component.js":67}],64:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function w(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:w(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./clickable-component.js"),l=e(k),m=a("./component"),n=e(m),o=a("./utils/events.js"),p=(d(o),a("./utils/fn.js")),q=(d(p),a("./utils/log.js")),r=e(q),s=a("global/document"),t=(e(s),a("object.assign")),u=e(t),v=function(a){function b(a,c){return f(this,b),g(this,Object.getPrototypeOf(b).call(this,a,c))}return h(b,a),i(b,[{key:"createEl",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];b=u["default"]({className:this.buildCSSClass()},b),"button"!==a&&(r["default"].warn("Creating a Button with an HTML element of "+a+" is deprecated; use ClickableComponent instead."),b=u["default"]({tabIndex:0},b),c=u["default"]({role:"button"},c)),c=u["default"]({type:"button","aria-live":"polite"},c);var d=n["default"].prototype.createEl.call(this,a,b,c);return this.createControlTextEl(d),d}},{key:"addChild",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=this.constructor.name;return r["default"].warn("Adding an actionable (user controllable) child to a Button ("+c+") is not supported; use a ClickableComponent instead."),n["default"].prototype.addChild.call(this,a,b)}},{key:"handleKeyPress",value:function(a){32===a.which||13===a.which||j(Object.getPrototypeOf(b.prototype),"handleKeyPress",this).call(this,a)}}]),b}(l["default"]);n["default"].registerComponent("Button",v),c["default"]=v},{"./clickable-component.js":65,"./component":67,"./utils/events.js":143,"./utils/fn.js":144,"./utils/log.js":147,"global/document":7,"object.assign":53}],65:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function z(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:z(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./component"),l=e(k),m=a("./utils/dom.js"),n=d(m),o=a("./utils/events.js"),p=d(o),q=a("./utils/fn.js"),r=d(q),s=a("./utils/log.js"),t=e(s),u=a("global/document"),v=e(u),w=a("object.assign"),x=e(w),y=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));

return d.emitTapEvents(),d.on("tap",d.handleClick),d.on("click",d.handleClick),d.on("focus",d.handleFocus),d.on("blur",d.handleBlur),d}return h(b,a),i(b,[{key:"createEl",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];c=x["default"]({className:this.buildCSSClass(),tabIndex:0},c),"button"===a&&t["default"].error("Creating a ClickableComponent with an HTML element of "+a+" is not supported; use a Button instead."),d=x["default"]({role:"button","aria-live":"polite"},d);var e=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,a,c,d);return this.createControlTextEl(e),e}},{key:"createControlTextEl",value:function(a){return this.controlTextEl_=n.createEl("span",{className:"vjs-control-text"}),a&&a.appendChild(this.controlTextEl_),this.controlText(this.controlText_,a),this.controlTextEl_}},{key:"controlText",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.el():arguments[1];if(!a)return this.controlText_||"Need Text";var c=this.localize(a);return this.controlText_=a,this.controlTextEl_.innerHTML=c,b.setAttribute("title",c),this}},{key:"buildCSSClass",value:function(){return"vjs-control vjs-button "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"addChild",value:function(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return j(Object.getPrototypeOf(b.prototype),"addChild",this).call(this,a,c)}},{key:"enable",value:function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this}},{key:"disable",value:function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this}},{key:"handleClick",value:function(){}},{key:"handleFocus",value:function(){p.on(v["default"],"keydown",r.bind(this,this.handleKeyPress))}},{key:"handleKeyPress",value:function(a){32===a.which||13===a.which?(a.preventDefault(),this.handleClick(a)):j(Object.getPrototypeOf(b.prototype),"handleKeyPress",this)&&j(Object.getPrototypeOf(b.prototype),"handleKeyPress",this).call(this,a)}},{key:"handleBlur",value:function(){p.off(v["default"],"keydown",r.bind(this,this.handleKeyPress))}}]),b}(l["default"]);l["default"].registerComponent("ClickableComponent",y),c["default"]=y},{"./component":67,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/log.js":147,"global/document":7,"object.assign":53}],66:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("./button"),k=d(j),l=a("./component"),m=d(l),n=function(a){function b(a,c){e(this,b);var d=f(this,Object.getPrototypeOf(b).call(this,a,c));return d.controlText(c&&c.controlText||d.localize("Close")),d}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-close-button "+i(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.trigger({type:"close",bubbles:!1})}}]),b}(k["default"]);m["default"].registerComponent("CloseButton",n),c["default"]=n},{"./button":64,"./component":67}],67:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("global/window"),i=e(h),j=a("./utils/dom.js"),k=d(j),l=a("./utils/fn.js"),m=d(l),n=a("./utils/guid.js"),o=d(n),p=a("./utils/events.js"),q=d(p),r=a("./utils/log.js"),s=e(r),t=a("./utils/to-title-case.js"),u=e(t),v=a("object.assign"),w=e(v),x=a("./utils/merge-options.js"),y=e(x),z=function(){function a(b,c,d){if(f(this,a),this.player_=!b&&this.play?b=this:b,this.options_=y["default"]({},this.options_),c=this.options_=y["default"](this.options_,c),this.id_=c.id||c.el&&c.el.id,!this.id_){var e=b&&b.id&&b.id()||"no_player";this.id_=e+"_component_"+o.newGUID()}this.name_=c.name||null,c.el?this.el_=c.el:c.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},c.initChildren!==!1&&this.initChildren(),this.ready(d),c.reportTouchActivity!==!1&&this.enableTouchActivity()}return g(a,[{key:"dispose",value:function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),k.removeElData(this.el_),this.el_=null}},{key:"player",value:function(){return this.player_}},{key:"options",value:function(a){return s["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),a?(this.options_=y["default"](this.options_,a),this.options_):this.options_}},{key:"el",value:function(){return this.el_}},{key:"createEl",value:function(a,b,c){return k.createEl(a,b,c)}},{key:"localize",value:function(a){var b=this.player_.language&&this.player_.language(),c=this.player_.languages&&this.player_.languages();if(!b||!c)return a;var d=c[b];if(d&&d[a])return d[a];var e=b.split("-")[0],f=c[e];return f&&f[a]?f[a]:a}},{key:"contentEl",value:function(){return this.contentEl_||this.el_}},{key:"id",value:function(){return this.id_}},{key:"name",value:function(){return this.name_}},{key:"children",value:function(){return this.children_}},{key:"getChildById",value:function(a){return this.childIndex_[a]}},{key:"getChild",value:function(a){return this.childNameIndex_[a]}},{key:"addChild",value:function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],e=void 0,f=void 0;if("string"==typeof b){f=b,c||(c={}),c===!0&&(s["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),c={});var g=c.componentClass||u["default"](f);c.name=f;var h=a.getComponent(g);if(!h)throw new Error("Component "+g+" does not exist");if("function"!=typeof h)return null;e=new h(this.player_||this,c)}else e=b;if(this.children_.splice(d,0,e),"function"==typeof e.id&&(this.childIndex_[e.id()]=e),f=f||e.name&&e.name(),f&&(this.childNameIndex_[f]=e),"function"==typeof e.el&&e.el()){var i=this.contentEl().children,j=i[d]||null;this.contentEl().insertBefore(e.el(),j)}return e}},{key:"removeChild",value:function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){this.childIndex_[a.id()]=null,this.childNameIndex_[a.name()]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}}},{key:"initChildren",value:function(){var b=this,c=this.options_.children;c&&!function(){var d=b.options_,e=function(a){var c=a.name,e=a.opts;if(void 0!==d[c]&&(e=d[c]),e!==!1){e===!0&&(e={}),e.playerOptions=b.options_.playerOptions;var f=b.addChild(c,e);f&&(b[c]=f)}},f=void 0,g=a.getComponent("Tech");f=Array.isArray(c)?c:Object.keys(c),f.concat(Object.keys(b.options_).filter(function(a){return!f.some(function(b){return"string"==typeof b?a===b:a===b.name})})).map(function(a){var d=void 0,e=void 0;return"string"==typeof a?(d=a,e=c[d]||b.options_[d]||{}):(d=a.name,e=a),{name:d,opts:e}}).filter(function(b){var c=a.getComponent(b.opts.componentClass||u["default"](b.name));return c&&!g.isTech(c)}).forEach(e)}()}},{key:"buildCSSClass",value:function(){return""}},{key:"on",value:function(a,b,c){var d=this;return"string"==typeof a||Array.isArray(a)?q.on(this.el_,a,m.bind(this,b)):!function(){var e=a,f=b,g=m.bind(d,c),h=function(){return d.off(e,f,g)};h.guid=g.guid,d.on("dispose",h);var i=function(){return d.off("dispose",h)};i.guid=g.guid,a.nodeName?(q.on(e,f,g),q.on(e,"dispose",i)):"function"==typeof a.on&&(e.on(f,g),e.on("dispose",i))}(),this}},{key:"off",value:function(a,b,c){if(!a||"string"==typeof a||Array.isArray(a))q.off(this.el_,a,b);else{var d=a,e=b,f=m.bind(this,c);this.off("dispose",f),a.nodeName?(q.off(d,e,f),q.off(d,"dispose",f)):(d.off(e,f),d.off("dispose",f))}return this}},{key:"one",value:function(a,b,c){var d=this,e=arguments;return"string"==typeof a||Array.isArray(a)?q.one(this.el_,a,m.bind(this,b)):!function(){var f=a,g=b,h=m.bind(d,c),i=function j(){d.off(f,g,j),h.apply(null,e)};i.guid=h.guid,d.on(f,g,i)}(),this}},{key:"trigger",value:function(a,b){return q.trigger(this.el_,a,b),this}},{key:"ready",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return a&&(this.isReady_?b?a.call(this):this.setTimeout(a,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(a))),this}},{key:"triggerReady",value:function(){this.isReady_=!0,this.setTimeout(function(){var a=this.readyQueue_;this.readyQueue_=[],a&&a.length>0&&a.forEach(function(a){a.call(this)},this),this.trigger("ready")},1)}},{key:"$",value:function(a,b){return k.$(a,b||this.contentEl())}},{key:"$$",value:function(a,b){return k.$$(a,b||this.contentEl())}},{key:"hasClass",value:function(a){return k.hasElClass(this.el_,a)}},{key:"addClass",value:function(a){return k.addElClass(this.el_,a),this}},{key:"removeClass",value:function(a){return k.removeElClass(this.el_,a),this}},{key:"toggleClass",value:function(a,b){return k.toggleElClass(this.el_,a,b),this}},{key:"show",value:function(){return this.removeClass("vjs-hidden"),this}},{key:"hide",value:function(){return this.addClass("vjs-hidden"),this}},{key:"lockShowing",value:function(){return this.addClass("vjs-lock-showing"),this}},{key:"unlockShowing",value:function(){return this.removeClass("vjs-lock-showing"),this}},{key:"width",value:function(a,b){return this.dimension("width",a,b)}},{key:"height",value:function(a,b){return this.dimension("height",a,b)}},{key:"dimensions",value:function(a,b){return this.width(a,!0).height(b)}},{key:"dimension",value:function(a,b,c){if(void 0!==b)return(null===b||b!==b)&&(b=0),this.el_.style[a]=-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?b:"auto"===b?"":b+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+u["default"](a)],10)}},{key:"currentDimension",value:function(a){var b=0;if("width"!==a&&"height"!==a)throw new Error("currentDimension only accepts width or height value");if("function"==typeof i["default"].getComputedStyle){var c=i["default"].getComputedStyle(this.el_);b=c.getPropertyValue(a)||c[a]}else if(this.el_.currentStyle){var d="offset"+u["default"](a);b=this.el_[d]}return b=parseFloat(b)}},{key:"currentDimensions",value:function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}},{key:"currentWidth",value:function(){return this.currentDimension("width")}},{key:"currentHeight",value:function(){return this.currentDimension("height")}},{key:"emitTapEvents",value:function(){var a=0,b=null,c=10,d=200,e=void 0;this.on("touchstart",function(c){1===c.touches.length&&(b=w["default"]({},c.touches[0]),a=(new Date).getTime(),e=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)e=!1;else if(b){var d=a.touches[0].pageX-b.pageX,f=a.touches[0].pageY-b.pageY,g=Math.sqrt(d*d+f*f);g>c&&(e=!1)}});var f=function(){e=!1};this.on("touchleave",f),this.on("touchcancel",f),this.on("touchend",function(c){if(b=null,e===!0){var f=(new Date).getTime()-a;d>f&&(c.preventDefault(),this.trigger("tap"))}})}},{key:"enableTouchActivity",value:function(){if(this.player()&&this.player().reportUserActivity){var a=m.bind(this.player(),this.player().reportUserActivity),b=void 0;this.on("touchstart",function(){a(),this.clearInterval(b),b=this.setInterval(a,250)});var c=function(){a(),this.clearInterval(b)};this.on("touchmove",a),this.on("touchend",c),this.on("touchcancel",c)}}},{key:"setTimeout",value:function(a,b){a=m.bind(this,a);var c=i["default"].setTimeout(a,b),d=function(){this.clearTimeout(c)};return d.guid="vjs-timeout-"+c,this.on("dispose",d),c}},{key:"clearTimeout",value:function(a){i["default"].clearTimeout(a);var b=function(){};return b.guid="vjs-timeout-"+a,this.off("dispose",b),a}},{key:"setInterval",value:function(a,b){a=m.bind(this,a);var c=i["default"].setInterval(a,b),d=function(){this.clearInterval(c)};return d.guid="vjs-interval-"+c,this.on("dispose",d),c}},{key:"clearInterval",value:function(a){i["default"].clearInterval(a);var b=function(){};return b.guid="vjs-interval-"+a,this.off("dispose",b),a}}],[{key:"registerComponent",value:function(b,c){return a.components_||(a.components_={}),a.components_[b]=c,c}},{key:"getComponent",value:function(b){return a.components_&&a.components_[b]?a.components_[b]:i["default"]&&i["default"].videojs&&i["default"].videojs[b]?(s["default"].warn("The "+b+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),i["default"].videojs[b]):void 0}},{key:"extend",value:function(b){b=b||{},s["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var c=b.init||b.init||this.prototype.init||this.prototype.init||function(){},d=function(){c.apply(this,arguments)};d.prototype=Object.create(this.prototype),d.prototype.constructor=d,d.extend=a.extend;for(var e in b)b.hasOwnProperty(e)&&(d.prototype[e]=b[e]);return d}}]),a}();z.registerComponent("Component",z),c["default"]=z},{"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/guid.js":146,"./utils/log.js":147,"./utils/merge-options.js":148,"./utils/to-title-case.js":151,"global/window":8,"object.assign":53}],68:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../track-button.js"),l=e(k),m=a("../../component.js"),n=e(m),o=a("../../utils/fn.js"),p=(d(o),a("./audio-track-menu-item.js")),q=e(p),r=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];f(this,b),c.tracks=a.audioTracks&&a.audioTracks();var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.el_.setAttribute("aria-label","Audio Menu"),d}return h(b,a),i(b,[{key:"buildCSSClass",value:function(){return"vjs-audio-button "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"createItems",value:function(){var a=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],b=this.player_.audioTracks&&this.player_.audioTracks();if(!b)return a;for(var c=0;c<b.length;c++){var d=b[c];a.push(new q["default"](this.player_,{selectable:!0,track:d}))}return a}}]),b}(l["default"]);n["default"].registerComponent("AudioTrackButton",r),c["default"]=r},{"../../component.js":67,"../../utils/fn.js":144,"../track-button.js":98,"./audio-track-menu-item.js":69}],69:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../menu/menu-item.js"),l=e(k),m=a("../../component.js"),n=e(m),o=a("../../utils/fn.js"),p=d(o),q=function(a){function b(a,c){f(this,b);var d=c.track,e=a.audioTracks();c.label=d.label||d.language||"Unknown",c.selected=d.enabled;var h=g(this,Object.getPrototypeOf(b).call(this,a,c));return h.track=d,e&&!function(){var a=p.bind(h,h.handleTracksChange);e.addEventListener("change",a),h.on("dispose",function(){e.removeEventListener("change",a)})}(),h}return h(b,a),i(b,[{key:"handleClick",value:function(a){var c=this.player_.audioTracks();if(j(Object.getPrototypeOf(b.prototype),"handleClick",this).call(this,a),c)for(var d=0;d<c.length;d++){var e=c[d];e===this.track&&(e.enabled=!0)}}},{key:"handleTracksChange",value:function(){this.selected(this.track.enabled)}}]),b}(l["default"]);n["default"].registerComponent("AudioTrackMenuItem",q),c["default"]=q},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144}],70:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function E(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:E(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../component.js"),k=d(j),l=a("./play-toggle.js"),m=(d(l),a("./time-controls/current-time-display.js")),n=(d(m),a("./time-controls/duration-display.js")),o=(d(n),a("./time-controls/time-divider.js")),p=(d(o),a("./time-controls/remaining-time-display.js")),q=(d(p),a("./live-display.js")),r=(d(q),a("./progress-control/progress-control.js")),s=(d(r),a("./fullscreen-toggle.js")),t=(d(s),a("./volume-control/volume-control.js")),u=(d(t),a("./volume-menu-button.js")),v=(d(u),a("./mute-toggle.js")),w=(d(v),a("./text-track-controls/chapters-button.js")),x=(d(w),a("./text-track-controls/descriptions-button.js")),y=(d(x),a("./text-track-controls/subtitles-button.js")),z=(d(y),a("./text-track-controls/captions-button.js")),A=(d(z),a("./audio-track-controls/audio-track-button.js")),B=(d(A),a("./playback-rate-menu/playback-rate-menu-button.js")),C=(d(B),a("./spacer-controls/custom-control-spacer.js")),D=(d(C),function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"createEl",value:function(){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})}}]),b}(k["default"]));D.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},k["default"].registerComponent("ControlBar",D),c["default"]=D},{"../component.js":67,"./audio-track-controls/audio-track-button.js":68,"./fullscreen-toggle.js":71,"./live-display.js":72,"./mute-toggle.js":73,"./play-toggle.js":74,"./playback-rate-menu/playback-rate-menu-button.js":75,"./progress-control/progress-control.js":80,"./spacer-controls/custom-control-spacer.js":83,"./text-track-controls/captions-button.js":86,"./text-track-controls/chapters-button.js":87,"./text-track-controls/descriptions-button.js":89,"./text-track-controls/subtitles-button.js":91,"./time-controls/current-time-display.js":94,"./time-controls/duration-display.js":95,"./time-controls/remaining-time-display.js":96,"./time-controls/time-divider.js":97,"./volume-control/volume-control.js":100,"./volume-menu-button.js":102}],71:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../button.js"),k=d(j),l=a("../component.js"),m=d(l),n=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-fullscreen-control "+i(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText("Fullscreen")):(this.player_.requestFullscreen(),this.controlText("Non-Fullscreen"))}}]),b}(k["default"]);n.prototype.controlText_="Fullscreen",m["default"].registerComponent("FullscreenToggle",n),c["default"]=n},{"../button.js":64,"../component.js":67}],72:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function p(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:p(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../component"),l=e(k),m=a("../utils/dom.js"),n=d(m),o=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.updateShowing(),d.on(d.player(),"durationchange",d.updateShowing),d}return h(b,a),i(b,[{key:"createEl",value:function(){var a=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=n.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),a.appendChild(this.contentEl_),a}},{key:"updateShowing",value:function(){this.player().duration()===1/0?this.show():this.hide()}}]),b}(l["default"]);l["default"].registerComponent("LiveDisplay",o),c["default"]=o},{"../component":67,"../utils/dom.js":142}],73:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../button"),l=e(k),m=a("../component"),n=e(m),o=a("../utils/dom.js"),p=d(o),q=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"volumechange",d.update),a.tech_&&a.tech_.featuresVolumeControl===!1&&d.addClass("vjs-hidden"),d.on(a,"loadstart",function(){this.update(),a.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),d}return h(b,a),i(b,[{key:"buildCSSClass",value:function(){return"vjs-mute-control "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.player_.muted(this.player_.muted()?!1:!0)}},{key:"update",value:function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:.33>a?b=1:.67>a&&(b=2);var c=this.player_.muted()?"Unmute":"Mute";this.controlText()!==c&&this.controlText(c);for(var d=0;4>d;d++)p.removeElClass(this.el_,"vjs-vol-"+d);p.addElClass(this.el_,"vjs-vol-"+b)}}]),b}(l["default"]);q.prototype.controlText_="Mute",n["default"].registerComponent("MuteToggle",q),c["default"]=q},{"../button":64,"../component":67,"../utils/dom.js":142}],74:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../button.js"),k=d(j),l=a("../component.js"),m=d(l),n=function(a){function b(a,c){e(this,b);var d=f(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"play",d.handlePlay),d.on(a,"pause",d.handlePause),d}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-play-control "+i(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.player_.paused()?this.player_.play():this.player_.pause()}},{key:"handlePlay",value:function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")}},{key:"handlePause",value:function(){this.removeClass("vjs-playing"),
this.addClass("vjs-paused"),this.controlText("Play")}}]),b}(k["default"]);n.prototype.controlText_="Play",m["default"].registerComponent("PlayToggle",n),c["default"]=n},{"../button.js":64,"../component.js":67}],75:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function v(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:v(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../menu/menu-button.js"),l=e(k),m=a("../../menu/menu.js"),n=e(m),o=a("./playback-rate-menu-item.js"),p=e(o),q=a("../../component.js"),r=e(q),s=a("../../utils/dom.js"),t=d(s),u=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.updateVisibility(),d.updateLabel(),d.on(a,"loadstart",d.updateVisibility),d.on(a,"ratechange",d.updateLabel),d}return h(b,a),i(b,[{key:"createEl",value:function(){var a=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this);return this.labelEl_=t.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),a.appendChild(this.labelEl_),a}},{key:"buildCSSClass",value:function(){return"vjs-playback-rate "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"createMenu",value:function(){var a=new n["default"](this.player()),b=this.playbackRates();if(b)for(var c=b.length-1;c>=0;c--)a.addChild(new p["default"](this.player(),{rate:b[c]+"x"}));return a}},{key:"updateARIAAttributes",value:function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())}},{key:"handleClick",value:function(){for(var a=this.player().playbackRate(),b=this.playbackRates(),c=b[0],d=0;d<b.length;d++)if(b[d]>a){c=b[d];break}this.player().playbackRate(c)}},{key:"playbackRates",value:function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates}},{key:"playbackRateSupported",value:function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}},{key:"updateVisibility",value:function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}},{key:"updateLabel",value:function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")}}]),b}(l["default"]);u.prototype.controlText_="Playback Rate",r["default"].registerComponent("PlaybackRateMenuButton",u),c["default"]=u},{"../../component.js":67,"../../menu/menu-button.js":109,"../../menu/menu.js":111,"../../utils/dom.js":142,"./playback-rate-menu-item.js":76}],76:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../../menu/menu-item.js"),k=d(j),l=a("../../component.js"),m=d(l),n=function(a){function b(a,c){e(this,b);var d=c.rate,g=parseFloat(d,10);c.label=d,c.selected=1===g;var h=f(this,Object.getPrototypeOf(b).call(this,a,c));return h.label=d,h.rate=g,h.on(a,"ratechange",h.update),h}return g(b,a),h(b,[{key:"handleClick",value:function(){i(Object.getPrototypeOf(b.prototype),"handleClick",this).call(this),this.player().playbackRate(this.rate)}},{key:"update",value:function(){this.selected(this.player().playbackRate()===this.rate)}}]),b}(k["default"]);n.prototype.contentElType="button",m["default"].registerComponent("PlaybackRateMenuItem",n),c["default"]=n},{"../../component.js":67,"../../menu/menu-item.js":110}],77:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function p(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:p(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../component.js"),l=e(k),m=a("../../utils/dom.js"),n=d(m),o=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"progress",d.update),d}return h(b,a),i(b,[{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})}},{key:"update",value:function(){var a=this.player_.buffered(),b=this.player_.duration(),c=this.player_.bufferedEnd(),d=this.el_.children,e=function(a,b){var c=a/b||0;return 100*(c>=1?1:c)+"%"};this.el_.style.width=e(c,b);for(var f=0;f<a.length;f++){var g=a.start(f),h=a.end(f),i=d[f];i||(i=this.el_.appendChild(n.createEl())),i.style.left=e(g,c),i.style.width=e(h-g,c)}for(var j=d.length;j>a.length;j--)this.el_.removeChild(d[j-1])}}]),b}(l["default"]);l["default"].registerComponent("LoadProgressBar",o),c["default"]=o},{"../../component.js":67,"../../utils/dom.js":142}],78:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function x(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:x(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("global/window"),l=e(k),m=a("../../component.js"),n=e(m),o=a("../../utils/dom.js"),p=d(o),q=a("../../utils/fn.js"),r=d(q),s=a("../../utils/format-time.js"),t=e(s),u=a("lodash-compat/function/throttle"),v=e(u),w=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return c.playerOptions&&c.playerOptions.controlBar&&c.playerOptions.controlBar.progressControl&&c.playerOptions.controlBar.progressControl.keepTooltipsInside&&(d.keepTooltipsInside=c.playerOptions.controlBar.progressControl.keepTooltipsInside),d.keepTooltipsInside&&(d.tooltip=p.createEl("div",{className:"vjs-time-tooltip"}),d.el().appendChild(d.tooltip),d.addClass("vjs-keep-tooltips-inside")),d.update(0,0),a.on("ready",function(){d.on(a.controlBar.progressControl.el(),"mousemove",v["default"](r.bind(d,d.handleMouseMove),25))}),d}return h(b,a),i(b,[{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-mouse-display"})}},{key:"handleMouseMove",value:function(a){var b=this.player_.duration(),c=this.calculateDistance(a)*b,d=a.pageX-p.findElPosition(this.el().parentNode).left;this.update(c,d)}},{key:"update",value:function(a,b){var c=t["default"](a,this.player_.duration());if(this.el().style.left=b+"px",this.el().setAttribute("data-current-time",c),this.keepTooltipsInside){var d=this.clampPosition_(b),e=b-d+1,f=parseFloat(l["default"].getComputedStyle(this.tooltip).width),g=f/2;this.tooltip.innerHTML=c,this.tooltip.style.right="-"+(g-e)+"px"}}},{key:"calculateDistance",value:function(a){return p.getPointerPosition(this.el().parentNode,a).x}},{key:"clampPosition_",value:function(a){if(!this.keepTooltipsInside)return a;var b=parseFloat(l["default"].getComputedStyle(this.player().el()).width),c=parseFloat(l["default"].getComputedStyle(this.tooltip).width),d=c/2,e=a;return d>a?e=Math.ceil(d):a>b-d&&(e=Math.floor(b-d)),e}}]),b}(n["default"]);n["default"].registerComponent("MouseTimeDisplay",w),c["default"]=w},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145,"global/window":8,"lodash-compat/function/throttle":13}],79:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../component.js"),l=e(k),m=a("../../utils/fn.js"),n=d(m),o=a("../../utils/dom.js"),p=(d(o),a("../../utils/format-time.js")),q=e(p),r=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.updateDataAttr(),d.on(a,"timeupdate",d.updateDataAttr),a.ready(n.bind(d,d.updateDataAttr)),c.playerOptions&&c.playerOptions.controlBar&&c.playerOptions.controlBar.progressControl&&c.playerOptions.controlBar.progressControl.keepTooltipsInside&&(d.keepTooltipsInside=c.playerOptions.controlBar.progressControl.keepTooltipsInside),d.keepTooltipsInside&&d.addClass("vjs-keep-tooltips-inside"),d}return h(b,a),i(b,[{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})}},{key:"updateDataAttr",value:function(){var a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",q["default"](a,this.player_.duration()))}}]),b}(l["default"]);l["default"].registerComponent("PlayProgressBar",r),c["default"]=r},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145}],80:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../../component.js"),k=d(j),l=a("./seek-bar.js"),m=(d(l),a("./mouse-time-display.js")),n=(d(m),function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"createEl",value:function(){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-control vjs-control"})}}]),b}(k["default"]));n.prototype.options_={children:["seekBar"]},k["default"].registerComponent("ProgressControl",n),c["default"]=n},{"../../component.js":67,"./mouse-time-display.js":78,"./seek-bar.js":81}],81:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function z(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:z(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("global/window"),l=e(k),m=a("../../slider/slider.js"),n=e(m),o=a("../../component.js"),p=e(o),q=a("./load-progress-bar.js"),r=(e(q),a("./play-progress-bar.js")),s=(e(r),a("./tooltip-progress-bar.js")),t=(e(s),a("../../utils/fn.js")),u=d(t),v=a("../../utils/format-time.js"),w=e(v),x=a("object.assign"),y=(e(x),function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"timeupdate",d.updateProgress),d.on(a,"ended",d.updateProgress),a.ready(u.bind(d,d.updateProgress)),c.playerOptions&&c.playerOptions.controlBar&&c.playerOptions.controlBar.progressControl&&c.playerOptions.controlBar.progressControl.keepTooltipsInside&&(d.keepTooltipsInside=c.playerOptions.controlBar.progressControl.keepTooltipsInside),d.keepTooltipsInside&&(d.tooltipProgressBar=d.addChild("TooltipProgressBar")),d}return h(b,a),i(b,[{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})}},{key:"updateProgress",value:function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var a=parseFloat(l["default"].getComputedStyle(this.player().el()).width),b=parseFloat(l["default"].getComputedStyle(this.tooltipProgressBar.tooltip).width),c=this.tooltipProgressBar.el().style;c.maxWidth=Math.floor(a-b/2)+"px",c.minWidth=Math.ceil(b/2)+"px",c.right="-"+b/2+"px"}}},{key:"updateAriaAttributes",value:function(a){var b=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),a.setAttribute("aria-valuetext",w["default"](b,this.player_.duration()))}},{key:"getPercent",value:function(){var a=this.player_.currentTime()/this.player_.duration();return a>=1?1:a}},{key:"handleMouseDown",value:function(a){j(Object.getPrototypeOf(b.prototype),"handleMouseDown",this).call(this,a),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()}},{key:"handleMouseMove",value:function(a){var b=this.calculateDistance(a)*this.player_.duration();b===this.player_.duration()&&(b-=.1),this.player_.currentTime(b)}},{key:"handleMouseUp",value:function(a){j(Object.getPrototypeOf(b.prototype),"handleMouseUp",this).call(this,a),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()}},{key:"stepForward",value:function(){this.player_.currentTime(this.player_.currentTime()+5)}},{key:"stepBack",value:function(){this.player_.currentTime(this.player_.currentTime()-5)}}]),b}(n["default"]));y.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},y.prototype.playerEvent="timeupdate",p["default"].registerComponent("SeekBar",y),c["default"]=y},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":144,"../../utils/format-time.js":145,"./load-progress-bar.js":77,"./play-progress-bar.js":79,"./tooltip-progress-bar.js":82,"global/window":8,"object.assign":53}],82:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../component.js"),l=e(k),m=a("../../utils/fn.js"),n=d(m),o=a("../../utils/dom.js"),p=(d(o),a("../../utils/format-time.js")),q=e(p),r=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.updateDataAttr(),d.on(a,"timeupdate",d.updateDataAttr),a.ready(n.bind(d,d.updateDataAttr)),d}return h(b,a),i(b,[{key:"createEl",value:function(){var a=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=a.querySelector(".vjs-time-tooltip"),a}},{key:"updateDataAttr",value:function(){var a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),b=q["default"](a,this.player_.duration());this.el_.setAttribute("data-current-time",b),this.tooltip.innerHTML=b}}]),b}(l["default"]);l["default"].registerComponent("TooltipProgressBar",r),c["default"]=r},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145}],83:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("./spacer.js"),k=d(j),l=a("../../component.js"),m=d(l),n=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-custom-control-spacer "+i(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"createEl",value:function(){var a=i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,{className:this.buildCSSClass()});return a.innerHTML="&nbsp;",a}}]),b}(k["default"]);m["default"].registerComponent("CustomControlSpacer",n),c["default"]=n},{"../../component.js":67,"./spacer.js":84}],84:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../../component.js"),k=d(j),l=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-spacer "+i(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"createEl",value:function(){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}}]),b}(k["default"]);k["default"].registerComponent("Spacer",l),c["default"]=l},{"../../component.js":67}],85:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./text-track-menu-item.js"),j=d(i),k=a("../../component.js"),l=d(k),m=function(a){function b(a,c){e(this,b),c.track={kind:c.kind,player:a,label:c.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},c.selectable=!1;var d=f(this,Object.getPrototypeOf(b).call(this,a,c));return d.addClass("vjs-texttrack-settings"),d.controlText(", opens "+c.kind+" settings dialog"),d}return g(b,a),h(b,[{key:"handleClick",value:function(){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()}}]),b}(j["default"]);l["default"].registerComponent("CaptionSettingsMenuItem",m),c["default"]=m},{"../../component.js":67,"./text-track-menu-item.js":93}],86:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("./text-track-button.js"),k=d(j),l=a("../../component.js"),m=d(l),n=a("./caption-settings-menu-item.js"),o=d(n),p=function(a){function b(a,c,d){e(this,b);var g=f(this,Object.getPrototypeOf(b).call(this,a,c,d));return g.el_.setAttribute("aria-label","Captions Menu"),g}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-captions-button "+i(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"update",value:function(){var a=2;i(Object.getPrototypeOf(b.prototype),"update",this).call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(a=1),this.items&&this.items.length>a?this.show():this.hide()}},{key:"createItems",value:function(){var a=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||a.push(new o["default"](this.player_,{kind:this.kind_})),i(Object.getPrototypeOf(b.prototype),"createItems",this).call(this,a)}}]),b}(k["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",m["default"].registerComponent("CaptionsButton",p),c["default"]=p},{"../../component.js":67,"./caption-settings-menu-item.js":85,"./text-track-button.js":92}],87:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function B(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:B(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c);

},k=a("./text-track-button.js"),l=e(k),m=a("../../component.js"),n=e(m),o=a("./text-track-menu-item.js"),p=e(o),q=a("./chapters-track-menu-item.js"),r=e(q),s=a("../../menu/menu.js"),t=e(s),u=a("../../utils/dom.js"),v=d(u),w=a("../../utils/fn.js"),x=(d(w),a("../../utils/to-title-case.js")),y=e(x),z=a("global/window"),A=(e(z),function(a){function b(a,c,d){f(this,b);var e=g(this,Object.getPrototypeOf(b).call(this,a,c,d));return e.el_.setAttribute("aria-label","Chapters Menu"),e}return h(b,a),i(b,[{key:"buildCSSClass",value:function(){return"vjs-chapters-button "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"createItems",value:function(){var a=[],b=this.player_.textTracks();if(!b)return a;for(var c=0;c<b.length;c++){var d=b[c];d.kind===this.kind_&&a.push(new p["default"](this.player_,{track:d}))}return a}},{key:"createMenu",value:function(){for(var a=this,b=this.player_.textTracks()||[],c=void 0,d=this.items||[],e=b.length-1;e>=0;e--){var f=b[e];if(f.kind===this.kind_){c=f;break}}var g=this.menu;if(void 0===g){g=new t["default"](this.player_);var h=v.createEl("li",{className:"vjs-menu-title",innerHTML:y["default"](this.kind_),tabIndex:-1});g.children_.unshift(h),v.insertElFirst(h,g.contentEl())}else d.forEach(function(a){return g.removeChild(a)}),d=[];if(c&&null==c.cues){c.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(c);i&&i.addEventListener("load",function(){return a.update()})}if(c&&c.cues&&c.cues.length>0)for(var j=c.cues,k=void 0,l=0,m=j.length;m>l;l++){k=j[l];var n=new r["default"](this.player_,{track:c,cue:k});d.push(n),g.addChild(n)}return d.length>0&&this.show(),this.items=d,g}}]),b}(l["default"]));A.prototype.kind_="chapters",A.prototype.controlText_="Chapters",n["default"].registerComponent("ChaptersButton",A),c["default"]=A},{"../../component.js":67,"../../menu/menu.js":111,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/to-title-case.js":151,"./chapters-track-menu-item.js":88,"./text-track-button.js":92,"./text-track-menu-item.js":93,"global/window":8}],88:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../menu/menu-item.js"),l=e(k),m=a("../../component.js"),n=e(m),o=a("../../utils/fn.js"),p=d(o),q=function(a){function b(a,c){f(this,b);var d=c.track,e=c.cue,h=a.currentTime();c.label=e.text,c.selected=e.startTime<=h&&h<e.endTime;var i=g(this,Object.getPrototypeOf(b).call(this,a,c));return i.track=d,i.cue=e,d.addEventListener("cuechange",p.bind(i,i.update)),i}return h(b,a),i(b,[{key:"handleClick",value:function(){j(Object.getPrototypeOf(b.prototype),"handleClick",this).call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)}},{key:"update",value:function(){var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)}}]),b}(l["default"]);n["default"].registerComponent("ChaptersTrackMenuItem",q),c["default"]=q},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144}],89:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./text-track-button.js"),l=e(k),m=a("../../component.js"),n=e(m),o=a("../../utils/fn.js"),p=d(o),q=function(a){function b(a,c,d){f(this,b);var e=g(this,Object.getPrototypeOf(b).call(this,a,c,d));e.el_.setAttribute("aria-label","Descriptions Menu");var h=a.textTracks();return h&&!function(){var a=p.bind(e,e.handleTracksChange);h.addEventListener("change",a),e.on("dispose",function(){h.removeEventListener("change",a)})}(),e}return h(b,a),i(b,[{key:"handleTracksChange",value:function(){for(var a=this.player().textTracks(),b=!1,c=0,d=a.length;d>c;c++){var e=a[c];if(e.kind!==this.kind_&&"showing"===e.mode){b=!0;break}}b?this.disable():this.enable()}},{key:"buildCSSClass",value:function(){return"vjs-descriptions-button "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}}]),b}(l["default"]);q.prototype.kind_="descriptions",q.prototype.controlText_="Descriptions",n["default"].registerComponent("DescriptionsButton",q),c["default"]=q},{"../../component.js":67,"../../utils/fn.js":144,"./text-track-button.js":92}],90:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./text-track-menu-item.js"),j=d(i),k=a("../../component.js"),l=d(k),m=function(a){function b(a,c){e(this,b),c.track={kind:c.kind,player:a,label:c.kind+" off","default":!1,mode:"disabled"},c.selectable=!0;var d=f(this,Object.getPrototypeOf(b).call(this,a,c));return d.selected(!0),d}return g(b,a),h(b,[{key:"handleTracksChange",value:function(){for(var a=this.player().textTracks(),b=!0,c=0,d=a.length;d>c;c++){var e=a[c];if(e.kind===this.track.kind&&"showing"===e.mode){b=!1;break}}this.selected(b)}}]),b}(j["default"]);l["default"].registerComponent("OffTextTrackMenuItem",m),c["default"]=m},{"../../component.js":67,"./text-track-menu-item.js":93}],91:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function o(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:o(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("./text-track-button.js"),k=d(j),l=a("../../component.js"),m=d(l),n=function(a){function b(a,c,d){e(this,b);var g=f(this,Object.getPrototypeOf(b).call(this,a,c,d));return g.el_.setAttribute("aria-label","Subtitles Menu"),g}return g(b,a),h(b,[{key:"buildCSSClass",value:function(){return"vjs-subtitles-button "+i(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}}]),b}(k["default"]);n.prototype.kind_="subtitles",n.prototype.controlText_="Subtitles",m["default"].registerComponent("SubtitlesButton",n),c["default"]=n},{"../../component.js":67,"./text-track-button.js":92}],92:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("../track-button.js"),k=e(j),l=a("../../component.js"),m=e(l),n=a("../../utils/fn.js"),o=(d(n),a("./text-track-menu-item.js")),p=e(o),q=a("./off-text-track-menu-item.js"),r=e(q),s=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return f(this,b),c.tracks=a.textTracks(),g(this,Object.getPrototypeOf(b).call(this,a,c))}return h(b,a),i(b,[{key:"createItems",value:function(){var a=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];a.push(new r["default"](this.player_,{kind:this.kind_}));var b=this.player_.textTracks();if(!b)return a;for(var c=0;c<b.length;c++){var d=b[c];d.kind===this.kind_&&a.push(new p["default"](this.player_,{selectable:!0,track:d}))}return a}}]),b}(k["default"]);m["default"].registerComponent("TextTrackButton",s),c["default"]=s},{"../../component.js":67,"../../utils/fn.js":144,"../track-button.js":98,"./off-text-track-menu-item.js":90,"./text-track-menu-item.js":93}],93:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function w(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:w(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},l=a("../../menu/menu-item.js"),m=e(l),n=a("../../component.js"),o=e(n),p=a("../../utils/fn.js"),q=d(p),r=a("global/window"),s=e(r),t=a("global/document"),u=e(t),v=function(a){function b(a,c){f(this,b);var d=c.track,e=a.textTracks();c.label=d.label||d.language||"Unknown",c.selected=d["default"]||"showing"===d.mode;var h=g(this,Object.getPrototypeOf(b).call(this,a,c));return h.track=d,e&&!function(){var a=q.bind(h,h.handleTracksChange);e.addEventListener("change",a),h.on("dispose",function(){e.removeEventListener("change",a)})}(),e&&void 0===e.onchange&&!function(){var a=void 0;h.on(["tap","click"],function(){if("object"!==i(s["default"].Event))try{a=new s["default"].Event("change")}catch(b){}a||(a=u["default"].createEvent("Event"),a.initEvent("change",!0,!0)),e.dispatchEvent(a)})}(),h}return h(b,a),j(b,[{key:"handleClick",value:function(a){var c=this.track.kind,d=this.player_.textTracks();if(k(Object.getPrototypeOf(b.prototype),"handleClick",this).call(this,a),d)for(var e=0;e<d.length;e++){var f=d[e];f.kind===c&&(f.mode=f===this.track?"showing":"disabled")}}},{key:"handleTracksChange",value:function(){this.selected("showing"===this.track.mode)}}]),b}(m["default"]);o["default"].registerComponent("TextTrackMenuItem",v),c["default"]=v},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144,"global/document":7,"global/window":8}],94:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../component.js"),l=e(k),m=a("../../utils/dom.js"),n=d(m),o=a("../../utils/format-time.js"),p=e(o),q=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"timeupdate",d.updateContent),d}return h(b,a),i(b,[{key:"createEl",value:function(){var a=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=n.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),a.appendChild(this.contentEl_),a}},{key:"updateContent",value:function(){var a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),b=this.localize("Current Time"),c=p["default"](a,this.player_.duration());c!==this.formattedTime_&&(this.formattedTime_=c,this.contentEl_.innerHTML='<span class="vjs-control-text">'+b+"</span> "+c)}}]),b}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",q),c["default"]=q},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],95:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../component.js"),l=e(k),m=a("../../utils/dom.js"),n=d(m),o=a("../../utils/format-time.js"),p=e(o),q=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"timeupdate",d.updateContent),d.on(a,"loadedmetadata",d.updateContent),d}return h(b,a),i(b,[{key:"createEl",value:function(){var a=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=n.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),a.appendChild(this.contentEl_),a}},{key:"updateContent",value:function(){var a=this.player_.duration();if(a&&this.duration_!==a){this.duration_=a;var b=this.localize("Duration Time"),c=p["default"](a);this.contentEl_.innerHTML='<span class="vjs-control-text">'+b+"</span> "+c}}}]),b}(l["default"]);l["default"].registerComponent("DurationDisplay",q),c["default"]=q},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],96:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../component.js"),l=e(k),m=a("../../utils/dom.js"),n=d(m),o=a("../../utils/format-time.js"),p=e(o),q=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"timeupdate",d.updateContent),d}return h(b,a),i(b,[{key:"createEl",value:function(){var a=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=n.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),a.appendChild(this.contentEl_),a}},{key:"updateContent",value:function(){if(this.player_.duration()){var a=this.localize("Remaining Time"),b=p["default"](this.player_.remainingTime());b!==this.formattedTime_&&(this.formattedTime_=b,this.contentEl_.innerHTML='<span class="vjs-control-text">'+a+"</span> -"+b)}}}]),b}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",q),c["default"]=q},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],97:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../../component.js"),k=d(j),l=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"createEl",value:function(){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}}]),b}(k["default"]);k["default"].registerComponent("TimeDivider",l),c["default"]=l},{"../../component.js":67}],98:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=a("../menu/menu-button.js"),j=e(i),k=a("../component.js"),l=e(k),m=a("../utils/fn.js"),n=d(m),o=function(a){function b(a,c){f(this,b);var d=c.tracks,e=g(this,Object.getPrototypeOf(b).call(this,a,c));if(e.items.length<=1&&e.hide(),!d)return g(e);var h=n.bind(e,e.update);return d.addEventListener("removetrack",h),d.addEventListener("addtrack",h),e.player_.on("dispose",function(){d.removeEventListener("removetrack",h),d.removeEventListener("addtrack",h)}),e}return h(b,a),b}(j["default"]);l["default"].registerComponent("TrackButton",o),c["default"]=o},{"../component.js":67,"../menu/menu-button.js":109,"../utils/fn.js":144}],99:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../../slider/slider.js"),l=e(k),m=a("../../component.js"),n=e(m),o=a("../../utils/fn.js"),p=d(o),q=a("./volume-level.js"),r=(e(q),function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"volumechange",d.updateARIAAttributes),a.ready(p.bind(d,d.updateARIAAttributes)),d}return h(b,a),i(b,[{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})}},{key:"handleMouseMove",value:function(a){this.checkMuted(),this.player_.volume(this.calculateDistance(a))}},{key:"checkMuted",value:function(){this.player_.muted()&&this.player_.muted(!1)}},{key:"getPercent",value:function(){return this.player_.muted()?0:this.player_.volume()}},{key:"stepForward",value:function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}},{key:"stepBack",value:function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}},{key:"updateARIAAttributes",value:function(){var a=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")}}]),b}(l["default"]));r.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},r.prototype.playerEvent="volumechange",n["default"].registerComponent("VolumeBar",r),c["default"]=r},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":144,"./volume-level.js":101}],100:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function n(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:n(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../../component.js"),k=d(j),l=a("./volume-bar.js"),m=(d(l),function(a){function b(a,c){e(this,b);var d=f(this,Object.getPrototypeOf(b).call(this,a,c));return a.tech_&&a.tech_.featuresVolumeControl===!1&&d.addClass("vjs-hidden"),d.on(a,"loadstart",function(){a.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),d}return g(b,a),h(b,[{key:"createEl",value:function(){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-control vjs-control"})}}]),b}(k["default"]));m.prototype.options_={children:["volumeBar"]},k["default"].registerComponent("VolumeControl",m),c["default"]=m},{"../../component.js":67,"./volume-bar.js":99}],101:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../../component.js"),k=d(j),l=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"createEl",value:function(){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{
className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}}]),b}(k["default"]);k["default"].registerComponent("VolumeLevel",l),c["default"]=l},{"../../component.js":67}],102:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function x(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:x(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../utils/fn.js"),l=e(k),m=a("../component.js"),n=d(m),o=a("../popup/popup.js"),p=d(o),q=a("../popup/popup-button.js"),r=d(q),s=a("./mute-toggle.js"),t=d(s),u=a("./volume-control/volume-bar.js"),v=d(u),w=function(a){function b(a){function c(){a.tech_&&a.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];f(this,b),void 0===d.inline&&(d.inline=!0),void 0===d.vertical&&(d.vertical=d.inline?!1:!0),d.volumeBar=d.volumeBar||{},d.volumeBar.vertical=!!d.vertical;var e=g(this,Object.getPrototypeOf(b).call(this,a,d));return e.on(a,"volumechange",e.volumeUpdate),e.on(a,"loadstart",e.volumeUpdate),c.call(e),e.on(a,"loadstart",c),e.on(e.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),e.on(e.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),e.on(e.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),e.on(e.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),e}return h(b,a),i(b,[{key:"buildCSSClass",value:function(){var a="";return a=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)+" "+a}},{key:"createPopup",value:function(){var a=new p["default"](this.player_,{contentElType:"div"}),b=new v["default"](this.player_,this.options_.volumeBar);return a.addChild(b),this.menuContent=a,this.volumeBar=b,this.attachVolumeBarEvents(),a}},{key:"handleClick",value:function(){t["default"].prototype.handleClick.call(this),j(Object.getPrototypeOf(b.prototype),"handleClick",this).call(this)}},{key:"attachVolumeBarEvents",value:function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))}},{key:"handleMouseDown",value:function(){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)}},{key:"handleMouseUp",value:function(){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))}}]),b}(r["default"]);w.prototype.volumeUpdate=t["default"].prototype.update,w.prototype.controlText_="Mute",n["default"].registerComponent("VolumeMenuButton",w),c["default"]=w},{"../component.js":67,"../popup/popup-button.js":115,"../popup/popup.js":116,"../utils/fn.js":144,"./mute-toggle.js":73,"./volume-control/volume-bar.js":99}],103:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./component"),l=e(k),m=a("./modal-dialog"),n=e(m),o=a("./utils/dom"),p=(d(o),a("./utils/merge-options")),q=e(p),r=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.on(a,"error",d.open),d}return h(b,a),i(b,[{key:"buildCSSClass",value:function(){return"vjs-error-display "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"content",value:function(){var a=this.player().error();return a?this.localize(a.message):""}}]),b}(n["default"]);r.prototype.options_=q["default"](n["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",r),c["default"]=r},{"./component":67,"./modal-dialog":112,"./utils/dom":142,"./utils/merge-options":148}],104:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./utils/events.js"),f=d(e),g=function(){};g.prototype.allowedEvents_={},g.prototype.on=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},f.on(this,a,b),this.addEventListener=c},g.prototype.addEventListener=g.prototype.on,g.prototype.off=function(a,b){f.off(this,a,b)},g.prototype.removeEventListener=g.prototype.off,g.prototype.one=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},f.one(this,a,b),this.addEventListener=c},g.prototype.trigger=function(a){var b=a.type||a;"string"==typeof a&&(a={type:b}),a=f.fixEvent(a),this.allowedEvents_[b]&&this["on"+b]&&this["on"+b](a),f.trigger(this,a)},g.prototype.dispatchEvent=g.prototype.trigger,c["default"]=g},{"./utils/events.js":143}],105:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./utils/log"),g=d(f),h=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":e(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.super_=b)},i=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=function(){a.apply(this,arguments)},d={};"object"===("undefined"==typeof b?"undefined":e(b))?("function"==typeof b.init&&(g["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),b.constructor=b.init),b.constructor!==Object.prototype.constructor&&(c=b.constructor),d=b):"function"==typeof b&&(c=b),h(c,a);for(var f in d)d.hasOwnProperty(f)&&(c.prototype[f]=d[f]);return c};c["default"]=i},{"./utils/log":147}],106:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});for(var e=a("global/document"),f=d(e),g={},h=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=h[0],j=void 0,k=0;k<h.length;k++)if(h[k][1]in f["default"]){j=h[k];break}if(j)for(var l=0;l<j.length;l++)g[i[l]]=j[l];c["default"]=g},{"global/document":7}],107:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("./component"),k=d(j),l=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"createEl",value:function(){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})}}]),b}(k["default"]);k["default"].registerComponent("LoadingSpinner",l),c["default"]=l},{"./component":67}],108:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("object.assign"),g=d(f),h=function j(a){"number"==typeof a?this.code=a:"string"==typeof a?this.message=a:"object"===("undefined"==typeof a?"undefined":e(a))&&g["default"](this,a),this.message||(this.message=j.defaultMessages[this.code]||"")};h.prototype.code=0,h.prototype.message="",h.prototype.status=null,h.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],h.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var i=0;i<h.errorTypes.length;i++)h[h.errorTypes[i]]=i,h.prototype[h.errorTypes[i]]=i;c["default"]=h},{"object.assign":53}],109:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function x(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:x(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../clickable-component.js"),l=e(k),m=a("../component.js"),n=e(m),o=a("./menu.js"),p=e(o),q=a("../utils/dom.js"),r=d(q),s=a("../utils/fn.js"),t=d(s),u=a("../utils/to-title-case.js"),v=e(u),w=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.update(),d.enabled_=!0,d.el_.setAttribute("aria-haspopup","true"),d.el_.setAttribute("role","menuitem"),d.on("keydown",d.handleSubmenuKeyPress),d}return h(b,a),i(b,[{key:"update",value:function(){var a=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=a,this.addChild(a),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()}},{key:"createMenu",value:function(){var a=new p["default"](this.player_);if(this.options_.title){var b=r.createEl("li",{className:"vjs-menu-title",innerHTML:v["default"](this.options_.title),tabIndex:-1});a.children_.unshift(b),r.insertElFirst(b,a.contentEl())}if(this.items=this.createItems(),this.items)for(var c=0;c<this.items.length;c++)a.addItem(this.items[c]);return a}},{key:"createItems",value:function(){}},{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"buildCSSClass",value:function(){var a="vjs-menu-button";return a+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+a+" "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.one("mouseout",t.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()}},{key:"handleKeyPress",value:function(a){27===a.which||9===a.which?(this.buttonPressed_&&this.unpressButton(),9!==a.which&&a.preventDefault()):38===a.which||40===a.which?this.buttonPressed_||(this.pressButton(),a.preventDefault()):j(Object.getPrototypeOf(b.prototype),"handleKeyPress",this).call(this,a)}},{key:"handleSubmenuKeyPress",value:function(a){(27===a.which||9===a.which)&&(this.buttonPressed_&&this.unpressButton(),9!==a.which&&a.preventDefault())}},{key:"pressButton",value:function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())}},{key:"unpressButton",value:function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())}},{key:"disable",value:function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,j(Object.getPrototypeOf(b.prototype),"disable",this).call(this)}},{key:"enable",value:function(){return this.enabled_=!0,j(Object.getPrototypeOf(b.prototype),"enable",this).call(this)}}]),b}(l["default"]);n["default"].registerComponent("MenuButton",w),c["default"]=w},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/to-title-case.js":151,"./menu.js":111}],110:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:q(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("../clickable-component.js"),k=d(j),l=a("../component.js"),m=d(l),n=a("object.assign"),o=d(n),p=function(a){function b(a,c){e(this,b);var d=f(this,Object.getPrototypeOf(b).call(this,a,c));return d.selectable=c.selectable,d.selected(c.selected),d.selectable?d.el_.setAttribute("role","menuitemcheckbox"):d.el_.setAttribute("role","menuitem"),d}return g(b,a),h(b,[{key:"createEl",value:function(a,c,d){return i(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"li",o["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},c),d)}},{key:"handleClick",value:function(){this.selected(!0)}},{key:"selected",value:function(a){this.selectable&&(a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))}}]),b}(k["default"]);m["default"].registerComponent("MenuItem",p),c["default"]=p},{"../clickable-component.js":65,"../component.js":67,"object.assign":53}],111:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function t(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:t(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../component.js"),l=e(k),m=a("../utils/dom.js"),n=d(m),o=a("../utils/fn.js"),p=d(o),q=a("../utils/events.js"),r=d(q),s=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.focusedChild_=-1,d.on("keydown",d.handleKeyPress),d}return h(b,a),i(b,[{key:"addItem",value:function(a){this.addChild(a),a.on("click",p.bind(this,function(){this.unlockShowing()}))}},{key:"createEl",value:function(){var a=this.options_.contentElType||"ul";this.contentEl_=n.createEl(a,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var c=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return c.setAttribute("role","presentation"),c.appendChild(this.contentEl_),r.on(c,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),c}},{key:"handleKeyPress",value:function(a){37===a.which||40===a.which?(a.preventDefault(),this.stepForward()):(38===a.which||39===a.which)&&(a.preventDefault(),this.stepBack())}},{key:"stepForward",value:function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_+1),this.focus(a)}},{key:"stepBack",value:function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_-1),this.focus(a)}},{key:"focus",value:function(){var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0],b=this.children().slice(),c=b.length&&b[0].className&&/vjs-menu-title/.test(b[0].className);c&&b.shift(),b.length>0&&(0>a?a=0:a>=b.length&&(a=b.length-1),this.focusedChild_=a,b[a].el_.focus())}}]),b}(l["default"]);l["default"].registerComponent("Menu",s),c["default"]=s},{"../component.js":67,"../utils/dom.js":142,"../utils/events.js":143,"../utils/fn.js":144}],112:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function v(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:v(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./utils/dom"),l=e(k),m=a("./utils/fn"),n=e(m),o=a("./utils/log"),p=(d(o),a("./component")),q=d(p),r=a("./close-button"),s=(d(r),"vjs-modal-dialog"),t=27,u=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.opened_=d.hasBeenOpened_=d.hasBeenFilled_=!1,d.closeable(!d.options_.uncloseable),d.content(d.options_.content),d.contentEl_=l.createEl("div",{className:s+"-content"},{role:"document"}),d.descEl_=l.createEl("p",{className:s+"-description vjs-offscreen",id:d.el().getAttribute("aria-describedby")}),l.textContent(d.descEl_,d.description()),d.el_.appendChild(d.descEl_),d.el_.appendChild(d.contentEl_),d}return h(b,a),i(b,[{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})}},{key:"buildCSSClass",value:function(){return s+" vjs-hidden "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}},{key:"handleKeyPress",value:function(a){a.which===t&&this.closeable()&&this.close()}},{key:"label",value:function(){return this.options_.label||this.localize("Modal Window")}},{key:"description",value:function(){var a=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(a+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),a}},{key:"open",value:function(){if(!this.opened_){var a=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!a.paused(),this.wasPlaying_&&a.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",n.bind(this,this.handleKeyPress)),a.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this}},{key:"opened",value:function(a){return"boolean"==typeof a&&this[a?"open":"close"](),this.opened_}},{key:"close",value:function(){if(this.opened_){var a=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&a.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",n.bind(this,this.handleKeyPress)),a.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this}},{key:"closeable",value:function c(a){if("boolean"==typeof a){var c=this.closeable_=!!a,b=this.getChild("closeButton");if(c&&!b){var d=this.contentEl_;this.contentEl_=this.el_,b=this.addChild("closeButton"),this.contentEl_=d,this.on(b,"close",this.close)}!c&&b&&(this.off(b,"close",this.close),this.removeChild(b),b.dispose())}return this.closeable_}},{key:"fill",value:function(){return this.fillWith(this.content())}},{key:"fillWith",value:function(a){var b=this.contentEl(),c=b.parentNode,d=b.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,c.removeChild(b),this.empty(),l.insertContent(b,a),this.trigger("modalfill"),d?c.insertBefore(b,d):c.appendChild(b),this}},{key:"empty",value:function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this}},{key:"content",value:function(a){return"undefined"!=typeof a&&(this.content_=a),this.content_}}]),b}(q["default"]);u.prototype.options_={temporary:!0},q["default"].registerComponent("ModalDialog",u),c["default"]=u},{"./close-button":66,"./component":67,"./utils/dom":142,"./utils/fn":144,"./utils/log":147}],113:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function ma(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:ma(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},l=a("./component.js"),m=e(l),n=a("global/document"),o=e(n),p=a("global/window"),q=e(p),r=a("./utils/events.js"),s=d(r),t=a("./utils/dom.js"),u=d(t),v=a("./utils/fn.js"),w=d(v),x=a("./utils/guid.js"),y=d(x),z=a("./utils/browser.js"),A=d(z),B=a("./utils/log.js"),C=e(B),D=a("./utils/to-title-case.js"),E=e(D),F=a("./utils/time-ranges.js"),G=a("./utils/buffer.js"),H=a("./utils/stylesheet.js"),I=d(H),J=a("./fullscreen-api.js"),K=e(J),L=a("./media-error.js"),M=e(L),N=a("safe-json-parse/tuple"),O=e(N),P=a("object.assign"),Q=e(P),R=a("./utils/merge-options.js"),S=e(R),T=a("./tracks/text-track-list-converter.js"),U=e(T),V=a("./tracks/audio-track-list.js"),W=e(V),X=a("./tracks/video-track-list.js"),Y=e(X),Z=a("./tech/loader.js"),$=(e(Z),a("./poster-image.js")),_=(e($),a("./tracks/text-track-display.js")),aa=(e(_),a("./loading-spinner.js")),ba=(e(aa),a("./big-play-button.js")),ca=(e(ba),a("./control-bar/control-bar.js")),da=(e(ca),a("./error-display.js")),ea=(e(da),a("./tracks/text-track-settings.js")),fa=(e(ea),a("./modal-dialog")),ga=e(fa),ha=a("./tech/tech.js"),ia=e(ha),ja=a("./tech/html5.js"),ka=(e(ja),function(a){function b(a,c,d){f(this,b),a.id=a.id||"vjs_video_"+y.newGUID(),c=Q["default"](b.getTagSettings(a),c),c.initChildren=!1,c.createEl=!1,c.reportTouchActivity=!1;var e=g(this,Object.getPrototypeOf(b).call(this,null,c,d));if(!e.options_||!e.options_.techOrder||!e.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");e.tag=a,e.tagAttributes=a&&u.getElAttributes(a),e.language(e.options_.language),c.languages?!function(){var a={};Object.getOwnPropertyNames(c.languages).forEach(function(b){a[b.toLowerCase()]=c.languages[b]}),e.languages_=a}():e.languages_=b.prototype.options_.languages,e.cache_={},e.poster_=c.poster||"",e.controls_=!!c.controls,a.controls=!1,e.scrubbing_=!1,e.el_=e.createEl();var h=S["default"](e.options_);return c.plugins&&!function(){var a=c.plugins;Object.getOwnPropertyNames(a).forEach(function(b){"function"==typeof this[b]?this[b](a[b]):C["default"].error("Unable to find plugin:",b)},e)}(),e.options_.playerOptions=h,e.initChildren(),e.isAudio("audio"===a.nodeName.toLowerCase()),e.addClass(e.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),e.el_.setAttribute("role","region"),e.isAudio()?e.el_.setAttribute("aria-label","audio player"):e.el_.setAttribute("aria-label","video player"),e.isAudio()&&e.addClass("vjs-audio"),e.flexNotSupported_()&&e.addClass("vjs-no-flex"),A.IS_IOS||e.addClass("vjs-workinghover"),b.players[e.id_]=e,e.userActive(!0),e.reportUserActivity(),e.listenForUserActivity_(),e.on("fullscreenchange",e.handleFullscreenChange_),e.on("stageclick",e.handleStageClick_),e}return h(b,a),j(b,[{key:"dispose",value:function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),
b.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),k(Object.getPrototypeOf(b.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){var a=this.el_=k(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div"),c=this.tag;c.removeAttribute("width"),c.removeAttribute("height");var d=u.getElAttributes(c);if(Object.getOwnPropertyNames(d).forEach(function(b){"class"===b?a.className=d[b]:a.setAttribute(b,d[b])}),c.playerId=c.id,c.id+="_html5_api",c.className="vjs-tech",c.player=a.player=this,this.addClass("vjs-paused"),q["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=I.createStyleElement("vjs-styles-dimensions");var e=u.$(".vjs-styles-defaults"),f=u.$("head");f.insertBefore(this.styleEl_,e?e.nextSibling:f.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var g=c.getElementsByTagName("a"),h=0;h<g.length;h++){var i=g.item(h);u.addElClass(i,"vjs-hidden"),i.setAttribute("hidden","hidden")}return c.initNetworkState_=c.networkState,c.parentNode&&c.parentNode.insertBefore(a,c),u.insertElFirst(c,a),this.children_.unshift(c),this.el_=a,a}},{key:"width",value:function(a){return this.dimension("width",a)}},{key:"height",value:function(a){return this.dimension("height",a)}},{key:"dimension",value:function(a,b){var c=a+"_";if(void 0===b)return this[c]||0;if(""===b)this[c]=void 0;else{var d=parseFloat(b);if(isNaN(d))return C["default"].error('Improper value "'+b+'" supplied for for '+a),this;this[c]=d}return this.updateStyleEl_(),this}},{key:"fluid",value:function(a){return void 0===a?!!this.fluid_:(this.fluid_=!!a,void(a?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid")))}},{key:"aspectRatio",value:function(a){if(void 0===a)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(a))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=a,this.fluid(!0),this.updateStyleEl_()}},{key:"updateStyleEl_",value:function(){if(q["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var a="number"==typeof this.width_?this.width_:this.options_.width,b="number"==typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();return void(c&&(a>=0&&(c.width=a),b>=0&&(c.height=b)))}var d=void 0,e=void 0,f=void 0,g=void 0;f=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9";var h=f.split(":"),i=h[1]/h[0];d=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,e=void 0!==this.height_?this.height_:d*i,g=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(g),I.setTextContent(this.styleEl_,"\n      ."+g+" {\n        width: "+d+"px;\n        height: "+e+"px;\n      }\n\n      ."+g+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}},{key:"loadTech_",value:function(a,b){this.tech_&&this.unloadTech_(),"Html5"!==a&&this.tag&&(ia["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=a,this.isReady_=!1;var c=Q["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:b,playerId:this.id(),techId:this.id()+"_"+a+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[a.toLowerCase()]);this.tag&&(c.tag=this.tag),b&&(this.currentType_=b.type,b.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime),this.cache_.src=b.src);var d=ia["default"].getTech(a);d||(d=m["default"].getComponent(a)),this.tech_=new d(c),this.tech_.ready(w.bind(this,this.handleTechReady_),!0),U["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===a&&this.tag||u.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}},{key:"unloadTech_",value:function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=U["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1}},{key:"tech",value:function(a){if(a&&a.IWillNotUseThisInPlugins)return this.tech_;var b="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw q["default"].alert(b),new Error(b)}},{key:"addTechControlsListeners_",value:function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)}},{key:"removeTechControlsListeners_",value:function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)}},{key:"handleTechReady_",value:function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),this.src()&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(a){C["default"]("deleting tag.poster throws in some browsers",a)}this.play()}}},{key:"handleTechLoadStart_",value:function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))}},{key:"hasStarted",value:function(a){return void 0!==a?(this.hasStarted_!==a&&(this.hasStarted_=a,a?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_}},{key:"handleTechPlay_",value:function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}},{key:"handleTechWaiting_",value:function(){var a=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return a.removeClass("vjs-waiting")})}},{key:"handleTechCanPlay_",value:function(){this.removeClass("vjs-waiting"),this.trigger("canplay")}},{key:"handleTechCanPlayThrough_",value:function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}},{key:"handleTechPlaying_",value:function(){this.removeClass("vjs-waiting"),this.trigger("playing")}},{key:"handleTechSeeking_",value:function(){this.addClass("vjs-seeking"),this.trigger("seeking")}},{key:"handleTechSeeked_",value:function(){this.removeClass("vjs-seeking"),this.trigger("seeked")}},{key:"handleTechFirstPlay_",value:function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")}},{key:"handleTechPause_",value:function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}},{key:"handleTechProgress_",value:function(){this.trigger("progress")}},{key:"handleTechEnded_",value:function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}},{key:"handleTechDurationChange_",value:function(){this.duration(this.techGet_("duration"))}},{key:"handleTechClick_",value:function(a){0===a.button&&this.controls()&&(this.paused()?this.play():this.pause())}},{key:"handleTechTap_",value:function(){this.userActive(!this.userActive())}},{key:"handleTechTouchStart_",value:function(){this.userWasActive=this.userActive()}},{key:"handleTechTouchMove_",value:function(){this.userWasActive&&this.reportUserActivity()}},{key:"handleTechTouchEnd_",value:function(a){a.preventDefault()}},{key:"handleFullscreenChange_",value:function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}},{key:"handleStageClick_",value:function(){this.reportUserActivity()}},{key:"handleTechFullscreenChange_",value:function(a,b){b&&this.isFullscreen(b.isFullscreen),this.trigger("fullscreenchange")}},{key:"handleTechError_",value:function(){var a=this.tech_.error();this.error(a)}},{key:"handleTechSuspend_",value:function(){this.trigger("suspend")}},{key:"handleTechAbort_",value:function(){this.trigger("abort")}},{key:"handleTechEmptied_",value:function(){this.trigger("emptied")}},{key:"handleTechStalled_",value:function(){this.trigger("stalled")}},{key:"handleTechLoadedMetaData_",value:function(){this.trigger("loadedmetadata")}},{key:"handleTechLoadedData_",value:function(){this.trigger("loadeddata")}},{key:"handleTechTimeUpdate_",value:function(){this.trigger("timeupdate")}},{key:"handleTechRateChange_",value:function(){this.trigger("ratechange")}},{key:"handleTechVolumeChange_",value:function(){this.trigger("volumechange")}},{key:"handleTechTextTrackChange_",value:function(){this.trigger("texttrackchange")}},{key:"getCache",value:function(){return this.cache_}},{key:"techCall_",value:function(a,b){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[a](b)},!0);else try{this.tech_[a](b)}catch(c){throw C["default"](c),c}}},{key:"techGet_",value:function(a){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[a]()}catch(b){throw void 0===this.tech_[a]?C["default"]("Video.js: "+a+" method not defined for "+this.techName_+" playback technology.",b):"TypeError"===b.name?(C["default"]("Video.js: "+a+" unavailable on "+this.techName_+" playback technology element.",b),this.tech_.isReady_=!1):C["default"](b),b}}},{key:"play",value:function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this}},{key:"pause",value:function(){return this.techCall_("pause"),this}},{key:"paused",value:function(){return this.techGet_("paused")===!1?!1:!0}},{key:"scrubbing",value:function(a){return void 0!==a?(this.scrubbing_=!!a,a?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_}},{key:"currentTime",value:function(a){return void 0!==a?(this.techCall_("setCurrentTime",a),this):this.cache_.currentTime=this.techGet_("currentTime")||0}},{key:"duration",value:function(a){return void 0===a?this.cache_.duration||0:(a=parseFloat(a)||0,0>a&&(a=1/0),a!==this.cache_.duration&&(this.cache_.duration=a,a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)}},{key:"remainingTime",value:function(){return this.duration()-this.currentTime()}},{key:"buffered",value:function c(){var c=this.techGet_("buffered");return c&&c.length||(c=F.createTimeRange(0,0)),c}},{key:"bufferedPercent",value:function(){return G.bufferedPercent(this.buffered(),this.duration())}},{key:"bufferedEnd",value:function(){var a=this.buffered(),b=this.duration(),c=a.end(a.length-1);return c>b&&(c=b),c}},{key:"volume",value:function(a){var b=void 0;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall_("setVolume",b),this):(b=parseFloat(this.techGet_("volume")),isNaN(b)?1:b)}},{key:"muted",value:function(a){return void 0!==a?(this.techCall_("setMuted",a),this):this.techGet_("muted")||!1}},{key:"supportsFullScreen",value:function(){return this.techGet_("supportsFullScreen")||!1}},{key:"isFullscreen",value:function(a){return void 0!==a?(this.isFullscreen_=!!a,this):!!this.isFullscreen_}},{key:"requestFullscreen",value:function(){var a=K["default"];return this.isFullscreen(!0),a.requestFullscreen?(s.on(o["default"],a.fullscreenchange,w.bind(this,function b(){this.isFullscreen(o["default"][a.fullscreenElement]),this.isFullscreen()===!1&&s.off(o["default"],a.fullscreenchange,b),this.trigger("fullscreenchange")})),this.el_[a.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this}},{key:"exitFullscreen",value:function(){var a=K["default"];return this.isFullscreen(!1),a.requestFullscreen?o["default"][a.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this}},{key:"enterFullWindow",value:function(){this.isFullWindow=!0,this.docOrigOverflow=o["default"].documentElement.style.overflow,s.on(o["default"],"keydown",w.bind(this,this.fullWindowOnEscKey)),o["default"].documentElement.style.overflow="hidden",u.addElClass(o["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")}},{key:"fullWindowOnEscKey",value:function(a){27===a.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())}},{key:"exitFullWindow",value:function(){this.isFullWindow=!1,s.off(o["default"],"keydown",this.fullWindowOnEscKey),o["default"].documentElement.style.overflow=this.docOrigOverflow,u.removeElClass(o["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")}},{key:"canPlayType",value:function(a){for(var b=void 0,c=0,d=this.options_.techOrder;c<d.length;c++){var e=E["default"](d[c]),f=ia["default"].getTech(e);if(f||(f=m["default"].getComponent(e)),f){if(f.isSupported()&&(b=f.canPlayType(a)))return b}else C["default"].error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.')}return""}},{key:"selectSource",value:function(a){var b=this,c=this.options_.techOrder.map(E["default"]).map(function(a){return[a,ia["default"].getTech(a)||m["default"].getComponent(a)]}).filter(function(a){var b=i(a,2),c=b[0],d=b[1];return d?d.isSupported():(C["default"].error('The "'+c+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),d=function(a,b,c){var d=void 0;return a.some(function(a){return b.some(function(b){return d=c(a,b),d?!0:void 0})}),d},e=void 0,f=function(a){return function(b,c){return a(c,b)}},g=function(a,c){var d=i(a,2),e=d[0],f=d[1];return f.canPlaySource(c,b.options_[e.toLowerCase()])?{source:c,tech:e}:void 0};return e=this.options_.sourceOrder?d(a,c,f(g)):d(c,a,g),e||!1}},{key:"src",value:function(a){if(void 0===a)return this.techGet_("src");var b=ia["default"].getTech(this.techName_);return b||(b=m["default"].getComponent(this.techName_)),Array.isArray(a)?this.sourceList_(a):"string"==typeof a?this.src({src:a}):a instanceof Object&&(a.type&&!b.canPlaySource(a,this.options_[this.techName_.toLowerCase()])?this.sourceList_([a]):(this.cache_.src=a.src,this.currentType_=a.type||"",this.ready(function(){b.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",a):this.techCall_("src",a.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this}},{key:"sourceList_",value:function(a){var b=this.selectSource(a);b?b.tech===this.techName_?this.src(b.source):this.loadTech_(b.tech,b.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())}},{key:"load",value:function(){return this.techCall_("load"),this}},{key:"reset",value:function(){return this.loadTech_(E["default"](this.options_.techOrder[0]),null),this.techCall_("reset"),this}},{key:"currentSrc",value:function(){return this.techGet_("currentSrc")||this.cache_.src||""}},{key:"currentType",value:function(){return this.currentType_||""}},{key:"preload",value:function(a){return void 0!==a?(this.techCall_("setPreload",a),this.options_.preload=a,this):this.techGet_("preload")}},{key:"autoplay",value:function(a){return void 0!==a?(this.techCall_("setAutoplay",a),this.options_.autoplay=a,this):this.techGet_("autoplay",a)}},{key:"loop",value:function(a){return void 0!==a?(this.techCall_("setLoop",a),this.options_.loop=a,this):this.techGet_("loop")}},{key:"poster",value:function(a){return void 0===a?this.poster_:(a||(a=""),this.poster_=a,this.techCall_("setPoster",a),this.trigger("posterchange"),this)}},{key:"handleTechPosterChange_",value:function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))}},{key:"controls",value:function(a){return void 0!==a?(a=!!a,this.controls_!==a&&(this.controls_=a,this.usingNativeControls()&&this.techCall_("setControls",a),a?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_}},{key:"usingNativeControls",value:function(a){return void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_}},{key:"error",value:function(a){return void 0===a?this.error_||null:null===a?(this.error_=a,this.removeClass("vjs-error"),this.errorDisplay.close(),this):(this.error_=a instanceof M["default"]?a:new M["default"](a),this.addClass("vjs-error"),C["default"].error("(CODE:"+this.error_.code+" "+M["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)}},{key:"ended",value:function(){return this.techGet_("ended")}},{key:"seeking",value:function(){return this.techGet_("seeking")}},{key:"seekable",value:function(){return this.techGet_("seekable")}},{key:"reportUserActivity",value:function(){this.userActivity_=!0}},{key:"userActive",value:function(a){return void 0!==a?(a=!!a,a!==this.userActive_&&(this.userActive_=a,a?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_}},{key:"listenForUserActivity_",value:function(){var a=void 0,b=void 0,c=void 0,d=w.bind(this,this.reportUserActivity),e=function(a){(a.screenX!==b||a.screenY!==c)&&(b=a.screenX,c=a.screenY,d())},f=function(){d(),this.clearInterval(a),a=this.setInterval(d,250)},g=function(){d(),this.clearInterval(a)};this.on("mousedown",f),this.on("mousemove",e),this.on("mouseup",g),this.on("keydown",d),this.on("keyup",d);{var h=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var a=this.options_.inactivityTimeout;a>0&&(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},a))}},250)}}},{key:"playbackRate",value:function(a){return void 0!==a?(this.techCall_("setPlaybackRate",a),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1}},{key:"isAudio",value:function(a){return void 0!==a?(this.isAudio_=!!a,this):!!this.isAudio_}},{key:"networkState",value:function(){return this.techGet_("networkState")}},{key:"readyState",value:function(){return this.techGet_("readyState")}},{key:"videoTracks",value:function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new Y["default"],this.videoTracks_)}},{key:"audioTracks",value:function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new W["default"],this.audioTracks_)}},{key:"textTracks",value:function(){return this.tech_&&this.tech_.textTracks()}},{key:"remoteTextTracks",value:function(){return this.tech_&&this.tech_.remoteTextTracks()}},{key:"remoteTextTrackEls",value:function(){return this.tech_&&this.tech_.remoteTextTrackEls()}},{key:"addTextTrack",value:function(a,b,c){return this.tech_&&this.tech_.addTextTrack(a,b,c)}},{key:"addRemoteTextTrack",value:function(a){return this.tech_&&this.tech_.addRemoteTextTrack(a)}},{key:"removeRemoteTextTrack",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=a.track,c=void 0===b?arguments[0]:b;this.tech_&&this.tech_.removeRemoteTextTrack(c)}},{key:"videoWidth",value:function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}},{key:"videoHeight",value:function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}},{key:"language",value:function(a){return void 0===a?this.language_:(this.language_=(""+a).toLowerCase(),this)}},{key:"languages",value:function(){return S["default"](b.prototype.options_.languages,this.languages_)}},{key:"toJSON",value:function(){var a=S["default"](this.options_),b=a.tracks;a.tracks=[];for(var c=0;c<b.length;c++){var d=b[c];d=S["default"](d),d.player=void 0,a.tracks[c]=d}return a}},{key:"createModal",value:function(a,b){var c=this;b=b||{},b.content=a||"";var d=new ga["default"](c,b);return c.addChild(d),d.on("dispose",function(){c.removeChild(d)}),d.open()}}],[{key:"getTagSettings",value:function(a){var b={sources:[],tracks:[]},c=u.getElAttributes(a),d=c["data-setup"];if(null!==d){var e=O["default"](d||"{}"),f=i(e,2),g=f[0],h=f[1];g&&C["default"].error(g),Q["default"](c,h)}if(Q["default"](b,c),a.hasChildNodes())for(var j=a.childNodes,k=0,l=j.length;l>k;k++){var m=j[k],n=m.nodeName.toLowerCase();"source"===n?b.sources.push(u.getElAttributes(m)):"track"===n&&b.tracks.push(u.getElAttributes(m))}return b}}]),b}(m["default"]));ka.players={};var la=q["default"].navigator;ka.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:o["default"].getElementsByTagName("html")[0].getAttribute("lang")||la.languages&&la.languages[0]||la.userLanguage||la.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},ka.prototype.handleTechLoadStart_,ka.prototype.handleLoadedMetaData_,ka.prototype.handleLoadedData_,ka.prototype.handleUserActive_,ka.prototype.handleUserInactive_,ka.prototype.handleTimeUpdate_,ka.prototype.handleTechEnded_,ka.prototype.handleVolumeChange_,ka.prototype.handleError_,ka.prototype.flexNotSupported_=function(){var a=o["default"].createElement("i");return!("flexBasis"in a.style||"webkitFlexBasis"in a.style||"mozFlexBasis"in a.style||"msFlexBasis"in a.style||"msFlexOrder"in a.style)},m["default"].registerComponent("Player",ka),c["default"]=ka},{"./big-play-button.js":63,"./component.js":67,"./control-bar/control-bar.js":70,"./error-display.js":103,"./fullscreen-api.js":106,"./loading-spinner.js":107,"./media-error.js":108,"./modal-dialog":112,"./poster-image.js":117,"./tech/html5.js":122,"./tech/loader.js":123,"./tech/tech.js":124,"./tracks/audio-track-list.js":125,"./tracks/text-track-display.js":130,"./tracks/text-track-list-converter.js":131,"./tracks/text-track-settings.js":133,"./tracks/video-track-list.js":138,"./utils/browser.js":140,"./utils/buffer.js":141,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/guid.js":146,"./utils/log.js":147,"./utils/merge-options.js":148,"./utils/stylesheet.js":149,"./utils/time-ranges.js":150,"./utils/to-title-case.js":151,"global/document":7,"global/window":8,"object.assign":53,"safe-json-parse/tuple":58}],114:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./player.js"),f=d(e),g=function(a,b){f["default"].prototype[a]=b};c["default"]=g},{"./player.js":113}],115:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function t(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:t(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../clickable-component.js"),l=e(k),m=a("../component.js"),n=e(m),o=a("./popup.js"),p=(e(o),a("../utils/dom.js")),q=(d(p),a("../utils/fn.js")),r=(d(q),a("../utils/to-title-case.js")),s=(e(r),function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.update(),d}return h(b,a),i(b,[{key:"update",value:function(){var a=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=a,this.addChild(a),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()}},{key:"createPopup",value:function(){}},{key:"createEl",value:function(){return j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"buildCSSClass",value:function(){var a="vjs-menu-button";return a+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+a+" "+j(Object.getPrototypeOf(b.prototype),"buildCSSClass",this).call(this)}}]),b}(l["default"]));n["default"].registerComponent("PopupButton",s),c["default"]=s},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/to-title-case.js":151,"./popup.js":116}],116:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function t(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:t(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../component.js"),l=e(k),m=a("../utils/dom.js"),n=d(m),o=a("../utils/fn.js"),p=d(o),q=a("../utils/events.js"),r=d(q),s=function(a){function b(){return f(this,b),g(this,Object.getPrototypeOf(b).apply(this,arguments))}return h(b,a),i(b,[{key:"addItem",value:function(a){this.addChild(a),a.on("click",p.bind(this,function(){this.unlockShowing()}))}},{key:"createEl",value:function(){var a=this.options_.contentElType||"ul";this.contentEl_=n.createEl(a,{className:"vjs-menu-content"});var c=j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return c.appendChild(this.contentEl_),r.on(c,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),c}}]),b}(l["default"]);l["default"].registerComponent("Popup",s),c["default"]=s},{"../component.js":67,"../utils/dom.js":142,"../utils/events.js":143,"../utils/fn.js":144}],117:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function v(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:v(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./clickable-component.js"),l=e(k),m=a("./component.js"),n=e(m),o=a("./utils/fn.js"),p=d(o),q=a("./utils/dom.js"),r=d(q),s=a("./utils/browser.js"),t=d(s),u=function(a){
function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.update(),a.on("posterchange",p.bind(d,d.update)),d}return h(b,a),i(b,[{key:"dispose",value:function(){this.player().off("posterchange",this.update),j(Object.getPrototypeOf(b.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){var a=r.createEl("div",{className:"vjs-poster",tabIndex:-1});return t.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=r.createEl("img"),a.appendChild(this.fallbackImg_)),a}},{key:"update",value:function(){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()}},{key:"setSrc",value:function(a){if(this.fallbackImg_)this.fallbackImg_.src=a;else{var b="";a&&(b='url("'+a+'")'),this.el_.style.backgroundImage=b}}},{key:"handleClick",value:function(){this.player_.paused()?this.player_.play():this.player_.pause()}}]),b}(l["default"]);n["default"].registerComponent("PosterImage",u),c["default"]=u},{"./clickable-component.js":65,"./component.js":67,"./utils/browser.js":140,"./utils/dom.js":142,"./utils/fn.js":144}],118:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}Object.defineProperty(c,"__esModule",{value:!0}),c.hasLoaded=c.autoSetupTimeout=c.autoSetup=void 0;var f=a("./utils/events.js"),g=e(f),h=a("global/document"),i=d(h),j=a("global/window"),k=d(j),l=!1,m=void 0,n=function(){var a=i["default"].getElementsByTagName("video"),b=i["default"].getElementsByTagName("audio"),c=[];if(a&&a.length>0)for(var d=0,e=a.length;e>d;d++)c.push(a[d]);if(b&&b.length>0)for(var f=0,g=b.length;g>f;f++)c.push(b[f]);if(c&&c.length>0)for(var h=0,j=c.length;j>h;h++){var k=c[h];if(!k||!k.getAttribute){o(1);break}if(void 0===k.player){var n=k.getAttribute("data-setup");if(null!==n){m(k)}}}else l||o(1)},o=function(a,b){b&&(m=b),setTimeout(n,a)};"complete"===i["default"].readyState?l=!0:g.one(k["default"],"load",function(){l=!0});var p=function(){return l};c.autoSetup=n,c.autoSetupTimeout=o,c.hasLoaded=p},{"./utils/events.js":143,"global/document":7,"global/window":8}],119:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function r(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:r(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../component.js"),l=e(k),m=a("../utils/dom.js"),n=d(m),o=a("object.assign"),p=e(o),q=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.bar=d.getChild(d.options_.barName),d.vertical(!!d.options_.vertical),d.on("mousedown",d.handleMouseDown),d.on("touchstart",d.handleMouseDown),d.on("focus",d.handleFocus),d.on("blur",d.handleBlur),d.on("click",d.handleClick),d.on(a,"controlsvisible",d.update),d.on(a,d.playerEvent,d.update),d}return h(b,a),i(b,[{key:"createEl",value:function(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return c.className=c.className+" vjs-slider",c=p["default"]({tabIndex:0},c),d=p["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},d),j(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,a,c,d)}},{key:"handleMouseDown",value:function(a){var b=this.bar.el_.ownerDocument;a.preventDefault(),n.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(b,"mousemove",this.handleMouseMove),this.on(b,"mouseup",this.handleMouseUp),this.on(b,"touchmove",this.handleMouseMove),this.on(b,"touchend",this.handleMouseUp),this.handleMouseMove(a)}},{key:"handleMouseMove",value:function(){}},{key:"handleMouseUp",value:function(){var a=this.bar.el_.ownerDocument;n.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(a,"mousemove",this.handleMouseMove),this.off(a,"mouseup",this.handleMouseUp),this.off(a,"touchmove",this.handleMouseMove),this.off(a,"touchend",this.handleMouseUp),this.update()}},{key:"update",value:function(){if(this.el_){var a=this.getPercent(),b=this.bar;if(b){("number"!=typeof a||a!==a||0>a||a===1/0)&&(a=0);var c=(100*a).toFixed(2)+"%";this.vertical()?b.el().style.height=c:b.el().style.width=c}}}},{key:"calculateDistance",value:function(a){var b=n.getPointerPosition(this.el_,a);return this.vertical()?b.y:b.x}},{key:"handleFocus",value:function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)}},{key:"handleKeyPress",value:function(a){37===a.which||40===a.which?(a.preventDefault(),this.stepBack()):(38===a.which||39===a.which)&&(a.preventDefault(),this.stepForward())}},{key:"handleBlur",value:function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)}},{key:"handleClick",value:function(a){a.stopImmediatePropagation(),a.preventDefault()}},{key:"vertical",value:function(a){return void 0===a?this.vertical_||!1:(this.vertical_=!!a,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal"),this)}}]),b}(l["default"]);l["default"].registerComponent("Slider",q),c["default"]=q},{"../component.js":67,"../utils/dom.js":142,"object.assign":53}],120:[function(a,b,c){"use strict";function d(a){return a.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},a.streamFromParts=function(a,b){return a+"&"+b},a.streamToParts=function(a){var b={connection:"",stream:""};if(!a)return b;var c=a.search(/&(?!\w+=)/),d=void 0;return-1!==c?d=c+1:(c=d=a.lastIndexOf("/")+1,0===c&&(c=d=a.length)),b.connection=a.substring(0,c),b.stream=a.substring(d,a.length),b},a.isStreamingType=function(b){return b in a.streamingFormats},a.RTMP_RE=/^rtmp[set]?:\/\//i,a.isStreamingSrc=function(b){return a.RTMP_RE.test(b)},a.rtmpSourceHandler={},a.rtmpSourceHandler.canPlayType=function(b){return a.isStreamingType(b)?"maybe":""},a.rtmpSourceHandler.canHandleSource=function(b){var c=a.rtmpSourceHandler.canPlayType(b.type);return c?c:a.isStreamingSrc(b.src)?"maybe":""},a.rtmpSourceHandler.handleSource=function(b,c){var d=a.streamToParts(b.src);c.setRtmpConnection(d.connection),c.setRtmpStream(d.stream)},a.registerSourceHandler(a.rtmpSourceHandler),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d},{}],121:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a){var b=a.charAt(0).toUpperCase()+a.slice(1);D["set"+b]=function(b){return this.el_.vjs_setProperty(a,b)}}function j(a){D[a]=function(){return this.el_.vjs_getProperty(a)}}Object.defineProperty(c,"__esModule",{value:!0});for(var k=(function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),l=(function I(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:I(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)}),m=a("./tech"),n=e(m),o=a("../utils/dom.js"),p=d(o),q=a("../utils/url.js"),r=d(q),s=a("../utils/time-ranges.js"),t=a("./flash-rtmp"),u=e(t),v=a("../component"),w=e(v),x=a("global/window"),y=e(x),z=a("object.assign"),A=e(z),B=y["default"].navigator,C=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return a.source&&d.ready(function(){this.setSource(a.source)},!0),a.startTime&&d.ready(function(){this.load(),this.play(),this.currentTime(a.startTime)},!0),y["default"].videojs=y["default"].videojs||{},y["default"].videojs.Flash=y["default"].videojs.Flash||{},y["default"].videojs.Flash.onReady=b.onReady,y["default"].videojs.Flash.onEvent=b.onEvent,y["default"].videojs.Flash.onError=b.onError,d.on("seeked",function(){this.lastSeekTarget_=void 0}),d}return h(b,a),k(b,[{key:"createEl",value:function(){var a=this.options_;a.swf||(a.swf="//vjs.zencdn.net/swf/5.0.1/video-js.swf");var c=a.techId,d=A["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.preload,loop:a.loop,muted:a.muted},a.flashVars),e=A["default"]({wmode:"opaque",bgcolor:"#000000"},a.params),f=A["default"]({id:c,name:c,"class":"vjs-tech"},a.attributes);return this.el_=b.embed(a.swf,d,e,f),this.el_.tech=this,this.el_}},{key:"play",value:function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()}},{key:"pause",value:function(){this.el_.vjs_pause()}},{key:"src",value:function(a){return void 0===a?this.currentSrc():this.setSrc(a)}},{key:"setSrc",value:function(a){if(a=r.getAbsoluteURL(a),this.el_.vjs_src(a),this.autoplay()){var b=this;this.setTimeout(function(){b.play()},0)}}},{key:"seeking",value:function(){return void 0!==this.lastSeekTarget_}},{key:"setCurrentTime",value:function(a){var c=this.seekable();c.length&&(a=a>c.start(0)?a:c.start(0),a=a<c.end(c.length-1)?a:c.end(c.length-1),this.lastSeekTarget_=a,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",a),l(Object.getPrototypeOf(b.prototype),"setCurrentTime",this).call(this))}},{key:"currentTime",value:function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")}},{key:"currentSrc",value:function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")}},{key:"load",value:function(){this.el_.vjs_load()}},{key:"poster",value:function(){this.el_.vjs_getProperty("poster")}},{key:"setPoster",value:function(){}},{key:"seekable",value:function(){var a=this.duration();return 0===a?s.createTimeRange():s.createTimeRange(0,a)}},{key:"buffered",value:function(){var a=this.el_.vjs_getProperty("buffered");return 0===a.length?s.createTimeRange():s.createTimeRange(a[0][0],a[0][1])}},{key:"supportsFullScreen",value:function(){return!1}},{key:"enterFullScreen",value:function(){return!1}}]),b}(n["default"]),D=C.prototype,E="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),F="networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),G=0;G<E.length;G++)j(E[G]),i(E[G]);for(var H=0;H<F.length;H++)j(F[H]);C.isSupported=function(){return C.version()[0]>=10},n["default"].withSourceHandlers(C),C.nativeSourceHandler={},C.nativeSourceHandler.canPlayType=function(a){return a in C.formats?"maybe":""},C.nativeSourceHandler.canHandleSource=function(a){function b(a){var b=r.getFileExtension(a);return b?"video/"+b:""}var c;return c=a.type?a.type.replace(/;.*/,"").toLowerCase():b(a.src),C.nativeSourceHandler.canPlayType(c)},C.nativeSourceHandler.handleSource=function(a,b){b.setSrc(a.src)},C.nativeSourceHandler.dispose=function(){},C.registerSourceHandler(C.nativeSourceHandler),C.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},C.onReady=function(a){var b=p.getEl(a),c=b&&b.tech;c&&c.el()&&C.checkReady(c)},C.checkReady=function(a){a.el()&&(a.el().vjs_getProperty?a.triggerReady():this.setTimeout(function(){C.checkReady(a)},50))},C.onEvent=function(a,b){var c=p.getEl(a).tech;c.trigger(b)},C.onError=function(a,b){var c=p.getEl(a).tech;return"srcnotfound"===b?c.error(4):void c.error("FLASH: "+b)},C.version=function(){var a="0,0,0";try{a=new y["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{B.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(B.plugins["Shockwave Flash 2.0"]||B.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(c){}}return a.split(",")},C.embed=function(a,b,c,d){var e=C.getEmbedCode(a,b,c,d),f=p.createEl("div",{innerHTML:e}).childNodes[0];return f},C.getEmbedCode=function(a,b,c,d){var e='<object type="application/x-shockwave-flash" ',f="",g="",h="";return b&&Object.getOwnPropertyNames(b).forEach(function(a){f+=a+"="+b[a]+"&amp;"}),c=A["default"]({movie:a,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},c),Object.getOwnPropertyNames(c).forEach(function(a){g+='<param name="'+a+'" value="'+c[a]+'" />'}),d=A["default"]({data:a,width:"100%",height:"100%"},d),Object.getOwnPropertyNames(d).forEach(function(a){h+=a+'="'+d[a]+'" '}),""+e+h+">"+g+"</object>"},u["default"](C),w["default"].registerComponent("Flash",C),n["default"].registerTech("Flash",C),c["default"]=C},{"../component":67,"../utils/dom.js":142,"../utils/time-ranges.js":150,"../utils/url.js":152,"./flash-rtmp":120,"./tech":124,"global/window":8,"object.assign":53}],122:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function T(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:T(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},m=f(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."]),n=a("./tech.js"),o=e(n),p=a("../component"),q=e(p),r=a("../utils/dom.js"),s=d(r),t=a("../utils/url.js"),u=d(t),v=a("../utils/fn.js"),w=d(v),x=a("../utils/log.js"),y=e(x),z=a("tsml"),A=e(z),B=a("../../../src/js/tracks/text-track.js"),C=(e(B),a("../utils/browser.js")),D=d(C),E=a("global/document"),F=e(E),G=a("global/window"),H=e(G),I=a("object.assign"),J=e(I),K=a("../utils/merge-options.js"),L=e(K),M=a("../utils/to-title-case.js"),N=e(M),O=function(a){function b(a,c){g(this,b);var d=h(this,Object.getPrototypeOf(b).call(this,a,c)),e=a.source,f=!1;if(e&&(d.el_.currentSrc!==e.src||a.tag&&3===a.tag.initNetworkState_)?d.setSource(e):d.handleLateInit_(d.el_),d.el_.hasChildNodes()){for(var i=d.el_.childNodes,j=i.length,k=[];j--;){var l=i[j],n=l.nodeName.toLowerCase();"track"===n&&(d.featuresNativeTextTracks?(d.remoteTextTrackEls().addTrackElement_(l),d.remoteTextTracks().addTrack_(l.track),f||d.el_.hasAttribute("crossorigin")||!u.isCrossOrigin(l.src)||(f=!0)):k.push(l))}for(var o=0;o<k.length;o++)d.el_.removeChild(k[o])}var p=["audio","video"];return p.forEach(function(a){var b=N["default"](a);if(d["featuresNative"+b+"Tracks"]){var c=d.el()[a+"Tracks"];c&&c.addEventListener&&(c.addEventListener("change",w.bind(d,d["handle"+b+"TrackChange_"])),c.addEventListener("addtrack",w.bind(d,d["handle"+b+"TrackAdd_"])),c.addEventListener("removetrack",w.bind(d,d["handle"+b+"TrackRemove_"])),d.on("loadstart",d["removeOld"+b+"Tracks_"]))}}),d.featuresNativeTextTracks&&(f&&y["default"].warn(A["default"](m)),d.handleTextTrackChange_=w.bind(d,d.handleTextTrackChange),d.handleTextTrackAdd_=w.bind(d,d.handleTextTrackAdd),d.handleTextTrackRemove_=w.bind(d,d.handleTextTrackRemove),d.proxyNativeTextTracks_()),(D.TOUCH_ENABLED&&a.nativeControlsForTouch===!0||D.IS_IPHONE||D.IS_NATIVE_ANDROID)&&d.setControls(!0),d.triggerReady(),d}return i(b,a),k(b,[{key:"dispose",value:function(){var a=this;["audio","video","text"].forEach(function(b){var c=N["default"](b),d=a.el_[b+"Tracks"];d&&d.removeEventListener&&(d.removeEventListener("change",a["handle"+c+"TrackChange_"]),d.removeEventListener("addtrack",a["handle"+c+"TrackAdd_"]),d.removeEventListener("removetrack",a["handle"+c+"TrackRemove_"])),d&&a.off("loadstart",a["removeOld"+c+"Tracks_"])}),b.disposeMediaElement(this.el_),l(Object.getPrototypeOf(b.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){var a=this.options_.tag;if(!a||this.movingMediaElementInDOM===!1)if(a){var c=a.cloneNode(!0);a.parentNode.insertBefore(c,a),b.disposeMediaElement(a),a=c}else{a=F["default"].createElement("video");var d=this.options_.tag&&s.getElAttributes(this.options_.tag),e=L["default"]({},d);D.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete e.controls,s.setElAttributes(a,J["default"](e,{id:this.options_.techId,"class":"vjs-tech"}))}for(var f=["autoplay","preload","loop","muted"],g=f.length-1;g>=0;g--){var h=f[g],i={};"undefined"!=typeof this.options_[h]&&(i[h]=this.options_[h]),s.setElAttributes(a,i)}return a}},{key:"handleLateInit_",value:function(a){var b=this;if(0!==a.networkState&&3!==a.networkState){if(0===a.readyState){var c=function(){var a=!1,c=function(){a=!0};b.on("loadstart",c);var d=function(){a||this.trigger("loadstart")};return b.on("loadedmetadata",d),b.ready(function(){this.off("loadstart",c),this.off("loadedmetadata",d),a||this.trigger("loadstart")}),{v:void 0}}();if("object"===("undefined"==typeof c?"undefined":j(c)))return c.v}var d=["loadstart"];d.push("loadedmetadata"),a.readyState>=2&&d.push("loadeddata"),a.readyState>=3&&d.push("canplay"),a.readyState>=4&&d.push("canplaythrough"),this.ready(function(){d.forEach(function(a){this.trigger(a)},this)})}}},{key:"proxyNativeTextTracks_",value:function(){var a=this.el().textTracks;if(a){for(var b=0;b<a.length;b++)this.textTracks().addTrack_(a[b]);a.addEventListener&&(a.addEventListener("change",this.handleTextTrackChange_),a.addEventListener("addtrack",this.handleTextTrackAdd_),a.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}}},{key:"handleTextTrackChange",value:function(){var a=this.textTracks();this.textTracks().trigger({type:"change",target:a,currentTarget:a,srcElement:a})}},{key:"handleTextTrackAdd",value:function(a){this.textTracks().addTrack_(a.track)}},{key:"handleTextTrackRemove",value:function(a){this.textTracks().removeTrack_(a.track)}},{key:"handleVideoTrackChange_",value:function(){var a=this.videoTracks();this.videoTracks().trigger({type:"change",target:a,currentTarget:a,srcElement:a})}},{key:"handleVideoTrackAdd_",value:function(a){this.videoTracks().addTrack_(a.track)}},{key:"handleVideoTrackRemove_",value:function(a){this.videoTracks().removeTrack_(a.track)}},{key:"handleAudioTrackChange_",value:function(){var a=this.audioTracks();this.audioTracks().trigger({type:"change",target:a,currentTarget:a,srcElement:a})}},{key:"handleAudioTrackAdd_",value:function(a){this.audioTracks().addTrack_(a.track)}},{key:"handleAudioTrackRemove_",value:function(a){this.audioTracks().removeTrack_(a.track)}},{key:"removeOldTracks_",value:function(a,b){var c=[];if(b){for(var d=0;d<a.length;d++){for(var e=a[d],f=!1,g=0;g<b.length;g++)if(b[g]===e){f=!0;break}f||c.push(e)}for(var h=0;h<c.length;h++){var i=c[h];a.removeTrack_(i)}}}},{key:"removeOldTextTracks_",value:function(){var a=this.textTracks(),b=this.el().textTracks;this.removeOldTracks_(a,b)}},{key:"removeOldAudioTracks_",value:function(){var a=this.audioTracks(),b=this.el().audioTracks;this.removeOldTracks_(a,b)}},{key:"removeOldVideoTracks_",value:function(){var a=this.videoTracks(),b=this.el().videoTracks;this.removeOldTracks_(a,b)}},{key:"play",value:function(){try{var a=this.el_.play();a["catch"](function(){})}catch(b){}}},{key:"pause",value:function(){try{var a=this.el_.pause();a["catch"](function(){})}catch(b){}}},{key:"paused",value:function(){return this.el_.paused}},{key:"currentTime",value:function(){return this.el_.currentTime}},{key:"setCurrentTime",value:function(a){try{this.el_.currentTime=a}catch(b){y["default"](b,"Video is not ready.")}}},{key:"duration",value:function(){return this.el_.duration||0}},{key:"buffered",value:function(){return this.el_.buffered}},{key:"volume",value:function(){return this.el_.volume}},{key:"setVolume",value:function(a){this.el_.volume=a}},{key:"muted",value:function(){return this.el_.muted}},{key:"setMuted",value:function(a){this.el_.muted=a}},{key:"width",value:function(){return this.el_.offsetWidth}},{key:"height",value:function(){return this.el_.offsetHeight}},{key:"supportsFullScreen",value:function(){if("function"==typeof this.el_.webkitEnterFullScreen){var a=H["default"].navigator.userAgent;if(/Android/.test(a)||!/Chrome|Mac OS X 10.5/.test(a))return!0}return!1}},{key:"enterFullScreen",value:function(){var a=this.el_;"webkitDisplayingFullscreen"in a&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()}},{key:"exitFullScreen",value:function(){this.el_.webkitExitFullScreen()}},{key:"src",value:function(a){return void 0===a?this.el_.src:void this.setSrc(a)}},{key:"setSrc",value:function(a){this.el_.src=a}},{key:"load",value:function(){this.el_.load()}},{key:"reset",value:function(){b.resetMediaElement(this.el_)}},{key:"currentSrc",value:function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}},{key:"poster",value:function(){return this.el_.poster}},{key:"setPoster",value:function(a){this.el_.poster=a}},{key:"preload",value:function(){return this.el_.preload}},{key:"setPreload",value:function(a){this.el_.preload=a}},{key:"autoplay",value:function(){return this.el_.autoplay}},{key:"setAutoplay",value:function(a){this.el_.autoplay=a}},{key:"controls",value:function(){return this.el_.controls}},{key:"setControls",value:function(a){this.el_.controls=!!a}},{key:"loop",value:function(){return this.el_.loop}},{key:"setLoop",value:function(a){this.el_.loop=a}},{key:"error",value:function(){return this.el_.error}},{key:"seeking",value:function(){return this.el_.seeking}},{key:"seekable",value:function(){return this.el_.seekable}},{key:"ended",value:function(){return this.el_.ended}},{key:"defaultMuted",value:function(){return this.el_.defaultMuted}},{key:"playbackRate",value:function(){return this.el_.playbackRate}},{key:"played",value:function(){return this.el_.played}},{key:"setPlaybackRate",value:function(a){this.el_.playbackRate=a}},{key:"networkState",value:function(){return this.el_.networkState}},{key:"readyState",value:function(){return this.el_.readyState}},{key:"videoWidth",value:function(){return this.el_.videoWidth}},{key:"videoHeight",value:function(){return this.el_.videoHeight}},{key:"textTracks",value:function(){return l(Object.getPrototypeOf(b.prototype),"textTracks",this).call(this)}},{key:"addTextTrack",value:function(a,c,d){return this.featuresNativeTextTracks?this.el_.addTextTrack(a,c,d):l(Object.getPrototypeOf(b.prototype),"addTextTrack",this).call(this,a,c,d)}},{key:"addRemoteTextTrack",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return l(Object.getPrototypeOf(b.prototype),"addRemoteTextTrack",this).call(this,a);var c=F["default"].createElement("track");return a.kind&&(c.kind=a.kind),a.label&&(c.label=a.label),(a.language||a.srclang)&&(c.srclang=a.language||a.srclang),a["default"]&&(c["default"]=a["default"]),a.id&&(c.id=a.id),a.src&&(c.src=a.src),this.el().appendChild(c),this.remoteTextTrackEls().addTrackElement_(c),this.remoteTextTracks().addTrack_(c.track),c}},{key:"removeRemoteTextTrack",value:function(a){if(!this.featuresNativeTextTracks)return l(Object.getPrototypeOf(b.prototype),"removeRemoteTextTrack",this).call(this,a);var c=void 0,d=void 0,e=this.remoteTextTrackEls().getTrackElementByTrack_(a);for(this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack_(a),c=this.$$("track"),d=c.length;d--;)(a===c[d]||a===c[d].track)&&this.el().removeChild(c[d])}}]),b}(o["default"]);O.TEST_VID=F["default"].createElement("video");var P=F["default"].createElement("track");P.kind="captions",P.srclang="en",P.label="English",O.TEST_VID.appendChild(P),O.isSupported=function(){try{O.TEST_VID.volume=.5}catch(a){return!1}return!!O.TEST_VID.canPlayType},o["default"].withSourceHandlers(O),O.nativeSourceHandler={},O.nativeSourceHandler.canPlayType=function(a){try{return O.TEST_VID.canPlayType(a)}catch(b){return""}},O.nativeSourceHandler.canHandleSource=function(a){var b;return a.type?O.nativeSourceHandler.canPlayType(a.type):a.src?(b=u.getFileExtension(a.src),O.nativeSourceHandler.canPlayType("video/"+b)):""},O.nativeSourceHandler.handleSource=function(a,b){b.setSrc(a.src)},O.nativeSourceHandler.dispose=function(){},O.registerSourceHandler(O.nativeSourceHandler),O.canControlVolume=function(){try{var a=O.TEST_VID.volume;return O.TEST_VID.volume=a/2+.1,a!==O.TEST_VID.volume}catch(b){return!1}},O.canControlPlaybackRate=function(){if(D.IS_ANDROID&&D.IS_CHROME)return!1;try{var a=O.TEST_VID.playbackRate;return O.TEST_VID.playbackRate=a/2+.1,a!==O.TEST_VID.playbackRate}catch(b){return!1}},O.supportsNativeTextTracks=function(){var a;return a=!!O.TEST_VID.textTracks,a&&O.TEST_VID.textTracks.length>0&&(a="number"!=typeof O.TEST_VID.textTracks[0].mode),a&&D.IS_FIREFOX&&(a=!1),!a||"onremovetrack"in O.TEST_VID.textTracks||(a=!1),a},O.supportsNativeVideoTracks=function(){var a=!!O.TEST_VID.videoTracks;return a},O.supportsNativeAudioTracks=function(){var a=!!O.TEST_VID.audioTracks;return a},O.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],O.prototype.featuresVolumeControl=O.canControlVolume(),O.prototype.featuresPlaybackRate=O.canControlPlaybackRate(),O.prototype.movingMediaElementInDOM=!D.IS_IOS,O.prototype.featuresFullscreenResize=!0,O.prototype.featuresProgressEvents=!0,O.prototype.featuresNativeTextTracks=O.supportsNativeTextTracks(),O.prototype.featuresNativeVideoTracks=O.supportsNativeVideoTracks(),O.prototype.featuresNativeAudioTracks=O.supportsNativeAudioTracks();var Q=void 0,R=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,S=/^video\/*?mp4/i;O.patchCanPlayType=function(){D.ANDROID_VERSION>=4&&(Q||(Q=O.TEST_VID.constructor.prototype.canPlayType),O.TEST_VID.constructor.prototype.canPlayType=function(a){return a&&R.test(a)?"maybe":Q.call(this,a)}),D.IS_OLD_ANDROID&&(Q||(Q=O.TEST_VID.constructor.prototype.canPlayType),O.TEST_VID.constructor.prototype.canPlayType=function(a){return a&&S.test(a)?"maybe":Q.call(this,a)})},O.unpatchCanPlayType=function(){var a=O.TEST_VID.constructor.prototype.canPlayType;return O.TEST_VID.constructor.prototype.canPlayType=Q,Q=null,a},O.patchCanPlayType(),O.disposeMediaElement=function(a){if(a){for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&!function(){try{a.load()}catch(b){}}()}},O.resetMediaElement=function(a){if(a){for(var b=a.querySelectorAll("source"),c=b.length;c--;)a.removeChild(b[c]);a.removeAttribute("src"),"function"==typeof a.load&&!function(){try{a.load()}catch(b){}}()}},q["default"].registerComponent("Html5",O),o["default"].registerTech("Html5",O),c["default"]=O},{"../../../src/js/tracks/text-track.js":134,"../component":67,"../utils/browser.js":140,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options.js":148,"../utils/to-title-case.js":151,"../utils/url.js":152,"./tech.js":124,"global/document":7,"global/window":8,"object.assign":53,tsml:60}],123:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=a("../component.js"),i=d(h),j=a("./tech.js"),k=d(j),l=a("global/window"),m=(d(l),a("../utils/to-title-case.js")),n=d(m),o=function(a){function b(a,c,d){e(this,b);var g=f(this,Object.getPrototypeOf(b).call(this,a,c,d));if(c.playerOptions.sources&&0!==c.playerOptions.sources.length)a.src(c.playerOptions.sources);else for(var h=0,j=c.playerOptions.techOrder;h<j.length;h++){var l=n["default"](j[h]),m=k["default"].getTech(l);if(l||(m=i["default"].getComponent(l)),m&&m.isSupported()){a.loadTech_(l);break}}return g}return g(b,a),b}(i["default"]);i["default"].registerComponent("MediaLoader",o),c["default"]=o},{"../component.js":67,"../utils/to-title-case.js":151,"./tech.js":124,"global/window":8}],124:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);

return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function Q(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:Q(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("../component"),l=e(k),m=a("../tracks/html-track-element"),n=e(m),o=a("../tracks/html-track-element-list"),p=e(o),q=a("../utils/merge-options.js"),r=e(q),s=a("../tracks/text-track"),t=e(s),u=a("../tracks/text-track-list"),v=e(u),w=a("../tracks/video-track"),x=(e(w),a("../tracks/video-track-list")),y=e(x),z=a("../tracks/audio-track-list"),A=e(z),B=a("../tracks/audio-track"),C=(e(B),a("../utils/fn.js")),D=d(C),E=a("../utils/log.js"),F=e(E),G=a("../utils/time-ranges.js"),H=a("../utils/buffer.js"),I=a("../media-error.js"),J=e(I),K=a("global/window"),L=e(K),M=a("global/document"),N=e(M),O=function(a){function b(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];f(this,b),a.reportTouchActivity=!1;var d=g(this,Object.getPrototypeOf(b).call(this,null,a,c));return d.hasStarted_=!1,d.on("playing",function(){this.hasStarted_=!0}),d.on("loadstart",function(){this.hasStarted_=!1}),d.textTracks_=a.textTracks,d.videoTracks_=a.videoTracks,d.audioTracks_=a.audioTracks,d.featuresProgressEvents||d.manualProgressOn(),d.featuresTimeupdateEvents||d.manualTimeUpdatesOn(),(a.nativeCaptions===!1||a.nativeTextTracks===!1)&&(d.featuresNativeTextTracks=!1),d.featuresNativeTextTracks||d.on("ready",d.emulateTextTracks),d.initTextTrackListeners(),d.initTrackListeners(),d.emitTapEvents(),d}return h(b,a),i(b,[{key:"manualProgressOn",value:function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)}},{key:"manualProgressOff",value:function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)}},{key:"trackProgress",value:function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(D.bind(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,1===a&&this.stopTrackingProgress()}),500)}},{key:"onDurationChange",value:function(){this.duration_=this.duration()}},{key:"buffered",value:function(){return G.createTimeRange(0,0)}},{key:"bufferedPercent",value:function(){return H.bufferedPercent(this.buffered(),this.duration_)}},{key:"stopTrackingProgress",value:function(){this.clearInterval(this.progressInterval)}},{key:"manualTimeUpdatesOn",value:function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)}},{key:"manualTimeUpdatesOff",value:function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)}},{key:"trackCurrentTime",value:function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}},{key:"stopTrackingCurrentTime",value:function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}},{key:"dispose",value:function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),j(Object.getPrototypeOf(b.prototype),"dispose",this).call(this)}},{key:"clearTracks",value:function(a){var b=this;a=[].concat(a),a.forEach(function(a){for(var c=b[a+"Tracks"]()||[],d=c.length;d--;){var e=c[d];"text"===a&&b.removeRemoteTextTrack(e),c.removeTrack_(e)}})}},{key:"reset",value:function(){}},{key:"error",value:function(a){return void 0!==a&&(this.error_=a instanceof J["default"]?a:new J["default"](a),this.trigger("error")),this.error_}},{key:"played",value:function(){return this.hasStarted_?G.createTimeRange(0,0):G.createTimeRange()}},{key:"setCurrentTime",value:function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}},{key:"initTextTrackListeners",value:function(){var a=D.bind(this,function(){this.trigger("texttrackchange")}),b=this.textTracks();b&&(b.addEventListener("removetrack",a),b.addEventListener("addtrack",a),this.on("dispose",D.bind(this,function(){b.removeEventListener("removetrack",a),b.removeEventListener("addtrack",a)})))}},{key:"initTrackListeners",value:function(){var a=this,b=["video","audio"];b.forEach(function(b){var c=function(){a.trigger(b+"trackchange")},d=a[b+"Tracks"]();d.addEventListener("removetrack",c),d.addEventListener("addtrack",c),a.on("dispose",function(){d.removeEventListener("removetrack",c),d.removeEventListener("addtrack",c)})})}},{key:"emulateTextTracks",value:function(){var a=this,b=this.textTracks();if(b){L["default"].WebVTT||null==this.el().parentNode||!function(){var b=N["default"].createElement("script");b.src=a.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",b.onload=function(){a.trigger("vttjsloaded")},b.onerror=function(){a.trigger("vttjserror")},a.on("dispose",function(){b.onload=null,b.onerror=null}),L["default"].WebVTT=!0,a.el().parentNode.appendChild(b)}();var c=function(){return a.trigger("texttrackchange")},d=function(){c();for(var a=0;a<b.length;a++){var d=b[a];d.removeEventListener("cuechange",c),"showing"===d.mode&&d.addEventListener("cuechange",c)}};d(),b.addEventListener("change",d),this.on("dispose",function(){b.removeEventListener("change",d)})}}},{key:"videoTracks",value:function(){return this.videoTracks_=this.videoTracks_||new y["default"],this.videoTracks_}},{key:"audioTracks",value:function(){return this.audioTracks_=this.audioTracks_||new A["default"],this.audioTracks_}},{key:"textTracks",value:function(){return this.textTracks_=this.textTracks_||new v["default"],this.textTracks_}},{key:"remoteTextTracks",value:function(){return this.remoteTextTracks_=this.remoteTextTracks_||new v["default"],this.remoteTextTracks_}},{key:"remoteTextTrackEls",value:function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_}},{key:"addTextTrack",value:function(a,b,c){if(!a)throw new Error("TextTrack kind is required but was not provided");return P(this,a,b,c)}},{key:"addRemoteTextTrack",value:function(a){var b=r["default"](a,{tech:this}),c=new n["default"](b);return this.remoteTextTrackEls().addTrackElement_(c),this.remoteTextTracks().addTrack_(c.track),this.textTracks().addTrack_(c.track),c}},{key:"removeRemoteTextTrack",value:function(a){this.textTracks().removeTrack_(a);var b=this.remoteTextTrackEls().getTrackElementByTrack_(a);this.remoteTextTrackEls().removeTrackElement_(b),this.remoteTextTracks().removeTrack_(a)}},{key:"setPoster",value:function(){}},{key:"canPlayType",value:function(){return""}}],[{key:"isTech",value:function(a){return a.prototype instanceof b||a instanceof b||a===b}},{key:"registerTech",value:function(a,c){if(b.techs_||(b.techs_={}),!b.isTech(c))throw new Error("Tech "+a+" must be a Tech");return b.techs_[a]=c,c}},{key:"getTech",value:function(a){return b.techs_&&b.techs_[a]?b.techs_[a]:L["default"]&&L["default"].videojs&&L["default"].videojs[a]?(F["default"].warn("The "+a+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),L["default"].videojs[a]):void 0}}]),b}(l["default"]);O.prototype.textTracks_,O.prototype.audioTracks_,O.prototype.videoTracks_;var P=function(a,b,c,d){var e=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],f=a.textTracks();e.kind=b,c&&(e.label=c),d&&(e.language=d),e.tech=a;var g=new t["default"](e);return f.addTrack_(g),g};O.prototype.featuresVolumeControl=!0,O.prototype.featuresFullscreenResize=!1,O.prototype.featuresPlaybackRate=!1,O.prototype.featuresProgressEvents=!1,O.prototype.featuresTimeupdateEvents=!1,O.prototype.featuresNativeTextTracks=!1,O.withSourceHandlers=function(a){a.registerSourceHandler=function(b,c){var d=a.sourceHandlers;d||(d=a.sourceHandlers=[]),void 0===c&&(c=d.length),d.splice(c,0,b)},a.canPlayType=function(b){for(var c=a.sourceHandlers||[],d=void 0,e=0;e<c.length;e++)if(d=c[e].canPlayType(b))return d;return""},a.selectSourceHandler=function(b,c){for(var d=a.sourceHandlers||[],e=void 0,f=0;f<d.length;f++)if(e=d[f].canHandleSource(b,c))return d[f];return null},a.canPlaySource=function(b,c){var d=a.selectSourceHandler(b,c);return d?d.canHandleSource(b,c):""};var b=["seekable","duration"];b.forEach(function(a){var b=this[a];"function"==typeof b&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):b.apply(this,arguments)})},a.prototype),a.prototype.setSource=function(b){var c=a.selectSourceHandler(b,this.options_);return c||(a.nativeSourceHandler?c=a.nativeSourceHandler:F["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),c!==a.nativeSourceHandler&&(this.currentSource_=b,this.off(this.el_,"loadstart",a.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",a.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",a.prototype.firstLoadStartListener_)),this.sourceHandler_=c.handleSource(b,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},a.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",a.prototype.successiveLoadStartListener_)},a.prototype.successiveLoadStartListener_=function(){this.currentSource_=null,this.disposeSourceHandler(),this.one(this.el_,"loadstart",a.prototype.successiveLoadStartListener_)},a.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&(this.off(this.el_,"loadstart",a.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",a.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",O),l["default"].registerComponent("MediaTechController",O),O.registerTech("Tech",O),c["default"]=O},{"../component":67,"../media-error.js":108,"../tracks/audio-track":126,"../tracks/audio-track-list":125,"../tracks/html-track-element":128,"../tracks/html-track-element-list":127,"../tracks/text-track":134,"../tracks/text-track-list":132,"../tracks/video-track":139,"../tracks/video-track-list":138,"../utils/buffer.js":141,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options.js":148,"../utils/time-ranges.js":150,"global/document":7,"global/window":8}],125:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./track-list"),l=e(k),m=a("../utils/browser.js"),n=d(m),o=a("global/document"),p=e(o),q=function(a,b){for(var c=0;c<a.length;c++)b.id!==a[c].id&&(a[c].enabled=!1)},r=function(a){function b(){var a,c,d=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];f(this,b);for(var e=void 0,h=d.length-1;h>=0;h--)if(d[h].enabled){q(d,d[h]);break}if(n.IS_IE8){e=p["default"].createElement("custom");for(var i in l["default"].prototype)"constructor"!==i&&(e[i]=l["default"].prototype[i]);for(var j in b.prototype)"constructor"!==j&&(e[j]=b.prototype[j])}return e=a=g(this,Object.getPrototypeOf(b).call(this,d,e)),e.changing_=!1,c=e,g(a,c)}return h(b,a),i(b,[{key:"addTrack_",value:function(a){var c=this;a.enabled&&q(this,a),j(Object.getPrototypeOf(b.prototype),"addTrack_",this).call(this,a),a.addEventListener&&a.addEventListener("enabledchange",function(){c.changing_||(c.changing_=!0,q(c,a),c.changing_=!1,c.trigger("change"))})}},{key:"addTrack",value:function(a){this.addTrack_(a)}},{key:"removeTrack",value:function(a){j(Object.getPrototypeOf(b.prototype),"removeTrack_",this).call(this,a)}}]),b}(l["default"]);c["default"]=r},{"../utils/browser.js":140,"./track-list":136,"global/document":7}],126:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=a("./track-enums"),j=e(i),k=a("./track"),l=e(k),m=a("../utils/merge-options"),n=e(m),o=a("../utils/browser.js"),p=d(o),q=function(a){function b(){var a,c,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f(this,b);var e=n["default"](d,{kind:j["default"].AudioTrackKind[d.kind]||""}),h=a=g(this,Object.getPrototypeOf(b).call(this,e)),i=!1;if(p.IS_IE8)for(var k in b.prototype)"constructor"!==k&&(h[k]=b.prototype[k]);return Object.defineProperty(h,"enabled",{get:function(){return i},set:function(a){"boolean"==typeof a&&a!==i&&(i=a,this.trigger("enabledchange"))}}),e.enabled&&(h.enabled=e.enabled),h.loaded_=!0,c=h,g(a,c)}return h(b,a),b}(l["default"]);c["default"]=q},{"../utils/browser.js":140,"../utils/merge-options":148,"./track":137,"./track-enums":135}],127:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../utils/browser.js"),i=e(h),j=a("global/document"),k=d(j),l=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];f(this,a);var c=this;if(i.IS_IE8){c=k["default"].createElement("custom");for(var d in a.prototype)"constructor"!==d&&(c[d]=a.prototype[d])}c.trackElements_=[],Object.defineProperty(c,"length",{get:function(){return this.trackElements_.length}});for(var e=0,g=b.length;g>e;e++)c.addTrackElement_(b[e]);return i.IS_IE8?c:void 0}return g(a,[{key:"addTrackElement_",value:function(a){this.trackElements_.push(a)}},{key:"getTrackElementByTrack_",value:function(a){for(var b=void 0,c=0,d=this.trackElements_.length;d>c;c++)if(a===this.trackElements_[c].track){b=this.trackElements_[c];break}return b}},{key:"removeTrackElement_",value:function(a){for(var b=0,c=this.trackElements_.length;c>b;b++)if(a===this.trackElements_[b]){this.trackElements_.splice(b,1);break}}}]),a}();c["default"]=l},{"../utils/browser.js":140,"global/document":7}],128:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=a("../utils/browser.js"),j=e(i),k=a("global/document"),l=d(k),m=a("../event-target"),n=d(m),o=a("../tracks/text-track"),p=d(o),q=0,r=1,s=2,t=3,u=function(a){function b(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f(this,b);var c=g(this,Object.getPrototypeOf(b).call(this)),d=void 0,e=c;if(j.IS_IE8){e=l["default"].createElement("custom");for(var h in b.prototype)"constructor"!==h&&(e[h]=b.prototype[h])}var i=new p["default"](a);if(e.kind=i.kind,e.src=i.src,e.srclang=i.language,e.label=i.label,e["default"]=i["default"],Object.defineProperty(e,"readyState",{get:function(){return d}}),Object.defineProperty(e,"track",{get:function(){return i}}),d=q,i.addEventListener("loadeddata",function(){d=s,e.trigger({type:"load",target:e})}),j.IS_IE8){var k;return k=e,g(c,k)}return c}return h(b,a),b}(n["default"]);u.prototype.allowedEvents_={load:"load"},u.NONE=q,u.LOADING=r,u.LOADED=s,u.ERROR=t,c["default"]=u},{"../event-target":104,"../tracks/text-track":134,"../utils/browser.js":140,"global/document":7}],129:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../utils/browser.js"),i=e(h),j=a("global/document"),k=d(j),l=function(){function a(b){f(this,a);var c=this;if(i.IS_IE8){c=k["default"].createElement("custom");for(var d in a.prototype)"constructor"!==d&&(c[d]=a.prototype[d])}return a.prototype.setCues_.call(c,b),Object.defineProperty(c,"length",{get:function(){return this.length_}}),i.IS_IE8?c:void 0}return g(a,[{key:"setCues_",value:function(a){var b=this.length||0,c=0,d=a.length;this.cues_=a,this.length_=a.length;var e=function(a){""+a in this||Object.defineProperty(this,""+a,{get:function(){return this.cues_[a]}})};if(d>b)for(c=b;d>c;c++)e.call(this,c)}},{key:"getCueById",value:function(a){for(var b=null,c=0,d=this.length;d>c;c++){var e=this[c];if(e.id===a){b=e;break}}return b}}]),a}();c["default"]=l},{"../utils/browser.js":140,"global/document":7}],130:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){return"rgba("+parseInt(a[1]+a[1],16)+","+parseInt(a[2]+a[2],16)+","+parseInt(a[3]+a[3],16)+","+b+")"}function j(a,b,c){try{a.style[b]=c}catch(d){}}Object.defineProperty(c,"__esModule",{value:!0});var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function A(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:A(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},m=a("../component"),n=e(m),o=a("../menu/menu.js"),p=(e(o),a("../menu/menu-item.js")),q=(e(p),a("../menu/menu-button.js")),r=(e(q),a("../utils/fn.js")),s=d(r),t=a("global/document"),u=(e(t),a("global/window")),v=e(u),w="#222",x="#ccc",y={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},z=function(a){function b(a,c,d){f(this,b);var e=g(this,Object.getPrototypeOf(b).call(this,a,c,d));return a.on("loadstart",s.bind(e,e.toggleDisplay)),a.on("texttrackchange",s.bind(e,e.updateDisplay)),a.ready(s.bind(e,function(){if(a.tech_&&a.tech_.featuresNativeTextTracks)return void this.hide();a.on("fullscreenchange",s.bind(this,this.updateDisplay));for(var b=this.options_.playerOptions.tracks||[],c=0;c<b.length;c++){var d=b[c];this.player_.addRemoteTextTrack(d)}var e={captions:1,subtitles:1},f=this.player_.textTracks(),g=void 0,h=void 0;if(f){for(var i=0;i<f.length;i++){var j=f[i];j["default"]&&("descriptions"!==j.kind||g?j.kind in e&&!h&&(h=j):g=j)}h?h.mode="showing":g&&(g.mode="showing")}})),e}return h(b,a),k(b,[{key:"toggleDisplay",value:function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}},{key:"createEl",value:function(){return l(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"assertive","aria-atomic":"true"})}},{key:"clearDisplay",value:function(){"function"==typeof v["default"].WebVTT&&v["default"].WebVTT.processCues(v["default"],[],this.el_)}},{key:"updateDisplay",value:function(){var a=this.player_.textTracks();if(this.clearDisplay(),a){for(var b=null,c=null,d=a.length;d--;){var e=a[d];"showing"===e.mode&&("descriptions"===e.kind?b=e:c=e)}c?this.updateForTrack(c):b&&this.updateForTrack(b)}}},{key:"updateForTrack",value:function(a){if("function"==typeof v["default"].WebVTT&&a.activeCues){for(var b=this.player_.textTrackSettings.getValues(),c=[],d=0;d<a.activeCues.length;d++)c.push(a.activeCues[d]);v["default"].WebVTT.processCues(v["default"],c,this.el_);for(var e=c.length;e--;){var f=c[e];if(f){var g=f.displayState;if(b.color&&(g.firstChild.style.color=b.color),b.textOpacity&&j(g.firstChild,"color",i(b.color||"#fff",b.textOpacity)),b.backgroundColor&&(g.firstChild.style.backgroundColor=b.backgroundColor),b.backgroundOpacity&&j(g.firstChild,"backgroundColor",i(b.backgroundColor||"#000",b.backgroundOpacity)),b.windowColor&&(b.windowOpacity?j(g,"backgroundColor",i(b.windowColor,b.windowOpacity)):g.style.backgroundColor=b.windowColor),b.edgeStyle&&("dropshadow"===b.edgeStyle?g.firstChild.style.textShadow="2px 2px 3px "+w+", 2px 2px 4px "+w+", 2px 2px 5px "+w:"raised"===b.edgeStyle?g.firstChild.style.textShadow="1px 1px "+w+", 2px 2px "+w+", 3px 3px "+w:"depressed"===b.edgeStyle?g.firstChild.style.textShadow="1px 1px "+x+", 0 1px "+x+", -1px -1px "+w+", 0 -1px "+w:"uniform"===b.edgeStyle&&(g.firstChild.style.textShadow="0 0 4px "+w+", 0 0 4px "+w+", 0 0 4px "+w+", 0 0 4px "+w)),b.fontPercent&&1!==b.fontPercent){var h=v["default"].parseFloat(g.style.fontSize);g.style.fontSize=h*b.fontPercent+"px",g.style.height="auto",g.style.top="auto",g.style.bottom="2px"}b.fontFamily&&"default"!==b.fontFamily&&("small-caps"===b.fontFamily?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=y[b.fontFamily])}}}}}]),b}(n["default"]);n["default"].registerComponent("TextTrackDisplay",z),c["default"]=z},{"../component":67,"../menu/menu-button.js":109,"../menu/menu-item.js":110,"../menu/menu.js":111,"../utils/fn.js":144,"global/document":7,"global/window":8}],131:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){var b=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(b,c){return a[c]&&(b[c]=a[c]),b},{cues:a.cues&&Array.prototype.map.call(a.cues,function(a){return{startTime:a.startTime,endTime:a.endTime,text:a.text,id:a.id}})});return b},e=function(a){var b=a.$$("track"),c=Array.prototype.map.call(b,function(a){return a.track}),e=Array.prototype.map.call(b,function(a){var b=d(a.track);return a.src&&(b.src=a.src),b});return e.concat(Array.prototype.filter.call(a.textTracks(),function(a){return-1===c.indexOf(a)}).map(d))},f=function(a,b){return a.forEach(function(a){var c=b.addRemoteTextTrack(a).track;!a.src&&a.cues&&a.cues.forEach(function(a){return c.addCue(a)})}),b.textTracks()};c["default"]={textTracksToJson:e,jsonToTextTracks:f,trackToJson_:d}},{}],132:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function t(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:t(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./track-list"),l=e(k),m=a("../utils/fn.js"),n=d(m),o=a("../utils/browser.js"),p=d(o),q=a("global/document"),r=e(q),s=function(a){function b(){var a,c,d=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];f(this,b);var e=void 0;if(p.IS_IE8){e=r["default"].createElement("custom");for(var h in l["default"].prototype)"constructor"!==h&&(e[h]=l["default"].prototype[h]);for(var i in b.prototype)"constructor"!==i&&(e[i]=b.prototype[i])}return e=a=g(this,Object.getPrototypeOf(b).call(this,d,e)),c=e,g(a,c)}return h(b,a),i(b,[{key:"addTrack_",value:function(a){j(Object.getPrototypeOf(b.prototype),"addTrack_",this).call(this,a),a.addEventListener("modechange",n.bind(this,function(){this.trigger("change")}))}},{key:"removeTrack_",value:function(a){for(var b=void 0,c=0,d=this.length;d>c;c++)if(this[c]===a){b=this[c],b.off&&b.off(),this.tracks_.splice(c,1);break}b&&this.trigger({track:b,type:"removetrack"})}},{key:"getTrackById",value:function(a){for(var b=null,c=0,d=this.length;d>c;c++){var e=this[c];if(e.id===a){b=e;break}}return b}}]),b}(l["default"]);c["default"]=s},{"../utils/browser.js":140,"../utils/fn.js":144,"./track-list":136,"global/document":7}],133:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a){var b=void 0;return a.selectedOptions?b=a.selectedOptions[0]:a.options&&(b=a.options[a.options.selectedIndex]),b.value}function j(a,b){if(b){var c=void 0;for(c=0;c<a.options.length;c++){var d=a.options[c];if(d.value===b)break}a.selectedIndex=c}}function k(){var a='<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> <!-- vjs-fg-color -->\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-bg-color -->\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-window-color -->\n      </div> <!-- vjs-tracksettings -->\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> <!-- vjs-font-percent -->\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> <!-- vjs-edge-style -->\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> <!-- vjs-font-family -->\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>';

return a}Object.defineProperty(c,"__esModule",{value:!0});var l=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),n=function B(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:B(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},o=a("../component"),p=e(o),q=a("../utils/events.js"),r=d(q),s=a("../utils/fn.js"),t=d(s),u=a("../utils/log.js"),v=e(u),w=a("safe-json-parse/tuple"),x=e(w),y=a("global/window"),z=e(y),A=function(a){function b(a,c){f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this,a,c));return d.hide(),void 0===c.persistTextTrackSettings&&(d.options_.persistTextTrackSettings=d.options_.playerOptions.persistTextTrackSettings),r.on(d.$(".vjs-done-button"),"click",t.bind(d,function(){this.saveSettings(),this.hide()})),r.on(d.$(".vjs-default-button"),"click",t.bind(d,function(){this.$(".vjs-fg-color > select").selectedIndex=0,this.$(".vjs-bg-color > select").selectedIndex=0,this.$(".window-color > select").selectedIndex=0,this.$(".vjs-text-opacity > select").selectedIndex=0,this.$(".vjs-bg-opacity > select").selectedIndex=0,this.$(".vjs-window-opacity > select").selectedIndex=0,this.$(".vjs-edge-style select").selectedIndex=0,this.$(".vjs-font-family select").selectedIndex=0,this.$(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),r.on(d.$(".vjs-fg-color > select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".vjs-bg-color > select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".window-color > select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".vjs-text-opacity > select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".vjs-bg-opacity > select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".vjs-window-opacity > select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".vjs-font-percent select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".vjs-edge-style select"),"change",t.bind(d,d.updateDisplay)),r.on(d.$(".vjs-font-family select"),"change",t.bind(d,d.updateDisplay)),d.options_.persistTextTrackSettings&&d.restoreSettings(),d}return h(b,a),m(b,[{key:"createEl",value:function(){return n(Object.getPrototypeOf(b.prototype),"createEl",this).call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:k()})}},{key:"getValues",value:function(){var a=i(this.$(".vjs-edge-style select")),b=i(this.$(".vjs-font-family select")),c=i(this.$(".vjs-fg-color > select")),d=i(this.$(".vjs-text-opacity > select")),e=i(this.$(".vjs-bg-color > select")),f=i(this.$(".vjs-bg-opacity > select")),g=i(this.$(".window-color > select")),h=i(this.$(".vjs-window-opacity > select")),j=z["default"].parseFloat(i(this.$(".vjs-font-percent > select"))),k={backgroundOpacity:f,textOpacity:d,windowOpacity:h,edgeStyle:a,fontFamily:b,color:c,backgroundColor:e,windowColor:g,fontPercent:j};for(var l in k)(""===k[l]||"none"===k[l]||"fontPercent"===l&&1===k[l])&&delete k[l];return k}},{key:"setValues",value:function(a){j(this.$(".vjs-edge-style select"),a.edgeStyle),j(this.$(".vjs-font-family select"),a.fontFamily),j(this.$(".vjs-fg-color > select"),a.color),j(this.$(".vjs-text-opacity > select"),a.textOpacity),j(this.$(".vjs-bg-color > select"),a.backgroundColor),j(this.$(".vjs-bg-opacity > select"),a.backgroundOpacity),j(this.$(".window-color > select"),a.windowColor),j(this.$(".vjs-window-opacity > select"),a.windowOpacity);var b=a.fontPercent;b&&(b=b.toFixed(2)),j(this.$(".vjs-font-percent > select"),b)}},{key:"restoreSettings",value:function(){var a=void 0,b=void 0;try{var c=x["default"](z["default"].localStorage.getItem("vjs-text-track-settings")),d=l(c,2);a=d[0],b=d[1],a&&v["default"].error(a)}catch(e){v["default"].warn(e)}b&&this.setValues(b)}},{key:"saveSettings",value:function(){if(this.options_.persistTextTrackSettings){var a=this.getValues();try{Object.getOwnPropertyNames(a).length>0?z["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(a)):z["default"].localStorage.removeItem("vjs-text-track-settings")}catch(b){v["default"].warn(b)}}}},{key:"updateDisplay",value:function(){var a=this.player_.getChild("textTrackDisplay");a&&a.updateDisplay()}}]),b}(p["default"]);p["default"].registerComponent("TextTrackSettings",A),c["default"]=A},{"../component":67,"../utils/events.js":143,"../utils/fn.js":144,"../utils/log.js":147,"global/window":8,"safe-json-parse/tuple":58}],134:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./text-track-cue-list"),k=e(j),l=a("../utils/fn.js"),m=d(l),n=a("./track-enums"),o=a("../utils/log.js"),p=e(o),q=a("global/document"),r=(e(q),a("global/window")),s=e(r),t=a("./track.js"),u=e(t),v=a("../utils/url.js"),w=a("xhr"),x=e(w),y=a("../utils/merge-options"),z=e(y),A=a("../utils/browser.js"),B=d(A),C=function(a,b){var c=new s["default"].WebVTT.Parser(s["default"],s["default"].vttjs,s["default"].WebVTT.StringDecoder()),d=[];c.oncue=function(a){b.addCue(a)},c.onparsingerror=function(a){d.push(a)},c.onflush=function(){b.trigger({type:"loadeddata",target:b})},c.parse(a),d.length>0&&(console.groupCollapsed&&console.groupCollapsed("Text Track parsing errors for "+b.src),d.forEach(function(a){return p["default"].error(a)}),console.groupEnd&&console.groupEnd()),c.flush()},D=function(a,b){var c={uri:a},d=v.isCrossOrigin(a);d&&(c.cors=d),x["default"](c,m.bind(this,function(a,c,d){return a?p["default"].error(a,c):(b.loaded_=!0,void("function"!=typeof s["default"].WebVTT?b.tech_&&!function(){var a=function(){return C(d,b)};b.tech_.on("vttjsloaded",a),b.tech_.on("vttjserror",function(){p["default"].error("vttjs failed to load, stopping trying to process "+b.src),b.tech_.off("vttjsloaded",a)})}():C(d,b)))}))},E=function(a){function b(){var a,c,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(f(this,b),!d.tech)throw new Error("A tech was not provided.");var e=z["default"](d,{kind:n.TextTrackKind[d.kind]||"subtitles",language:d.language||d.srclang||""}),h=n.TextTrackMode[e.mode]||"disabled",i=e["default"];("metadata"===e.kind||"chapters"===e.kind)&&(h="hidden");var j=a=g(this,Object.getPrototypeOf(b).call(this,e));if(j.tech_=e.tech,B.IS_IE8)for(var l in b.prototype)"constructor"!==l&&(j[l]=b.prototype[l]);j.cues_=[],j.activeCues_=[];var o=new k["default"](j.cues_),p=new k["default"](j.activeCues_),q=!1,r=m.bind(j,function(){this.activeCues,q&&(this.trigger("cuechange"),q=!1)});return"disabled"!==h&&j.tech_.on("timeupdate",r),Object.defineProperty(j,"default",{get:function(){return i},set:function(){}}),Object.defineProperty(j,"mode",{get:function(){return h},set:function(a){n.TextTrackMode[a]&&(h=a,"showing"===h&&this.tech_.on("timeupdate",r),this.trigger("modechange"))}}),Object.defineProperty(j,"cues",{get:function(){return this.loaded_?o:null},set:function(){}}),Object.defineProperty(j,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return p;for(var a=this.tech_.currentTime(),b=[],c=0,d=this.cues.length;d>c;c++){var e=this.cues[c];e.startTime<=a&&e.endTime>=a?b.push(e):e.startTime===e.endTime&&e.startTime<=a&&e.startTime+.5>=a&&b.push(e)}if(q=!1,b.length!==this.activeCues_.length)q=!0;else for(var f=0;f<b.length;f++)-1===this.activeCues_.indexOf(b[f])&&(q=!0);return this.activeCues_=b,p.setCues_(this.activeCues_),p},set:function(){}}),e.src?(j.src=e.src,D(e.src,j)):j.loaded_=!0,c=j,g(a,c)}return h(b,a),i(b,[{key:"addCue",value:function(a){var b=this.tech_.textTracks();if(b)for(var c=0;c<b.length;c++)b[c]!==this&&b[c].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)}},{key:"removeCue",value:function(a){for(var b=!1,c=0,d=this.cues_.length;d>c;c++){var e=this.cues_[c];e===a&&(this.cues_.splice(c,1),b=!0)}b&&this.cues.setCues_(this.cues_)}}]),b}(u["default"]);E.prototype.allowedEvents_={cuechange:"cuechange"},c["default"]=E},{"../utils/browser.js":140,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options":148,"../utils/url.js":152,"./text-track-cue-list":129,"./track-enums":135,"./track.js":137,"global/document":7,"global/window":8,xhr:61}],135:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},e={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},f={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},g={disabled:"disabled",hidden:"hidden",showing:"showing"};c["default"]={VideoTrackKind:d,AudioTrackKind:e,TextTrackKind:f,TextTrackMode:g}},{}],136:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("../event-target"),k=e(j),l=a("../utils/fn.js"),m=(d(l),a("../utils/browser.js")),n=d(m),o=a("global/document"),p=e(o),q=function(a){function b(){var a,c=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],d=arguments.length<=1||void 0===arguments[1]?null:arguments[1];f(this,b);var e=g(this,Object.getPrototypeOf(b).call(this));if(!d&&(d=e,n.IS_IE8)){d=p["default"].createElement("custom");for(var h in b.prototype)"constructor"!==h&&(d[h]=b.prototype[h])}d.tracks_=[],Object.defineProperty(d,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<c.length;i++)d.addTrack_(c[i]);return a=d,g(e,a)}return h(b,a),i(b,[{key:"addTrack_",value:function(a){var b=this.tracks_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.tracks_[b]}}),-1===this.tracks_.indexOf(a)&&(this.tracks_.push(a),this.trigger({track:a,type:"addtrack"}))}},{key:"removeTrack_",value:function(a){for(var b=void 0,c=0,d=this.length;d>c;c++)if(this[c]===a){b=this[c],b.off&&b.off(),this.tracks_.splice(c,1);break}b&&this.trigger({track:b,type:"removetrack"})}},{key:"getTrackById",value:function(a){for(var b=null,c=0,d=this.length;d>c;c++){var e=this[c];if(e.id===a){b=e;break}}return b}}]),b}(k["default"]);q.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var r in q.prototype.allowedEvents_)q.prototype["on"+r]=null;c["default"]=q},{"../event-target":104,"../utils/browser.js":140,"../utils/fn.js":144,"global/document":7}],137:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=a("../utils/browser.js"),j=e(i),k=a("global/document"),l=d(k),m=a("../utils/guid.js"),n=e(m),o=a("../event-target"),p=d(o),q=function(a){function b(){var a,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f(this,b);var d=g(this,Object.getPrototypeOf(b).call(this)),e=d;if(j.IS_IE8){e=l["default"].createElement("custom");for(var h in b.prototype)"constructor"!==h&&(e[h]=b.prototype[h])}var i={id:c.id||"vjs_track_"+n.newGUID(),kind:c.kind||"",label:c.label||"",language:c.language||""},k=function(a){Object.defineProperty(e,a,{get:function(){return i[a]},set:function(){}})};for(var m in i)k(m);return a=e,g(d,a)}return h(b,a),b}(p["default"]);c["default"]=q},{"../event-target":104,"../utils/browser.js":140,"../utils/guid.js":146,"global/document":7}],138:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function s(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:s(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=a("./track-list"),l=e(k),m=a("../utils/browser.js"),n=d(m),o=a("global/document"),p=e(o),q=function(a,b){for(var c=0;c<a.length;c++)b.id!==a[c].id&&(a[c].selected=!1)},r=function(a){function b(){var a,c,d=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];f(this,b);for(var e=void 0,h=d.length-1;h>=0;h--)if(d[h].selected){q(d,d[h]);break}if(n.IS_IE8){e=p["default"].createElement("custom");for(var i in l["default"].prototype)"constructor"!==i&&(e[i]=l["default"].prototype[i]);for(var j in b.prototype)"constructor"!==j&&(e[j]=b.prototype[j])}return e=a=g(this,Object.getPrototypeOf(b).call(this,d,e)),e.changing_=!1,Object.defineProperty(e,"selectedIndex",{get:function(){for(var a=0;a<this.length;a++)if(this[a].selected)return a;return-1},set:function(){}}),c=e,g(a,c)}return h(b,a),i(b,[{key:"addTrack_",value:function(a){var c=this;a.selected&&q(this,a),j(Object.getPrototypeOf(b.prototype),"addTrack_",this).call(this,a),a.addEventListener&&a.addEventListener("selectedchange",function(){c.changing_||(c.changing_=!0,q(c,a),c.changing_=!1,c.trigger("change"))})}},{key:"addTrack",value:function(a){this.addTrack_(a)}},{key:"removeTrack",value:function(a){j(Object.getPrototypeOf(b.prototype),"removeTrack_",this).call(this,a)}}]),b}(l["default"]);c["default"]=r},{"../utils/browser.js":140,"./track-list":136,"global/document":7}],139:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=a("./track-enums"),j=a("./track"),k=e(j),l=a("../utils/merge-options"),m=e(l),n=a("../utils/browser.js"),o=d(n),p=function(a){function b(){var a,c,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f(this,b);var e=m["default"](d,{kind:i.VideoTrackKind[d.kind]||""}),h=a=g(this,Object.getPrototypeOf(b).call(this,e)),j=!1;if(o.IS_IE8)for(var k in b.prototype)"constructor"!==k&&(h[k]=b.prototype[k]);return Object.defineProperty(h,"selected",{get:function(){return j},set:function(a){"boolean"==typeof a&&a!==j&&(j=a,this.trigger("selectedchange"))}}),e.selected&&(h.selected=e.selected),c=h,g(a,c)}return h(b,a),b}(k["default"]);c["default"]=p},{"../utils/browser.js":140,"../utils/merge-options":148,"./track":137,"./track-enums":135}],140:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.BACKGROUND_SIZE_SUPPORTED=c.TOUCH_ENABLED=c.IS_IE8=c.IS_CHROME=c.IS_EDGE=c.IS_FIREFOX=c.IS_NATIVE_ANDROID=c.IS_OLD_ANDROID=c.ANDROID_VERSION=c.IS_ANDROID=c.IOS_VERSION=c.IS_IOS=c.IS_IPOD=c.IS_IPHONE=c.IS_IPAD=void 0;{var e=a("global/document"),f=d(e),g=a("global/window"),h=d(g),i=h["default"].navigator.userAgent,j=/AppleWebKit\/([\d.]+)/i.exec(i),k=j?parseFloat(j.pop()):null,l=c.IS_IPAD=/iPad/i.test(i),m=c.IS_IPHONE=/iPhone/i.test(i)&&!l,n=c.IS_IPOD=/iPod/i.test(i),o=(c.IS_IOS=m||l||n,c.IOS_VERSION=function(){var a=i.match(/OS (\d+)_/i);return a&&a[1]?a[1]:void 0}(),c.IS_ANDROID=/Android/i.test(i)),p=c.ANDROID_VERSION=function(){var a,b,c=i.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return c?(a=c[1]&&parseFloat(c[1]),b=c[2]&&parseFloat(c[2]),a&&b?parseFloat(c[1]+"."+c[2]):a?a:null):null}(),q=(c.IS_OLD_ANDROID=o&&/webkit/i.test(i)&&2.3>p,c.IS_NATIVE_ANDROID=o&&5>p&&537>k,c.IS_FIREFOX=/Firefox/i.test(i),c.IS_EDGE=/Edge/i.test(i));c.IS_CHROME=!q&&/Chrome/i.test(i),c.IS_IE8=/MSIE\s8\.0/.test(i),c.TOUCH_ENABLED=!!("ontouchstart"in h["default"]||h["default"].DocumentTouch&&f["default"]instanceof h["default"].DocumentTouch),c.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in f["default"].createElement("video").style}},{"global/document":7,"global/window":8}],141:[function(a,b,c){"use strict";function d(a,b){var c,d,f=0;if(!b)return 0;a&&a.length||(a=e.createTimeRange(0,0));for(var g=0;g<a.length;g++)c=a.start(g),d=a.end(g),d>b&&(d=b),f+=d-c;return f/b}Object.defineProperty(c,"__esModule",{value:!0}),c.bufferedPercent=d;var e=a("./time-ranges.js")},{"./time-ranges.js":150}],142:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function g(a){return"string"==typeof a&&/\S/.test(a)}function h(a){if(/\s/.test(a))throw new Error("class has illegal whitespace characters")}function i(a){return new RegExp("(^|\\s)"+a+"($|\\s)")}function j(a){return function(b,c){return g(b)?(g(c)&&(c=K["default"].querySelector(c)),(B(c)?c:K["default"])[a](b)):K["default"][a](null)}}function k(a){return 0===a.indexOf("#")&&(a=a.slice(1)),K["default"].getElementById(a)}function l(){var a=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],d=K["default"].createElement(a);return Object.getOwnPropertyNames(b).forEach(function(a){var c=b[a];-1!==a.indexOf("aria-")||"role"===a||"type"===a?(Q["default"].warn(S["default"](I,a,c)),d.setAttribute(a,c)):d[a]=c}),Object.getOwnPropertyNames(c).forEach(function(a){c[a];d.setAttribute(a,c[a])}),d}function m(a,b){"undefined"==typeof a.textContent?a.innerText=b:a.textContent=b}function n(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)}function o(a){var b=a[U];return b||(b=a[U]=O.newGUID()),T[b]||(T[b]={}),T[b]}function p(a){var b=a[U];return b?!!Object.getOwnPropertyNames(T[b]).length:!1}function q(a){var b=a[U];if(b){delete T[b];try{delete a[U]}catch(c){a.removeAttribute?a.removeAttribute(U):a[U]=null}}}function r(a,b){return a.classList?a.classList.contains(b):(h(b),i(b).test(a.className))}function s(a,b){return a.classList?a.classList.add(b):r(a,b)||(a.className=(a.className+" "+b).trim()),a}function t(a,b){return a.classList?a.classList.remove(b):(h(b),a.className=a.className.split(/\s+/).filter(function(a){return a!==b}).join(" ")),a}function u(a,b,c){var d=r(a,b);return"function"==typeof c&&(c=c(a,b)),"boolean"!=typeof c&&(c=!d),c!==d?(c?s(a,b):t(a,b),a):void 0}function v(a,b){Object.getOwnPropertyNames(b).forEach(function(c){var d=b[c];null===d||"undefined"==typeof d||d===!1?a.removeAttribute(c):a.setAttribute(c,d===!0?"":d)})}function w(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,("boolean"==typeof a[e]||-1!==c.indexOf(","+e+","))&&(f=null!==f?!0:!1),b[e]=f}return b}function x(){K["default"].body.focus(),K["default"].onselectstart=function(){return!1}}function y(){K["default"].onselectstart=function(){return!0}}function z(a){var b=void 0;if(a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),!b)return{left:0,top:0};var c=K["default"].documentElement,d=K["default"].body,e=c.clientLeft||d.clientLeft||0,f=M["default"].pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=M["default"].pageYOffset||d.scrollTop,j=b.top+i-h;return{left:Math.round(g),top:Math.round(j)}}function A(a,b){var c={},d=z(a),e=a.offsetWidth,f=a.offsetHeight,g=d.top,h=d.left,i=b.pageY,j=b.pageX;return b.changedTouches&&(j=b.changedTouches[0].pageX,i=b.changedTouches[0].pageY),c.y=Math.max(0,Math.min(1,(g-i+f)/f)),c.x=Math.max(0,Math.min(1,(j-h)/e)),c}function B(a){return!!a&&"object"===("undefined"==typeof a?"undefined":H(a))&&1===a.nodeType}function C(a){return!!a&&"object"===("undefined"==typeof a?"undefined":H(a))&&3===a.nodeType}function D(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a}function E(a){return"function"==typeof a&&(a=a()),(Array.isArray(a)?a:[a]).map(function(a){return"function"==typeof a&&(a=a()),B(a)||C(a)?a:"string"==typeof a&&/\S/.test(a)?K["default"].createTextNode(a):void 0}).filter(function(a){return a})}function F(a,b){return E(b).forEach(function(b){return a.appendChild(b)}),a}function G(a,b){return F(D(a),b)}Object.defineProperty(c,"__esModule",{value:!0}),c.$$=c.$=void 0;var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},I=f(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);c.getEl=k,c.createEl=l,c.textContent=m,c.insertElFirst=n,c.getElData=o,c.hasElData=p,c.removeElData=q,c.hasElClass=r,c.addElClass=s,c.removeElClass=t,c.toggleElClass=u,c.setElAttributes=v,c.getElAttributes=w,c.blockTextSelection=x,c.unblockTextSelection=y,c.findElPosition=z,c.getPointerPosition=A,c.isEl=B,c.isTextNode=C,c.emptyEl=D,c.normalizeContent=E,c.appendContent=F,c.insertContent=G;{var J=a("global/document"),K=e(J),L=a("global/window"),M=e(L),N=a("./guid.js"),O=d(N),P=a("./log.js"),Q=e(P),R=a("tsml"),S=e(R),T={},U="vdata"+(new Date).getTime();c.$=j("querySelector"),c.$$=j("querySelectorAll")}},{"./guid.js":146,"./log.js":147,"global/document":7,"global/window":8,tsml:60}],143:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b,c){if(Array.isArray(b))return l(f,a,b,c);var d=n.getElData(a);d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=p.newGUID()),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b,c){if(!d.disabled){b=j(b);var e=d.handlers[b.type];if(e)for(var f=e.slice(0),g=0,h=f.length;h>g&&!b.isImmediatePropagationStopped();g++)f[g].call(a,b,c)}}),1===d.handlers[b].length&&(a.addEventListener?a.addEventListener(b,d.dispatcher,!1):a.attachEvent&&a.attachEvent("on"+b,d.dispatcher))}function g(a,b,c){if(n.hasElData(a)){var d=n.getElData(a);if(d.handlers){if(Array.isArray(b))return l(g,a,b,c);var e=function(b){d.handlers[b]=[],k(a,b)};if(b){var f=d.handlers[b];if(f){if(!c)return void e(b);if(c.guid)for(var h=0;h<f.length;h++)f[h].guid===c.guid&&f.splice(h--,1);k(a,b)}}else for(var i in d.handlers)e(i)}}}function h(a,b,c){var d=n.hasElData(a)?n.getElData(a):{},e=a.parentNode||a.ownerDocument;if("string"==typeof b&&(b={type:b,target:a}),b=j(b),d.dispatcher&&d.dispatcher.call(a,b,c),e&&!b.isPropagationStopped()&&b.bubbles===!0)h.call(null,e,b,c);else if(!e&&!b.defaultPrevented){var f=n.getElData(b.target);b.target[b.type]&&(f.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),f.disabled=!1)}return!b.defaultPrevented}function i(a,b,c){if(Array.isArray(b))return l(i,a,b,c);var d=function e(){g(a,b,e),c.apply(this,arguments)};d.guid=c.guid=c.guid||p.newGUID(),f(a,b,d)}function j(a){function b(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var d=a||r["default"].event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&("returnValue"===e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||t["default"]),a.relatedTarget||(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement),a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,d.returnValue=!1,a.defaultPrevented=!0},a.defaultPrevented=!1,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,d.cancelBubble=!0,a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!=a.clientX){var f=t["default"].documentElement,g=t["default"].body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,null!=a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a}function k(a,b){var c=n.getElData(a);0===c.handlers[b].length&&(delete c.handlers[b],a.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),Object.getOwnPropertyNames(c.handlers).length<=0&&(delete c.handlers,delete c.dispatcher,delete c.disabled),0===Object.getOwnPropertyNames(c).length&&n.removeElData(a)}function l(a,b,c,d){c.forEach(function(c){a(b,c,d)})}Object.defineProperty(c,"__esModule",{value:!0}),c.on=f,c.off=g,c.trigger=h,c.one=i,c.fixEvent=j;var m=a("./dom.js"),n=e(m),o=a("./guid.js"),p=e(o),q=a("global/window"),r=d(q),s=a("global/document"),t=d(s)},{"./dom.js":142,"./guid.js":146,"global/document":7,"global/window":8}],144:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bind=void 0;{var d=a("./guid.js");c.bind=function(a,b,c){b.guid||(b.guid=d.newGUID());var e=function(){return b.apply(a,arguments)};return e.guid=c?c+"_"+b.guid:b.guid,e}}},{"./guid.js":146}],145:[function(a,b,c){"use strict";function d(a){var b=arguments.length<=1||void 0===arguments[1]?a:arguments[1];a=0>a?0:a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&10>d?"0"+d:d)+":",c=10>c?"0"+c:c,e+d+c}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d},{}],146:[function(a,b,c){"use strict";function d(){return e++}Object.defineProperty(c,"__esModule",{value:!0}),c.newGUID=d;var e=1},{}],147:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=Array.prototype.slice.call(b),d=function(){},e=g["default"].console||{log:d,warn:d,error:d};a?c.unshift(a.toUpperCase()+":"):a="log",h.history.push(c),c.unshift("VCPLAYER:"),e[a].apply?e[a].apply(e,c):e[a](c.join(" "))}Object.defineProperty(c,"__esModule",{value:!0});var f=a("global/window"),g=d(f),h=function(){e(null,arguments)};h.history=[],h.error=function(){e("error",arguments)},h.warn=function(){},c["default"]=h},{"global/window":8}],148:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return!!a&&"object"===("undefined"==typeof a?"undefined":g(a))&&"[object Object]"===a.toString()&&a.constructor===Object}function f(){var a=Array.prototype.slice.call(arguments);return a.unshift({}),a.push(j),i["default"].apply(null,a),a[0]}Object.defineProperty(c,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c["default"]=f;var h=a("lodash-compat/object/merge"),i=d(h),j=function(a,b){return e(b)?e(a)?void 0:f(b):b}},{"lodash-compat/object/merge":46}],149:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.setTextContent=c.createStyleElement=void 0;

{var e=a("global/document"),f=d(e);c.createStyleElement=function(a){var b=f["default"].createElement("style");return b.className=a,b},c.setTextContent=function(a,b){a.styleSheet?a.styleSheet.cssText=b:a.textContent=b}}},{"global/document":7}],150:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return Array.isArray(a)?f(a):void 0===a||void 0===b?f():f([[a,b]])}function f(a){return void 0===a||0===a.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:a.length,start:g.bind(null,"start",0,a),end:g.bind(null,"end",1,a)}}function g(a,b,c,d){return void 0===d&&(j["default"].warn("DEPRECATED: Function '"+a+"' on 'TimeRanges' called without an index argument."),d=0),h(a,d,c.length-1),c[d][b]}function h(a,b,c){if(0>b||b>c)throw new Error("Failed to execute '"+a+"' on 'TimeRanges': The index provided ("+b+") is greater than or equal to the maximum bound ("+c+").")}Object.defineProperty(c,"__esModule",{value:!0}),c.createTimeRange=void 0,c.createTimeRanges=e;var i=a("./log.js"),j=d(i);c.createTimeRange=e},{"./log.js":147}],151:[function(a,b,c){"use strict";function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d},{}],152:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.isCrossOrigin=c.getFileExtension=c.getAbsoluteURL=c.parseUrl=void 0;{var e=a("global/document"),f=d(e),g=a("global/window"),h=d(g),i=c.parseUrl=function(a){var b=["protocol","hostname","port","pathname","search","hash","host"],c=f["default"].createElement("a");c.href=a;var d=""===c.host&&"file:"!==c.protocol,e=void 0;d&&(e=f["default"].createElement("div"),e.innerHTML='<a href="'+a+'"></a>',c=e.firstChild,e.setAttribute("style","display:none; position:absolute;"),f["default"].body.appendChild(e));for(var g={},h=0;h<b.length;h++)g[b[h]]=c[b[h]];return"http:"===g.protocol&&(g.host=g.host.replace(/:80$/,"")),"https:"===g.protocol&&(g.host=g.host.replace(/:443$/,"")),d&&f["default"].body.removeChild(e),g};c.getAbsoluteURL=function(a){if(!a.match(/^https?:\/\//)){var b=f["default"].createElement("div");b.innerHTML='<a href="'+a+'">x</a>',a=b.firstChild.href}return a},c.getFileExtension=function(a){if("string"==typeof a){var b=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,c=b.exec(a);if(c)return c.pop().toLowerCase()}return""},c.isCrossOrigin=function(a){var b=h["default"].location,c=i(a),d=":"===c.protocol?b.protocol:c.protocol,e=d+c.host!==b.protocol+b.host;return e}}},{"global/document":7,"global/window":8}],153:[function(b,c,d){"use strict";function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b,c){var d=void 0;if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),h.getPlayers()[a])return b&&P["default"].warn('Player "'+a+'" is already initialised. Options will not be applied.'),c&&h.getPlayers()[a].ready(c),h.getPlayers()[a];d=R.getEl(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid.");return d.player||y["default"].players[d.playerId]||new y["default"](d,b,c)}Object.defineProperty(d,"__esModule",{value:!0});{var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},j=b("global/window"),k=f(j),l=b("global/document"),m=f(l),n=b("./setup"),o=e(n),p=b("./utils/stylesheet.js"),q=e(p),r=b("./component"),s=f(r),t=b("./event-target"),u=f(t),v=b("./utils/events.js"),w=e(v),x=b("./player"),y=f(x),z=b("./plugins.js"),A=f(z),B=b("../../src/js/utils/merge-options.js"),C=f(B),D=b("./utils/fn.js"),E=e(D),F=b("./tracks/text-track.js"),G=f(F),H=b("./tracks/audio-track.js"),I=f(H),J=b("./tracks/video-track.js"),K=f(J),L=b("./utils/time-ranges.js"),M=b("./utils/format-time.js"),N=f(M),O=b("./utils/log.js"),P=f(O),Q=b("./utils/dom.js"),R=e(Q),S=b("./utils/browser.js"),T=e(S),U=b("./utils/url.js"),V=e(U),W=b("./extend.js"),X=f(W),Y=b("lodash-compat/object/merge"),Z=f(Y),$=b("xhr"),_=f($),aa=b("./tech/tech.js"),ba=f(aa),ca=b("./tech/html5.js"),da=(f(ca),b("./tech/flash.js"));f(da)}if("undefined"==typeof HTMLVideoElement&&(m["default"].createElement("video"),m["default"].createElement("audio"),m["default"].createElement("track")),k["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var ea=R.$(".vjs-styles-defaults");if(!ea){ea=q.createStyleElement("vjs-styles-defaults");var fa=R.$("head");fa.insertBefore(ea,fa.firstChild),q.setTextContent(ea,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}o.autoSetupTimeout(1,h),h.VERSION="5.10.7",h.options=y["default"].prototype.options_,h.getPlayers=function(){return y["default"].players},h.players=y["default"].players,h.getComponent=s["default"].getComponent,h.registerComponent=function(a,b){ba["default"].isTech(b)&&P["default"].warn("The "+a+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),s["default"].registerComponent.call(s["default"],a,b)},h.getTech=ba["default"].getTech,h.registerTech=ba["default"].registerTech,h.browser=T,h.TOUCH_ENABLED=T.TOUCH_ENABLED,h.extend=X["default"],h.mergeOptions=C["default"],h.bind=E.bind,h.plugin=A["default"],h.addLanguage=function(a,b){return a=(""+a).toLowerCase(),Z["default"](h.options.languages,g({},a,b))[a]},h.log=P["default"],h.createTimeRange=h.createTimeRanges=L.createTimeRanges,h.formatTime=N["default"],h.parseUrl=V.parseUrl,h.isCrossOrigin=V.isCrossOrigin,h.EventTarget=u["default"],h.on=w.on,h.one=w.one,h.off=w.off,h.trigger=w.trigger,h.xhr=_["default"],h.TextTrack=G["default"],h.AudioTrack=I["default"],h.VideoTrack=K["default"],h.isEl=R.isEl,h.isTextNode=R.isTextNode,h.createEl=R.createEl,h.hasClass=R.hasElClass,h.addClass=R.addElClass,h.removeClass=R.removeElClass,h.toggleClass=R.toggleElClass,h.setAttributes=R.setElAttributes,h.getAttributes=R.getElAttributes,h.emptyEl=R.emptyEl,h.appendContent=R.appendContent,h.insertContent=R.insertContent,"function"==typeof a&&a.amd?a("videojs",[],function(){return h}):"object"===("undefined"==typeof d?"undefined":i(d))&&"object"===("undefined"==typeof c?"undefined":i(c))&&(c.exports=h),d["default"]=h},{"../../src/js/utils/merge-options.js":148,"./component":67,"./event-target":104,"./extend.js":105,"./player":113,"./plugins.js":114,"./setup":118,"./tech/flash.js":121,"./tech/html5.js":122,"./tech/tech.js":124,"./tracks/audio-track.js":126,"./tracks/text-track.js":134,"./tracks/video-track.js":139,"./utils/browser.js":140,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/format-time.js":145,"./utils/log.js":147,"./utils/stylesheet.js":149,"./utils/time-ranges.js":150,"./utils/url.js":152,"global/document":7,"global/window":8,"lodash-compat/object/merge":46,xhr:61}]},{},[153])(153)}),function(a){var b=a.vttjs={},c=b.VTTCue,d=b.VTTRegion,e=a.VTTCue,f=a.VTTRegion;b.shim=function(){b.VTTCue=c,b.VTTRegion=d},b.restore=function(){b.VTTCue=e,b.VTTRegion=f}}(this),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=h[a.toLowerCase()];return b?a.toLowerCase():!1}function d(a){if("string"!=typeof a)return!1;var b=i[a.toLowerCase()];return b?a.toLowerCase():!1}function e(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}function f(a,b,f){var h=this,i=/MSIE\s8\.0/.test(navigator.userAgent),j={};i?h=document.createElement("custom"):j.enumerable=!0,h.hasBeenReset=!1;var k="",l=!1,m=a,n=b,o=f,p=null,q="",r=!0,s="auto",t="start",u=50,v="middle",w=50,x="middle";return Object.defineProperty(h,"id",e({},j,{get:function(){return k},set:function(a){k=""+a}})),Object.defineProperty(h,"pauseOnExit",e({},j,{get:function(){return l},set:function(a){l=!!a}})),Object.defineProperty(h,"startTime",e({},j,{get:function(){return m},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");m=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",e({},j,{get:function(){return n},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");n=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",e({},j,{get:function(){return o},set:function(a){o=""+a,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",e({},j,{get:function(){return p},set:function(a){p=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",e({},j,{get:function(){return q},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");q=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",e({},j,{get:function(){return r},set:function(a){r=!!a,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",e({},j,{get:function(){return s},set:function(a){if("number"!=typeof a&&a!==g)throw new SyntaxError("An invalid number or illegal string was specified.");s=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",e({},j,{get:function(){return t},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");t=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",e({},j,{get:function(){return u},set:function(a){if(0>a||a>100)throw new Error("Position must be between 0 and 100.");u=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",e({},j,{get:function(){return v},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");v=b,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",e({},j,{get:function(){return w},set:function(a){if(0>a||a>100)throw new Error("Size must be between 0 and 100.");w=a,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",e({},j,{get:function(){return x},set:function(a){var b=d(a);if(!b)throw new SyntaxError("An invalid or illegal string was specified.");x=b,this.hasBeenReset=!0}})),h.displayState=void 0,i?h:void 0}var g="auto",h={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};f.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},a.VTTCue=a.VTTCue||f,b.VTTCue=f}(this,this.vttjs||{}),function(a,b){function c(a){if("string"!=typeof a)return!1;var b=f[a.toLowerCase()];return b?a.toLowerCase():!1}function d(a){return"number"==typeof a&&a>=0&&100>=a}function e(){var a=100,b=3,e=0,f=100,g=0,h=100,i="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(b){if(!d(b))throw new Error("Width must be between 0 and 100.");a=b}},lines:{enumerable:!0,get:function(){return b},set:function(a){if("number"!=typeof a)throw new TypeError("Lines must be set to a number.");b=a}},regionAnchorY:{enumerable:!0,get:function(){return f},set:function(a){if(!d(a))throw new Error("RegionAnchorX must be between 0 and 100.");f=a}},regionAnchorX:{enumerable:!0,get:function(){return e},set:function(a){if(!d(a))throw new Error("RegionAnchorY must be between 0 and 100.");e=a}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(a){if(!d(a))throw new Error("ViewportAnchorY must be between 0 and 100.");h=a}},viewportAnchorX:{enumerable:!0,get:function(){return g},set:function(a){if(!d(a))throw new Error("ViewportAnchorX must be between 0 and 100.");g=a}},scroll:{enumerable:!0,get:function(){return i},set:function(a){var b=c(a);if(b===!1)throw new SyntaxError("An invalid or illegal string was specified.");i=b}}})}var f={"":!0,up:!0};a.VTTRegion=a.VTTRegion||e,b.VTTRegion=e}(this,this.vttjs||{}),function(a){function b(a,b){this.name="ParsingError",this.code=a.code,this.message=b||a.message}function c(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1e3}var c=a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return c?c[3]?b(c[1],c[2],c[3].replace(":",""),c[4]):c[1]>59?b(c[1],c[2],0,c[4]):b(0,c[1],c[2],c[4]):null}function d(){this.values=o(null)}function e(a,b,c,d){var e=d?a.split(d):[a];for(var f in e)if("string"==typeof e[f]){var g=e[f].split(c);if(2===g.length){var h=g[0],i=g[1];b(h,i)}}}function f(a,f,g){function h(){var d=c(a);if(null===d)throw new b(b.Errors.BadTimeStamp,"Malformed timestamp: "+k);return a=a.replace(/^[^\sa-zA-Z-]+/,""),d}function i(a,b){var c=new d;e(a,function(a,b){switch(a){case"region":for(var d=g.length-1;d>=0;d--)if(g[d].id===b){c.set(a,g[d].region);break}break;case"vertical":c.alt(a,b,["rl","lr"]);break;case"line":var e=b.split(","),f=e[0];c.integer(a,f),c.percent(a,f)?c.set("snapToLines",!1):null,c.alt(a,f,["auto"]),2===e.length&&c.alt("lineAlign",e[1],["start","middle","end"]);break;case"position":e=b.split(","),c.percent(a,e[0]),2===e.length&&c.alt("positionAlign",e[1],["start","middle","end"]);break;case"size":c.percent(a,b);break;case"align":c.alt(a,b,["start","middle","end","left","right"])}},/:/,/\s/),b.region=c.get("region",null),b.vertical=c.get("vertical",""),b.line=c.get("line","auto"),b.lineAlign=c.get("lineAlign","start"),b.snapToLines=c.get("snapToLines",!0),b.size=c.get("size",100),b.align=c.get("align","middle"),b.position=c.get("position",{start:0,left:0,middle:50,end:100,right:100},b.align),b.positionAlign=c.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},b.align)}function j(){a=a.replace(/^\s+/,"")}var k=a;if(j(),f.startTime=h(),j(),"-->"!==a.substr(0,3))throw new b(b.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+k);a=a.substr(3),j(),f.endTime=h(),j(),i(a,f)}function g(a,b){function d(){function a(a){return b=b.substr(a.length),a}if(!b)return null;var c=b.match(/^([^<]*)(<[^>]+>?)?/);return a(c[1]?c[1]:c[2])}function e(a){return p[a]}function f(a){for(;o=a.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)a=a.replace(o[0],e);return a}function g(a,b){return!s[b.localName]||s[b.localName]===a.localName}function h(b,c){var d=q[b];if(!d)return null;var e=a.document.createElement(d);e.localName=d;var f=r[b];return f&&c&&(e[f]=c.trim()),e}for(var i,j=a.document.createElement("div"),k=j,l=[];null!==(i=d());)if("<"!==i[0])k.appendChild(a.document.createTextNode(f(i)));else{if("/"===i[1]){l.length&&l[l.length-1]===i.substr(2).replace(">","")&&(l.pop(),k=k.parentNode);continue}var m,n=c(i.substr(1,i.length-2));if(n){m=a.document.createProcessingInstruction("timestamp",n),k.appendChild(m);continue}var o=i.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!o)continue;if(m=h(o[1],o[3]),!m)continue;if(!g(k,m))continue;o[2]&&(m.className=o[2].substr(1).replace("."," ")),l.push(o[1]),k.appendChild(m),k=m}return j}function h(a){function b(a,b){for(var c=b.childNodes.length-1;c>=0;c--)a.push(b.childNodes[c])}function c(a){if(!a||!a.length)return null;var d=a.pop(),e=d.textContent||d.innerText;if(e){var f=e.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):e}return"ruby"===d.tagName?c(a):d.childNodes?(b(a,d),c(a)):void 0}var d,e=[],f="";if(!a||!a.childNodes)return"ltr";for(b(e,a);f=c(e);)for(var g=0;g<f.length;g++){d=f.charCodeAt(g);for(var h=0;h<t.length;h++)if(t[h]===d)return"rtl"}return"ltr"}function i(a){if("number"==typeof a.line&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var b=a.track,c=b.textTrackList,d=0,e=0;e<c.length&&c[e]!==b;e++)"showing"===c[e].mode&&d++;return-1*++d}function j(){}function k(a,b,c){var d=/MSIE\s8\.0/.test(navigator.userAgent),e="rgba(255, 255, 255, 1)",f="rgba(0, 0, 0, 0.8)";d&&(e="rgb(255, 255, 255)",f="rgb(0, 0, 0)"),j.call(this),this.cue=b,this.cueDiv=g(a,b.text);var i={color:e,backgroundColor:f,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};d||(i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",i.unicodeBidi="plaintext"),this.applyStyles(i,this.cueDiv),this.div=a.document.createElement("div"),i={textAlign:"middle"===b.align?"center":b.align,font:c.font,whiteSpace:"pre-line",position:"absolute"},d||(i.direction=h(this.cueDiv),i.writingMode=""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(i),this.div.appendChild(this.cueDiv);var k=0;switch(b.positionAlign){case"start":k=b.position;break;case"middle":k=b.position-b.size/2;break;case"end":k=b.position-b.size}this.applyStyles(""===b.vertical?{left:this.formatStyle(k,"%"),width:this.formatStyle(b.size,"%")}:{top:this.formatStyle(k,"%"),height:this.formatStyle(b.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function l(a){var b,c,d,e,f=/MSIE\s8\.0/.test(navigator.userAgent);if(a.div){c=a.div.offsetHeight,d=a.div.offsetWidth,e=a.div.offsetTop;var g=(g=a.div.childNodes)&&(g=g[0])&&g.getClientRects&&g.getClientRects();a=a.div.getBoundingClientRect(),b=g?Math.max(g[0]&&g[0].height||0,a.height/g.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||c,this.bottom=a.bottom||e+(a.height||c),this.width=a.width||d,this.lineHeight=void 0!==b?b:a.lineHeight,f&&!this.lineHeight&&(this.lineHeight=13)}function m(a,b,c,d){function e(a,b){for(var e,f=new l(a),g=1,h=0;h<b.length;h++){for(;a.overlapsOppositeAxis(c,b[h])||a.within(c)&&a.overlapsAny(d);)a.move(b[h]);if(a.within(c))return a;var i=a.intersectPercentage(c);g>i&&(e=new l(a),g=i),a=new l(f)}return e||f}var f=new l(b),g=b.cue,h=i(g),j=[];if(g.snapToLines){var k;switch(g.vertical){case"":j=["+y","-y"],k="height";break;case"rl":j=["+x","-x"],k="width";break;case"lr":j=["-x","+x"],k="width"}var m=f.lineHeight,n=m*Math.round(h),o=c[k]+m,p=j[0];Math.abs(n)>o&&(n=0>n?-1:1,n*=Math.ceil(o/m)*m),0>h&&(n+=""===g.vertical?c.height:c.width,j=j.reverse()),f.move(p,n)}else{var q=f.lineHeight/c.height*100;switch(g.lineAlign){case"middle":h-=q/2;break;case"end":h-=q}switch(g.vertical){case"":b.applyStyles({top:b.formatStyle(h,"%")});break;case"rl":b.applyStyles({left:b.formatStyle(h,"%")});break;case"lr":b.applyStyles({right:b.formatStyle(h,"%")})}j=["+y","-x","+x","-y"],f=new l(b)}var r=e(f,j);b.move(r.toCSSCompatValues(c))}function n(){}var o=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=b,new a}}();b.prototype=o(Error.prototype),b.prototype.constructor=b,b.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,c){return c?this.has(a)?this.values[a]:b[c]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,c){for(var d=0;d<c.length;++d)if(b===c[d]){this.set(a,b);break}},integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){var c;return(c=b.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(b=parseFloat(b),b>=0&&100>=b)?(this.set(a,b),!0):!1}};var p={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},q={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},r={v:"title",lang:"lang"},s={rt:"ruby"},t=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];j.prototype.applyStyles=function(a,b){b=b||this.div;for(var c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c])},j.prototype.formatStyle=function(a,b){return 0===a?0:a+b},k.prototype=o(j.prototype),k.prototype.constructor=k,l.prototype.move=function(a,b){switch(b=void 0!==b?b:this.lineHeight,a){case"+x":this.left+=b,this.right+=b;break;case"-x":this.left-=b,this.right-=b;break;case"+y":this.top+=b,this.bottom+=b;break;case"-y":this.top-=b,this.bottom-=b}},l.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top},l.prototype.overlapsAny=function(a){for(var b=0;b<a.length;b++)if(this.overlaps(a[b]))return!0;return!1},l.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right},l.prototype.overlapsOppositeAxis=function(a,b){switch(b){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}},l.prototype.intersectPercentage=function(a){var b=Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left)),c=Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top)),d=b*c;return d/(this.height*this.width)},l.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}},l.getSimpleBoxPosition=function(a){var b=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,c=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,d=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;

a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;var e={left:a.left,right:a.right,top:a.top||d,height:a.height||b,bottom:a.bottom||d+(a.height||b),width:a.width||c};return e},n.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}},n.convertCueToDOMTree=function(a,b){return a&&b?g(a,b):null};var u=.05,v="sans-serif",w="1.5%";n.processCues=function(a,b,c){function d(a){for(var b=0;b<a.length;b++)if(a[b].hasBeenReset||!a[b].displayState)return!0;return!1}if(!a||!b||!c)return null;for(;c.firstChild;)c.removeChild(c.firstChild);var e=a.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin=w,c.appendChild(e),d(b)){var f=[],g=l.getSimpleBoxPosition(e),h=Math.round(g.height*u*100)/100,i={font:h+"px "+v};!function(){for(var c,d,h=0;h<b.length;h++)d=b[h],c=new k(a,d,i),e.appendChild(c.div),m(a,c,g,f),d.displayState=c.div,f.push(l.getSimpleBoxPosition(c))}()}else for(var j=0;j<b.length;j++)e.appendChild(b[j].displayState)},n.Parser=function(a,b,c){c||(c=b,b={}),b||(b={}),this.window=a,this.vttjs=b,this.state="INITIAL",this.buffer="",this.decoder=c||new TextDecoder("utf8"),this.regionList=[]},n.Parser.prototype={reportOrThrowError:function(a){if(!(a instanceof b))throw a;this.onparsingerror&&this.onparsingerror(a)},parse:function(a){function c(){for(var a=i.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,i.buffer=a.substr(b),c}function g(a){var b=new d;if(e(a,function(a,c){switch(a){case"id":b.set(a,c);break;case"width":b.percent(a,c);break;case"lines":b.integer(a,c);break;case"regionanchor":case"viewportanchor":var e=c.split(",");if(2!==e.length)break;var f=new d;if(f.percent("x",e[0]),f.percent("y",e[1]),!f.has("x")||!f.has("y"))break;b.set(a+"X",f.get("x")),b.set(a+"Y",f.get("y"));break;case"scroll":b.alt(a,c,["up"])}},/=/,/\s/),b.has("id")){var c=new(i.vttjs.VTTRegion||i.window.VTTRegion);c.width=b.get("width",100),c.lines=b.get("lines",3),c.regionAnchorX=b.get("regionanchorX",0),c.regionAnchorY=b.get("regionanchorY",100),c.viewportAnchorX=b.get("viewportanchorX",0),c.viewportAnchorY=b.get("viewportanchorY",100),c.scroll=b.get("scroll",""),i.onregion&&i.onregion(c),i.regionList.push({id:b.get("id"),region:c})}}function h(a){e(a,function(a,b){switch(a){case"Region":g(b)}},/:/)}var i=this;a&&(i.buffer+=i.decoder.decode(a,{stream:!0}));try{var j;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;j=c();var k=j.match(/^WEBVTT([ \t].*)?$/);if(!k||!k[0])throw new b(b.Errors.BadSignature);i.state="HEADER"}for(var l=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(l?l=!1:j=c(),i.state){case"HEADER":/:/.test(j)?h(j):j||(i.state="ID");continue;case"NOTE":j||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(j)){i.state="NOTE";break}if(!j)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===j.indexOf("-->")){i.cue.id=j;continue}case"CUE":try{f(j,i.cue,i.regionList)}catch(m){i.reportOrThrowError(m),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var n=-1!==j.indexOf("-->");if(!j||n&&(l=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=j;continue;case"BADCUE":j||(i.state="ID");continue}}}catch(m){i.reportOrThrowError(m),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||"HEADER"===a.state)&&(a.buffer+="\n\n",a.parse()),"INITIAL"===a.state)throw new b(b.Errors.BadSignature)}catch(c){a.reportOrThrowError(c)}return a.onflush&&a.onflush(),this}},a.WebVTT=n}(this,this.vttjs||{}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.videojsContribHls=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=a("global/window"),g=d(f),h=function(a,b){for(var c=a.cues,d=0;d<c.length;d++){var e=c[d];if(b>=e.adStartTime&&b<=e.adEndTime)return e}return null},i=function(a,b){var c=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(a.segments)for(var d=c,f=void 0,i=0;i<a.segments.length;i++){var j=a.segments[i];if(f||(f=h(b,d+j.duration/2)),f){if("cueIn"in j){f.endTime=d,f.adEndTime=d,d+=j.duration,f=null;continue}if(d<f.endTime){d+=j.duration;continue}f.endTime+=j.duration}else if("cueOut"in j&&(f=new g["default"].VTTCue(d,d+j.duration,j.cueOut),f.adStartTime=d,f.adEndTime=d+parseFloat(j.cueOut),b.addCue(f)),"cueOutCont"in j){var k=void 0,l=void 0,m=j.cueOutCont.split("/").map(parseFloat),n=e(m,2);k=n[0],l=n[1],f=new g["default"].VTTCue(d,d+j.duration,""),f.adStartTime=d-k,f.adEndTime=f.adStartTime+l,b.addCue(f)}d+=j.duration}};c["default"]={updateAdCues:i,findAdCue:h}},{"global/window":24}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a,b){return a.start(b)+"-"+a.end(b)},e=function(a,b){var c=a.toString(16);return"00".substring(0,2-c.length)+c+(b%2?" ":"")},f=function(a){return a>=32&&126>a?String.fromCharCode(a):"."},g={hexDump:function(a){for(var b=Array.prototype.slice.call(a),c=16,d="",g=void 0,h=void 0,i=0;i<b.length/c;i++)g=b.slice(i*c,i*c+c).map(e).join(""),h=b.slice(i*c,i*c+c).map(f).join(""),d+=g+" "+h+"\n";return d},tagDump:function(a){return g.hexDump(a.bytes)},textRanges:function(a){var b="",c=void 0;for(c=0;c<a.length;c++)b+=d(a,c)+" ";return b}};c["default"]=g},{}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]={GOAL_BUFFER_LENGTH:30}},{}],4:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0}),c.MasterPlaylistController=c.mimeTypesForPlaylist_=void 0;{var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},j=a("./playlist-loader"),k=d(j),l=a("./segment-loader"),m=d(l),n=a("./ranges"),o=d(n),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=d(p),r=a("./ad-cue-tags"),s=d(r),t=a("./sync-controller"),u=d(t),v=3e5,w=void 0,x=function(a,b){if(("undefined"==typeof a?"undefined":i(a))!==("undefined"==typeof b?"undefined":i(b)))return!0;if(Object.keys(a).length!==Object.keys(b).length)return!0;for(var c in a)if(a[c]!==b[c])return!0;return!1},y=function(a){var b={codecCount:0,videoCodec:null,videoObjectTypeIndicator:null,audioProfile:null},c=void 0;return b.codecCount=a.split(",").length,b.codecCount=b.codecCount||2,c=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(a),c&&(b.videoCodec=c[2],b.videoObjectTypeIndicator=c[3]),b.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(a),b.audioProfile=b.audioProfile&&b.audioProfile[2],b},z=c.mimeTypesForPlaylist_=function(a,b){var c="mp2t",d={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},e=[],f=void 0,g=null;if(!b)return[];b.segments&&b.segments.length&&b.segments[0].map&&(c="mp4"),f=b.attributes||{},f.CODECS&&!function(){var a=y(f.CODECS);Object.keys(a).forEach(function(b){d[b]=a[b]||d[b]})}(),a.mediaGroups.AUDIO&&(e=a.mediaGroups.AUDIO[f.AUDIO]);for(var h in e){if(g&&!!e[h].uri!=!!g.uri)return["video/"+c+'; codecs="'+d.videoCodec+d.videoObjectTypeIndicator+", mp4a.40."+d.audioProfile+'"',"audio/"+c+'; codecs="mp4a.40.'+d.audioProfile+'"'];g=e[h]}return g&&g.uri?["video/"+c+'; codecs="'+d.videoCodec+d.videoObjectTypeIndicator+'"',"audio/"+c+'; codecs="mp4a.40.'+d.audioProfile+'"']:["video/"+c+'; codecs="'+d.videoCodec+d.videoObjectTypeIndicator+", mp4a.40."+d.audioProfile+'"']};c.MasterPlaylistController=function(a){function b(a){e(this,b);var c=f(this,Object.getPrototypeOf(b).call(this)),d=a.url,g=a.withCredentials,h=a.mode,i=a.tech,j=a.bandwidth,l=a.externHls,n=a.useCueTags;if(!d)throw new Error("A non-empty playlist URL is required");w=l,c.withCredentials=g,c.tech_=i,c.hls_=i.hls,c.mode_=h,c.useCueTags_=n,c.useCueTags_&&(c.cueTagsTrack_=c.tech_.addTextTrack("metadata","ad-cues"),c.cueTagsTrack_.inBandMetadataTrackDispatchType="",c.tech_.textTracks().addTrack_(c.cueTagsTrack_)),c.audioTracks_=[],c.requestOptions_={withCredentials:c.withCredentials,timeout:null},c.audioGroups_={},c.mediaSource=new q["default"].MediaSource({mode:h}),c.audioinfo_=null,c.mediaSource.on("audioinfo",c.handleAudioinfoUpdate_.bind(c)),c.mediaSource.addEventListener("sourceopen",c.handleSourceOpen_.bind(c)),c.seekable_=q["default"].createTimeRanges(),c.hasPlayed_=function(){return!1},c.syncController_=new u["default"];var o={hls:c.hls_,mediaSource:c.mediaSource,currentTime:c.tech_.currentTime.bind(c.tech_),seekable:function(){return c.seekable()},seeking:function(){return c.tech_.seeking()},setCurrentTime:function(a){return c.tech_.setCurrentTime(a)},hasPlayed:function(){return c.hasPlayed_()},bandwidth:j,syncController:c.syncController_};return c.masterPlaylistLoader_=new k["default"](d,c.hls_,c.withCredentials),c.setupMasterPlaylistLoaderListeners_(),c.audioPlaylistLoader_=null,c.mainSegmentLoader_=new m["default"](o),c.audioSegmentLoader_=new m["default"](o),c.setupSegmentLoaderListeners_(),c.masterPlaylistLoader_.start(),c}return g(b,a),h(b,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var a=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*a.masterPlaylistLoader_.targetDuration*1e3;a.requestOptions_.timeout=c,b.endList&&"none"!==a.tech_.preload()&&(a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load()),a.fillAudioTracks_(),a.setupAudio();try{a.setupSourceBuffers_()}catch(d){return q["default"].log.warn("Failed to create SourceBuffers",d),a.mediaSource.endOfStream("decode")}a.setupFirstPlay(),a.trigger("audioupdate"),a.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var b=a.masterPlaylistLoader_.media();return b?(a.useCueTags_&&a.updateAdCues_(b),a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.updateDuration(),void(b.endList||!function(){var b=function(){var b=a.seekable();0!==b.length&&a.mediaSource.addSeekableRange_(b.start(0),b.end(0))};a.duration()!==1/0?!function(){var c=function d(){a.duration()===1/0?b():a.tech_.one("durationchange",d)};a.tech_.one("durationchange",c)}():b()}())):(a.initialMedia_=a.selectPlaylist(),void a.masterPlaylistLoader_.media(a.initialMedia_))}),this.masterPlaylistLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){a.mainSegmentLoader_.abort(),a.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*a.masterPlaylistLoader_.targetDuration*1e3,d=void 0,e=void 0;a.requestOptions_.timeout=a.masterPlaylistLoader_.isLowestEnabledRendition_()?0:c,a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load(),d=a.activeAudioGroup(),e=d.filter(function(a){return a.enabled})[0],e||(a.setupAudio(),a.trigger("audioupdate")),a.tech_.trigger({type:"mediachange",bubbles:!0})})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("progress",function(){a.masterPlaylistLoader_.media(a.selectPlaylist()),a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("error",function(){q["default"].log.warn("Problem encountered with the current alternate audio track. Switching back to default."),a.audioSegmentLoader_.abort(),a.audioPlaylistLoader_=null,a.setupAudio()})}},{key:"handleAudioinfoUpdate_",value:function(a){if(w.supportsAudioInfoChange_()||!this.audioInfo_||!x(this.audioInfo_,a.info))return void(this.audioInfo_=a.info);var b="had different audio properties (channels, sample rate, etc.) or changed in some other way.  This behavior is currently unsupported in Firefox 48 and below due to an issue: \n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1247138\n\n",c=this.activeAudioGroup().map(function(a){return a.enabled}).indexOf(!0),d=this.activeAudioGroup()[c],e=this.activeAudioGroup().filter(function(a){return a.properties_&&a.properties_["default"]})[0];this.audioPlaylistLoader_?(b="The audio track '"+d.label+"' that we tried to "+("switch to "+b+" Unfortunately this means we will have to ")+("return you to the main track '"+e.label+"'. Sorry!"),e.enabled=!0,this.activeAudioGroup().splice(c,1),this.trigger("audioupdate")):(b="The rendition that we tried to switch to "+b+"Unfortunately that means we will have to blacklist the current playlist and switch to another. Sorry!",this.blacklistCurrentPlaylist()),q["default"].log.warn(b),this.setupAudio()}},{key:"mediaRequests_",value:function(){return this.audioSegmentLoader_.mediaRequests+this.mainSegmentLoader_.mediaRequests}},{key:"mediaTransferDuration_",value:function(){return this.audioSegmentLoader_.mediaTransferDuration+this.mainSegmentLoader_.mediaTransferDuration}},{key:"mediaBytesTransferred_",value:function(){return this.audioSegmentLoader_.mediaBytesTransferred+this.mainSegmentLoader_.mediaBytesTransferred}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"fillAudioTracks_",value:function(){var a=this.master(),b=a.mediaGroups||{};b&&b.AUDIO&&0!==Object.keys(b.AUDIO).length&&"html5"===this.mode_||(b.AUDIO={main:{"default":{"default":!0}}});for(var c in b.AUDIO){this.audioGroups_[c]||(this.audioGroups_[c]=[]);for(var d in b.AUDIO[c]){var e=b.AUDIO[c][d],f=new q["default"].AudioTrack({id:d,kind:e["default"]?"main":"alternative",enabled:!1,language:e.language,label:d});f.properties_=e,this.audioGroups_[c].push(f)}}(this.activeAudioGroup().filter(function(a){return a.properties_["default"]})[0]||this.activeAudioGroup()[0]).enabled=!0}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load()}},{key:"activeAudioGroup",value:function(){var a=this.masterPlaylistLoader_.media(),b=void 0;return a.attributes&&a.attributes.AUDIO&&(b=this.audioGroups_[a.attributes.AUDIO]),b||this.audioGroups_.main}},{key:"setupAudio",value:function(){var a=this,b=this.activeAudioGroup(),c=b.filter(function(a){return a.enabled})[0];return c||(c=b.filter(function(a){return a.properties_["default"]})[0]||b[0],c.enabled=!0),this.audioPlaylistLoader_&&(this.audioPlaylistLoader_.dispose(),this.audioPlaylistLoader_=null),this.audioSegmentLoader_.pause(),c.properties_.resolvedUri?(this.audioSegmentLoader_.resetEverything(),this.audioPlaylistLoader_=new k["default"](c.properties_.resolvedUri,this.hls_,this.withCredentials),this.audioPlaylistLoader_.start(),this.audioPlaylistLoader_.on("loadedmetadata",function(){var b=a.audioPlaylistLoader_.media();a.audioSegmentLoader_.playlist(b,a.requestOptions_),(!a.tech_.paused()||b.endList&&"none"!==a.tech_.preload())&&a.audioSegmentLoader_.load(),b.endList||a.audioPlaylistLoader_.trigger("firstplay")}),this.audioPlaylistLoader_.on("loadedplaylist",function(){var b=void 0;return a.audioPlaylistLoader_&&(b=a.audioPlaylistLoader_.media()),b?void a.audioSegmentLoader_.playlist(b,a.requestOptions_):void a.audioPlaylistLoader_.media(a.audioPlaylistLoader_.playlists.master.playlists[0])}),void this.audioPlaylistLoader_.on("error",function(){q["default"].log.warn("Problem encountered loading the alternate audio track. Switching back to default."),a.audioSegmentLoader_.abort(),a.setupAudio()})):void this.mainSegmentLoader_.resetEverything()}},{key:"fastQualityChange_",value:function(){var a=this.selectPlaylist();a!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(a),this.mainSegmentLoader_.resetLoader(),this.audiosegmentloader_&&this.audioSegmentLoader_.resetLoader())}},{key:"play",value:function(){return this.setupFirstPlay()?void 0:(this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load(),this.tech_.duration()===1/0&&this.tech_.currentTime()<this.tech_.seekable().start(0)?this.tech_.setCurrentTime(this.tech_.seekable().start(0)):void 0)}},{key:"setupFirstPlay",value:function(){var a=void 0,b=this.masterPlaylistLoader_.media();return!b||this.tech_.paused()||this.hasPlayed_()?!1:(b.endList||(this.trigger("firstplay"),a=this.seekable(),a.length&&this.tech_.setCurrentTime(a.end(0))),this.hasPlayed_=function(){return!0},this.load(),!0)}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(a){return q["default"].log.warn("Failed to create Source Buffers",a),this.mediaSource.endOfStream("decode")}this.tech_.autoplay()&&this.tech_.play(),this.trigger("sourceopen")}},{key:"blacklistCurrentPlaylist",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=void 0,c=void 0;return(b=a.playlist||this.masterPlaylistLoader_.media())?(b.excludeUntil=Date.now()+v,(c=this.selectPlaylist())?(q["default"].log.warn("Problem encountered with the current HLS playlist. Switching to another playlist."),this.masterPlaylistLoader_.media(c)):(q["default"].log.warn("Problem encountered with the current HLS playlist. No suitable alternatives found."),this.error=a,this.mediaSource.endOfStream("network"))):(this.error=a,this.mediaSource.endOfStream("network"))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(a){var b=o["default"].findRange(this.tech_.buffered(),a);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?b&&b.length?a:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.audioPlaylistLoader_&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),void(this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load()))):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:w.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var a=void 0,b=void 0,c=void 0;return!this.masterPlaylistLoader_||(a=this.masterPlaylistLoader_.media(),!a||(b=w.Playlist.seekable(a),0===b.length||this.audioPlaylistLoader_&&(c=w.Playlist.seekable(this.audioPlaylistLoader_.media()),0===c.length)))?void 0:c?void(this.seekable_=q["default"].createTimeRanges([[c.start(0)>b.start(0)?c.start(0):b.start(0),c.end(0)<b.end(0)?c.end(0):b.end(0)]])):void(this.seekable_=b)}},{key:"updateDuration",value:function(){var a=this,b=this.mediaSource.duration,c=w.Playlist.duration(this.masterPlaylistLoader_.media()),d=this.tech_.buffered(),e=function f(){a.mediaSource.duration=c,a.tech_.trigger("durationchange"),a.mediaSource.removeEventListener("sourceopen",f)};d.length>0&&(c=Math.max(c,d.end(d.length-1))),b!==c&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.audioPlaylistLoader_&&this.audioPlaylistLoader_.dispose(),this.audioSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var a=this.masterPlaylistLoader_.media(),b=void 0;if(a&&"open"===this.mediaSource.readyState){if(b=z(this.masterPlaylistLoader_.master,a),b.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+a.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(b[0]),b[1]&&this.audioSegmentLoader_.mimeType(b[1]),this.excludeIncompatibleVariants_(a)}}},{key:"excludeIncompatibleVariants_",value:function(a){var b=this.masterPlaylistLoader_.master,c=2,d=null,e=null,f=void 0;a.attributes&&a.attributes.CODECS&&(f=y(a.attributes.CODECS),d=f.videoCodec,e=f.audioProfile,c=f.codecCount),b.playlists.forEach(function(a){var b={codecCount:2,videoCodec:null,audioProfile:null};if(a.attributes&&a.attributes.CODECS){var f=a.attributes.CODECS;b=y(f),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+f+'"')&&(a.excludeUntil=1/0)}b.codecCount!==c&&(a.excludeUntil=1/0),b.videoCodec!==d&&(a.excludeUntil=1/0),("5"===b.audioProfile&&"5"!==e||"5"===e&&"5"!==b.audioProfile)&&(a.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(a){var b=0,c=this.seekable();c.length&&(b=c.start(0)),s["default"].updateAdCues(a,this.cueTagsTrack_,b)}}]),b}(q["default"].EventTarget)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":1,"./playlist-loader":6,"./ranges":8,"./segment-loader":12,"./sync-controller":15}],5:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./ranges"),h=d(g),i="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,j=d(i),k=["seeking","seeked","pause","playing","error"],l=function(){function a(b){var c=this;e(this,a),this.tech_=b.tech,this.seekable=b.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,b.debug&&(this.logger_=j["default"].log.bind(j["default"],"playback-watcher ->")),this.logger_("initialize");var d=function(){return c.waiting_()},f=function(){return c.cancelTimer_()};this.tech_.on("waiting",d),this.tech_.on(k,f),this.monitorCurrentTime_(),this.dispose=function(){c.logger_("dispose"),c.tech_.off("waiting",d),c.tech_.off(k,f),c.checkCurrentTimeTimeout_&&clearTimeout(c.checkCurrentTimeTimeout_),c.cancelTimer_()}}return f(a,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var a=this.tech_.currentTime();this.consecutiveUpdates>=5&&a===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):a===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=a)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"waiting_",value:function(){var a=this.seekable(),b=this.tech_.currentTime();if(!this.tech_.seeking()&&null===this.timer_){if(this.fellOutOfLiveWindow_(a,b)){var c=a.end(a.length-1);return this.logger_("Fell out of live window at time "+b+". Seeking to live point (seekable end) "+c),this.cancelTimer_(),void this.tech_.setCurrentTime(c)}var d=this.tech_.buffered(),e=h["default"].findNextRange(d,b);if(this.videoUnderflow_(e,d,b))return this.cancelTimer_(),void this.tech_.setCurrentTime(b);if(e.length>0){var f=e.start(0)-b;this.logger_("Stopped at "+b+", setting timer for "+f+", seeking to "+e.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*f,b)}}}},{key:"fellOutOfLiveWindow_",value:function(a,b){return a.length&&a.start(0)>0&&b<a.start(0)?!0:!1}},{key:"videoUnderflow_",value:function(a,b,c){if(0===a.length){var d=this.gapFromVideoUnderflow_(b,c);if(d)return this.logger_("Encountered a gap in video from "+d.start+" to "+d.end+". Seeking to current time "+c),!0}return!1}},{key:"skipTheGap_",value:function(a){var b=this.tech_.buffered(),c=this.tech_.currentTime(),d=h["default"].findNextRange(b,c);this.cancelTimer_(),0!==d.length&&c===a&&(this.logger_("skipTheGap_:","currentTime:",c,"scheduled currentTime:",a,"nextRange start:",d.start(0)),this.tech_.setCurrentTime(d.start(0)+h["default"].TIME_FUDGE_FACTOR))}},{key:"gapFromVideoUnderflow_",value:function(a,b){for(var c=h["default"].findGaps(a),d=0;d<c.length;d++){var e=c.start(d),f=c.end(d);if(4>b-e&&b-e>2)return{start:e,end:f}}return null}},{key:"logger_",value:function(){}}]),a}();c["default"]=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ranges":8}],6:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./resolve-url"),f=d(e),g="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,h=a("./stream"),i=d(h),j=a("m3u8-parser"),k=d(j),l=a("global/window"),m=d(l),n=function(a,b,c){var d=b.slice(),e=void 0,f=void 0;for(c=c||0,e=Math.min(a.length,b.length+c),f=c;e>f;f++)d[f-c]=g.mergeOptions(a[f],d[f-c]);return d},o=function(a,b){for(var c=!1,d=g.mergeOptions(a,{}),e=a.playlists.length,h=void 0,i=void 0,j=void 0;e--;)if(h=d.playlists[e],h.uri===b.uri){if(h.segments&&b.segments&&h.segments.length===b.segments.length&&h.mediaSequence===b.mediaSequence)continue;for(d.playlists[e]=g.mergeOptions(h,b),d.playlists[b.uri]=d.playlists[e],h.segments&&(d.playlists[e].segments=n(h.segments,b.segments,b.mediaSequence-h.mediaSequence)),j=0,d.playlists[e].segments&&(j=d.playlists[e].segments.length);j--;)i=d.playlists[e].segments[j],i.resolvedUri||(i.resolvedUri=f["default"](h.resolvedUri,i.uri)),i.key&&!i.key.resolvedUri&&(i.key.resolvedUri=f["default"](h.resolvedUri,i.key.uri)),i.map&&!i.map.resolvedUri&&(i.map.resolvedUri=f["default"](h.resolvedUri,i.map.uri));c=!0}return c?d:null},p=function q(a,b,c){var d=this,e=this,g=void 0,h=void 0,i=void 0,j=void 0,l=void 0;if(q.prototype.constructor.call(this),this.hls_=b,!a)throw new Error("A non-empty playlist URL is required");j=function(a,b,c){e.setBandwidth(i||a),i=null,c&&(e.state=c),e.error={playlist:e.master.playlists[b],status:a.status,message:"HLS playlist request error at URL: "+b,responseText:a.responseText,code:a.status>=500?4:2},e.trigger("error")},l=function(a,b){var c=void 0,d=void 0,f=void 0;e.setBandwidth(i||a),i=null,e.state="HAVE_METADATA",c=new k["default"].Parser,c.push(a.responseText),c.end(),c.manifest.uri=b,f=o(e.master,c.manifest),d=1e3*(c.manifest.targetDuration||10),e.targetDuration=c.manifest.targetDuration,f?(e.master=f,e.media_=e.master.playlists[c.manifest.uri]):d/=2,e.media().endList||(m["default"].clearTimeout(h),h=m["default"].setTimeout(function(){e.trigger("mediaupdatetimeout")},d)),e.trigger("loadedplaylist")},e.state="HAVE_NOTHING",g=this.dispose,e.dispose=function(){e.stopRequest(),m["default"].clearTimeout(h),g.call(this)},e.stopRequest=function(){if(i){var a=i;i=null,a.onreadystatechange=null,a.abort()}},e.enabledPlaylists_=function(){return e.master.playlists.filter(function(a){return!a.excludeUntil||a.excludeUntil<=Date.now()}).length},e.isLowestEnabledRendition_=function(){var a=e.media();if(!a||!a.attributes)return!1;var b=e.media().attributes.BANDWIDTH||0;return!(e.master.playlists.filter(function(a){var c="undefined"==typeof a.excludeUntil||a.excludeUntil<=Date.now();if(!c)return!1;var d=0;return a&&a.attributes&&(d=a.attributes.BANDWIDTH),b>=d}).length>1)},e.media=function(a){var b=e.state,d=void 0;if(!a)return e.media_;if("HAVE_NOTHING"===e.state)throw new Error("Cannot switch media playlist from "+e.state);if("string"==typeof a){if(!e.master.playlists[a])throw new Error("Unknown playlist URI: "+a);a=e.master.playlists[a]}if(d=!e.media_||a.uri!==e.media_.uri,e.master.playlists[a.uri].endList)return i&&(i.onreadystatechange=null,i.abort(),i=null),e.state="HAVE_METADATA",e.media_=a,void(d&&(e.trigger("mediachanging"),e.trigger("mediachange")));if(d){if(e.state="SWITCHING_MEDIA",i){if(f["default"](e.master.uri,a.uri)===i.url)return;i.onreadystatechange=null,i.abort(),i=null}this.media_&&this.trigger("mediachanging"),i=this.hls_.xhr({uri:f["default"](e.master.uri,a.uri),withCredentials:c},function(c,d){if(i){if(c)return j(i,a.uri,b);l(d,a.uri),e.trigger("HAVE_MASTER"===b?"loadedmetadata":"mediachange")}})}},e.setBandwidth=function(a){e.bandwidth=a.bandwidth},e.on("mediaupdatetimeout",function(){"HAVE_METADATA"===e.state&&(e.state="HAVE_CURRENT_METADATA",i=this.hls_.xhr({uri:f["default"](e.master.uri,e.media().uri),withCredentials:c},function(a){return i?a?j(i,e.media().uri):void l(i,e.media().uri):void 0}))}),e.on("firstplay",function(){var a=e.media();a&&(a.syncInfo={mediaSequence:a.mediaSequence,time:0})}),e.pause=function(){e.stopRequest(),m["default"].clearTimeout(h)},e.load=function(){e.started?e.trigger(e.media().endList?"loadedplaylist":"mediaupdatetimeout"):e.start()},e.start=function(){e.started=!0,i=d.hls_.xhr({uri:a,withCredentials:c},function(b,c){var d=void 0,g=void 0,h=void 0;if(i){if(i=null,b)return e.error={status:c.status,message:"HLS playlist request error at URL: "+a,responseText:c.responseText,code:2},e.trigger("error");if(d=new k["default"].Parser,d.push(c.responseText),d.end(),e.state="HAVE_MASTER",d.manifest.uri=a,d.manifest.playlists){for(e.master=d.manifest,h=e.master.playlists.length;h--;)g=e.master.playlists[h],e.master.playlists[g.uri]=g,g.resolvedUri=f["default"](e.master.uri,g.uri);for(var j in e.master.mediaGroups.AUDIO)for(var n in e.master.mediaGroups.AUDIO[j]){
var o=e.master.mediaGroups.AUDIO[j][n];o.uri&&(o.resolvedUri=f["default"](e.master.uri,o.uri))}return e.trigger("loadedplaylist"),void(i||e.media(d.manifest.playlists[0]))}return e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:m["default"].location.href,playlists:[{uri:a}]},e.master.playlists[a]=e.master.playlists[0],e.master.playlists[0].resolvedUri=a,l(c,a),e.trigger("loadedmetadata")}})}};p.prototype=new i["default"],c["default"]=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./resolve-url":11,"./stream":14,"global/window":24,"m3u8-parser":61}],7:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.getMediaInfoForTime_=c.seekable=c.sumDurations=c.duration=void 0;var e="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,f=a("global/window"),g=d(f),h={UNSAFE_LIVE_SEGMENTS:3},i=function(a,b){var c=0,d=b-a.mediaSequence,e=a.segments[d];if(e){if("undefined"!=typeof e.start)return{result:e.start,precise:!0};if("undefined"!=typeof e.end)return{result:e.end-e.duration,precise:!0}}for(;d--;){if(e=a.segments[d],"undefined"!=typeof e.end)return{result:c+e.end,precise:!0};if(c+=e.duration,"undefined"!=typeof e.start)return{result:c+e.start,precise:!0}}return{result:c,precise:!1}},j=function(a,b){for(var c=0,d=void 0,e=b-a.mediaSequence;e<a.segments.length;e++){if(d=a.segments[e],"undefined"!=typeof d.start)return{result:d.start-c,precise:!0};if(c+=d.duration,"undefined"!=typeof d.end)return{result:d.end-c,precise:!0}}return{result:-1,precise:!1}},k=function(a,b,c){var d=void 0,e=void 0;return"undefined"==typeof b&&(b=a.mediaSequence+a.segments.length),b<a.mediaSequence?0:(d=i(a,b),d.precise?d.result:(e=j(a,b),e.precise?e.result:d.result+c))},l=c.duration=function(a,b,c){if(!a)return 0;if("number"!=typeof c&&(c=0),"undefined"==typeof b){if(a.totalDuration)return a.totalDuration;if(!a.endList)return g["default"].Infinity}return k(a,b,c)},m=c.sumDurations=function(a,b,c){var d=0;if(b>c){var e=[c,b];b=e[0],c=e[1]}if(0>b){for(var f=b;f<Math.min(0,c);f++)d+=a.targetDuration;b=0}for(var g=b;c>g;g++)d+=a.segments[g].duration;return d},n=function(a){if(!a||!a.segments)return[null,null];for(var b=a.syncInfo||null,c=null,d=0,e=a.segments.length;e>d;d++){var f=a.segments[d];if("undefined"!=typeof f.start){c={mediaSequence:a.mediaSequence+d,time:f.start};break}}return{expiredSync:b,segmentSync:c}},o=function(a,b,c){if(b&&c){var d=b.mediaSequence-a.mediaSequence,e=c.mediaSequence-a.mediaSequence,f=void 0,g=void 0;return Math.abs(d)>Math.abs(e)?(f=e,g=-c.time):(f=d,g=b.time),Math.abs(g+m(a,f,0))}if(b){var h=b.mediaSequence-a.mediaSequence;return b.time+m(a,h,0)}if(c){var i=c.mediaSequence-a.mediaSequence;return c.time-m(a,i,0)}},p=c.seekable=function(a){if(!a||!a.segments)return e.createTimeRange();if(a.endList)return e.createTimeRange(0,l(a));var b=n(a),c=b.expiredSync,d=b.segmentSync;if(!c&&!d)return e.createTimeRange();var f=o(a,c,d),g=f,i=Math.max(0,a.segments.length-h.UNSAFE_LIVE_SEGMENTS),j=k(a,a.mediaSequence+i,f);return e.createTimeRange(g,j)},q=function(a){return a-Math.floor(a)===0},r=function(a,b){if(q(b))return b+.1*a;for(var c=b.toString().split(".")[1].length,d=1;c>=d;d++){var e=Math.pow(10,d),f=b*e;if(q(f)||d===c)return(f+a)/e}},s=r.bind(null,1),t=r.bind(null,-1),u=c.getMediaInfoForTime_=function(a,b,c,d){var e=void 0,f=void 0,g=a.segments.length,h=b-d;if(0>h){if(c>0)for(e=c-1;e>=0;e--)if(f=a.segments[e],h+=t(f.duration),h>0)return{mediaIndex:e,startTime:d-m(a,c,e)};return{mediaIndex:0,startTime:b}}if(0>c){for(e=c;0>e;e++)if(h-=a.targetDuration,0>h)return{mediaIndex:0,startTime:b};c=0}for(e=c;g>e;e++)if(f=a.segments[e],h-=s(f.duration),0>h)return{mediaIndex:e,startTime:d+m(a,c,e)};return{mediaIndex:g-1,startTime:b}};h.duration=l,h.seekable=p,h.getMediaInfoForTime_=u,c["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":24}],8:[function(a,b,c){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,f=b(e),g=1/30,h=function(a,b){var c=d(b,2),e=c[0],f=c[1];return Math.min(Math.max(e,a),f)},i=function(a,b){var c=[],d=void 0;if(a&&a.length)for(d=0;d<a.length;d++)b(a.start(d),a.end(d))&&c.push([a.start(d),a.end(d)]);return f["default"].createTimeRanges(c)},j=function(a,b){return i(a,function(a,c){return b>=a-g&&c+g>=b})},k=function(a,b){return i(a,function(a){return a-g>=b})},l=function(a){if(a.length<2)return f["default"].createTimeRanges();for(var b=[],c=1;c<a.length;c++){var d=a.end(c-1),e=a.start(c);b.push([d,e])}return f["default"].createTimeRanges(b)},m=function(a,b){var c=void 0,d=void 0,e=void 0,f=[],g=[],h=function(a){return a[0]<=e&&a[1]>=e};if(a)for(c=0;c<a.length;c++)d=a.start(c),e=a.end(c),g.push([d,e]);if(b)for(c=0;c<b.length;c++)d=b.start(c),e=b.end(c),g.some(h)||f.push(e);return 1!==f.length?null:f[0]},n=function(a,b){var c=null,d=null,e=0,g=[],h=[];if(!(a&&a.length&&b&&b.length))return f["default"].createTimeRange();for(var i=a.length;i--;)g.push({time:a.start(i),type:"start"}),g.push({time:a.end(i),type:"end"});for(i=b.length;i--;)g.push({time:b.start(i),type:"start"}),g.push({time:b.end(i),type:"end"});for(g.sort(function(a,b){return a.time-b.time}),i=0;i<g.length;i++)"start"===g[i].type?(e++,2===e&&(c=g[i].time)):"end"===g[i].type&&(e--,1===e&&(d=g[i].time)),null!==c&&null!==d&&(h.push([c,d]),c=null,d=null);return f["default"].createTimeRanges(h)},o=function(a,b,c,d){for(var e=b.end(0)-b.start(0),f=a.end(0)-a.start(0),g=e-f,h=n(a,d),i=n(b,d),j=0,k=0,l=h.length;l--;)j+=h.end(l)-h.start(l),h.start(l)===c&&(j+=g);for(l=i.length;l--;)k+=i.end(l)-i.start(l);return Math.max(j,k)/e*100},p=function(a,b,c,d){var e=a+b,g=f["default"].createTimeRanges([[a,e]]),i=f["default"].createTimeRanges([[h(a,[c,e]),e]]);if(i.start(0)===i.end(0))return 0;var j=o(i,g,c,d);return isNaN(j)||j===1/0||j===-(1/0)?0:j};c["default"]={findRange:j,findNextRange:k,findGaps:l,findSoleUncommonTimeRangesEnd:m,getSegmentBufferedPercent:p,TIME_FUDGE_FACTOR:g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(a,b,c){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,e=b(d),f={errorInterval:30,getSource:function(a){var b=this.tech({IWillNotUseThisInPlugins:!0}),c=b.currentSource_;return a(c)}},g=function i(a,b){var c=0,d=0,g=e["default"].mergeOptions(f,b),h=function(){d&&a.currentTime(d)},j=function(b){null!==b&&void 0!==b&&(d=a.duration()!==1/0&&a.currentTime()||0,a.one("loadedmetadata",h),a.src(b),a.play())},k=function(){return Date.now()-c<1e3*g.errorInterval?void 0:g.getSource&&"function"==typeof g.getSource?(c=Date.now(),g.getSource.call(a,j)):void e["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function n(){a.off("loadedmetadata",h),a.off("error",k),a.off("dispose",n)},m=function(b){l(),i(a,b)};a.on("error",k),a.on("dispose",l),a.reloadSourceOnError=m},h=function(a){g(this,a)};c["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(a,b,c){var d="undefined"==typeof a.excludeUntil||a.excludeUntil<=Date.now();return"undefined"==typeof c?d:(c!==d&&(c?delete a.excludeUntil:a.excludeUntil=1/0,b()),c)},f=function h(a,b,c){d(this,h);var f=a.masterPlaylistController_.fastQualityChange_.bind(a.masterPlaylistController_);if(b.attributes){var g=b.attributes;if(g.RESOLUTION){var i=g.RESOLUTION;this.width=i.width,this.height=i.height}this.bandwidth=g.BANDWIDTH}this.id=c,this.enabled=e.bind(this,b,f)},g=function(a){var b=a.playlists;a.representations=function(){return b.master.playlists.map(function(b,c){return new f(a,b,c)})}};c["default"]=g},{}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("url-toolkit"),f=d(e),g=a("global/window"),h=d(g),i=function(a,b){return/^[a-z]+:/i.test(b)?b:(/\/\//i.test(a)||(a=f["default"].buildAbsoluteURL(h["default"].location.href,a)),f["default"].buildAbsoluteURL(a,b))};c["default"]=i},{"global/window":24,"url-toolkit":90}],12:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./playlist"),j="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,k=d(j),l=a("./source-updater"),m=d(l),n=a("aes-decrypter"),o=a("./config"),p=d(o),q=a("global/window"),r=d(q),s=500,t="console",u=function(){r["default"].logit&&r["default"][t].log.apply(r["default"][t],arguments)},v=function(a,b,c){if(!a)return!1;var d=a.segments,e=c===d.length;return a.endList&&"open"===b.readyState&&e},w=function(a){var b=void 0,c=void 0;return c=a.offset+a.length-1,b=a.offset,"bytes="+b+"-"+c},x=function(a){var b={};return"byterange"in a&&(b.Range=w(a.byterange)),b},y=function(a){var b=a.byterange||{length:1/0,offset:0};return[b.length,b.offset,a.resolvedUri].join(",")},z=function(a){function b(a){e(this,b);var c=f(this,Object.getPrototypeOf(b).call(this)),d=void 0;if(!a)throw new TypeError("Initialization options are required");if("function"!=typeof a.currentTime)throw new TypeError("No currentTime getter specified");if(!a.mediaSource)throw new TypeError("No MediaSource specified");return d=k["default"].mergeOptions(k["default"].options.hls,a),c.state="INIT",c.bandwidth=d.bandwidth,c.throughput={rate:0,count:0},c.roundTrip=0/0,c.resetStats_(),c.mediaIndex=null,c.hasPlayed_=d.hasPlayed,c.currentTime_=d.currentTime,c.seekable_=d.seekable,c.seeking_=d.seeking,c.setCurrentTime_=d.setCurrentTime,c.mediaSource_=d.mediaSource,c.hls_=d.hls,c.checkBufferTimeout_=null,c.error_=void 0,c.currentTimeline_=-1,c.xhr_=null,c.pendingSegment_=null,c.mimeType_=null,c.sourceUpdater_=null,c.xhrOptions_=null,c.activeInitSegmentId_=null,c.initSegments_={},c.syncController_=d.syncController,c.syncPoint_={segmentIndex:0,time:0},c.syncController_.on("syncinfoupdate",function(){return c.trigger("syncinfoupdate")}),c.fetchAtBuffer_=!1,c}return g(b,a),h(b,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),void(this.paused()||(this.state="READY",this.fillBuffer_())))}},{key:"error",value:function(a){return"undefined"!=typeof a&&(this.error_=a),this.pendingSegment_=null,this.error_}},{key:"load",value:function(){return this.monitorBuffer_(),this.playlist_?(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.mimeType_?this.init_():void(!this.sourceUpdater_||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY",this.fillBuffer_()))):void 0}},{key:"playlist",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(a){var c=this.playlist_,d=this.pendingSegment_;if(null!==this.mediaIndex)if(c&&c.uri===a.uri)if(a.discontinuitySequence!==c.discontinuitySequence)this.mediaIndex=0,this.__segmentOffset=this.currentTime_();else{var e=a.mediaSequence-c.mediaSequence;this.mediaIndex-=e,d&&!d.isSyncRequest&&(d.mediaIndex-=e),this.syncController_.saveExpiredSegmentInfo(c,a)}else this.resyncLoader();else this.hasPlayed_()||(a.syncInfo={mediaSequence:a.mediaSequence,time:0},this.trigger("syncinfoupdate"));return this.playlist_=a,this.xhrOptions_=b,this.mimeType_&&"INIT"===this.state&&!this.paused()?this.init_():void 0}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(r["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(a){this.mimeType_||(this.mimeType_=a,this.playlist_&&"INIT"===this.state&&!this.paused()&&this.init_())}},{key:"monitorBuffer_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r["default"].setTimeout(this.monitorBuffer_.bind(this),s)}},{key:"getSyncSegmentCandidate_",value:function(a){var b=this;if(-1===this.currentTimeline_)return 0;var c=a.segments.map(function(a,b){return{timeline:a.timeline,segmentIndex:b}}).filter(function(a){return a.timeline===b.currentTimeline_});return c.length?c[Math.min(c.length-1,1)].segmentIndex:Math.max(a.segments.length-1,0)}},{key:"checkBuffer_",value:function(a,b,c,d,e,f){var g=0,h=void 0;a.length&&(g=a.end(a.length-1));var j=Math.max(0,g-e);if(!b.segments.length)return null;if(u("cB_","mediaIndex:",c,"hasPlayed:",d,"currentTime:",e,"syncPoint:",f,"fetchAtBuffer:",this.fetchAtBuffer_),u("cB_ 2","bufferedTime:",j),j>=p["default"].GOAL_BUFFER_LENGTH)return null;if(!d&&j>=1)return null;if(null===f)return c=this.getSyncSegmentCandidate_(b),u("getSync",c),this.generateSegmentInfo_(b,c,null,!0);if(null!==c){u("++",c+1);var k=b.segments[c];return h=k&&k.end?k.end:g,this.generateSegmentInfo_(b,c+1,h,!1)}if(this.fetchAtBuffer_){var l=i.getMediaInfoForTime_(b,g,f.segmentIndex,f.time);c=l.mediaIndex,h=l.startTime}else{var m=i.getMediaInfoForTime_(b,e,f.segmentIndex,f.time);c=m.mediaIndex,h=m.startTime}return u("gMIFT",c,"sos",h),this.generateSegmentInfo_(b,c,h,!1)}},{key:"generateSegmentInfo_",value:function(a,b,c,d){if(!(b>=a.segments.length)){if(0>b)return void this.resetEverything();var e=null;this.__segmentOffset&&(e=this.__segmentOffset);var f=a.segments[b];return{uri:f.resolvedUri,mediaIndex:b,isSyncRequest:d,startOfSegment:c,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:e,timeline:f.timeline,duration:f.duration}}}},{key:"abort_",value:function(){this.xhr_&&this.xhr_.abort(),this.pendingSegment_=null}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new m["default"](this.mediaSource_,this.mimeType_),this.resetEverything(),this.fillBuffer_()}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.mediaSource_.duration,this.currentTimeline_));var a=this.checkBuffer_(this.sourceUpdater_.buffered(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(a){var b=v(this.playlist_,this.mediaSource_,a.mediaIndex);return b?void this.mediaSource_.endOfStream():void((a.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((a.timeline!==this.currentTimeline_||null!==a.startOfSegment&&a.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),a.timestampOffset=a.startOfSegment),this.currentTimeline_=a.timeline,this.loadSegment_(a)))}}}},{key:"trimBuffer_",value:function(){var a=this.seekable_(),b=this.currentTime_(),c=void 0;return a.length&&a.start(0)>0&&a.start(0)<b?a.start(0):c=b-60}},{key:"loadSegment_",value:function(a){var b=void 0,c=void 0,d=void 0,e=void 0,f=0;if(f=this.trimBuffer_(a),f>0&&this.sourceUpdater_.remove(0,f),b=a.playlist.segments[a.mediaIndex],b.key){var g=k["default"].mergeOptions(this.xhrOptions_,{uri:b.key.resolvedUri,responseType:"arraybuffer"});c=this.hls_.xhr(g,this.handleResponse_.bind(this))}if(b.map&&!this.initSegments_[y(b.map)]){var h=k["default"].mergeOptions(this.xhrOptions_,{uri:b.map.resolvedUri,responseType:"arraybuffer",headers:x(b.map)});d=this.hls_.xhr(h,this.handleResponse_.bind(this))}this.pendingSegment_=a;var i=k["default"].mergeOptions(this.xhrOptions_,{uri:a.uri,responseType:"arraybuffer",headers:x(b)});e=this.hls_.xhr(i,this.handleResponse_.bind(this)),this.xhr_={keyXhr:c,initSegmentXhr:d,segmentXhr:e,abort:function(){this.segmentXhr&&(this.segmentXhr.onreadystatechange=null,this.segmentXhr.abort(),this.segmentXhr=null),this.initSegmentXhr&&(this.initSegmentXhr.onreadystatechange=null,this.initSegmentXhr.abort(),this.initSegmentXhr=null),this.keyXhr&&(this.keyXhr.onreadystatechange=null,this.keyXhr.abort(),this.keyXhr=null)}},this.state="WAITING"}},{key:"handleResponse_",value:function(a,b){var c=void 0,d=void 0,e=void 0;if(this.xhr_&&(b===this.xhr_.segmentXhr||b===this.xhr_.keyXhr||b===this.xhr_.initSegmentXhr)){if(c=this.pendingSegment_,d=c.playlist.segments[c.mediaIndex],b.timedout)return this.abort_(),this.bandwidth=1,this.roundTrip=0/0,this.state="READY",this.trigger("progress");if(!b.aborted&&a){var f=this.xhr_.keyXhr;return this.abort_(),this.error({status:b.status,message:b===f?"HLS key request error at URL: "+d.key.uri:"HLS segment request error at URL: "+c.uri,code:2,xhr:b}),this.state="READY",this.pause(),this.trigger("error")}if(!b.response)return void this.abort_();if(b===this.xhr_.segmentXhr&&(this.xhr_.segmentXhr=null,c.startOfAppend=Date.now(),this.roundTrip=b.roundTripTime,this.bandwidth=b.bandwidth,this.mediaBytesTransferred+=b.bytesReceived||0,this.mediaRequests+=1,this.mediaTransferDuration+=b.roundTripTime||0,d.key?c.encryptedBytes=new Uint8Array(b.response):c.bytes=new Uint8Array(b.response)),b===this.xhr_.keyXhr){if(this.xhr_.keyXhr=null,16!==b.response.byteLength)return this.abort_(),this.error({status:b.status,message:"Invalid HLS key at URL: "+d.key.uri,code:2,xhr:b}),this.state="READY",this.pause(),this.trigger("error");e=new DataView(b.response),d.key.bytes=new Uint32Array([e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12)]),d.key.iv=d.key.iv||new Uint32Array([0,0,0,c.mediaIndex+c.playlist.mediaSequence])}b===this.xhr_.initSegmentXhr&&(this.xhr_.initSegmentXhr=null,d.map.bytes=new Uint8Array(b.response),this.initSegments_[y(d.map)]=d.map),this.xhr_.segmentXhr||this.xhr_.keyXhr||this.xhr_.initSegmentXhr||(this.xhr_=null,this.processResponse_())}}},{key:"resetEverything",value:function(){this.resetLoader(),this.remove(0,1/0)}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null}},{key:"remove",value:function(a,b){this.sourceUpdater_&&this.sourceUpdater_.remove(a,b)}},{key:"processResponse_",value:function(){if(!this.pendingSegment_)return void(this.state="READY");this.state="DECRYPTING";var a=this.pendingSegment_,b=a.playlist.segments[a.mediaIndex];b.key?new n.Decrypter(a.encryptedBytes,b.key.bytes,b.key.iv,function(b,c){a.bytes=c,this.handleSegment_()}.bind(this)):this.handleSegment_()}},{key:"handleSegment_",value:function(){var a=this;if(!this.pendingSegment_)return void(this.state="READY");this.state="APPENDING";var b=this.pendingSegment_,c=b.playlist.segments[b.mediaIndex];return this.syncController_.probeSegmentInfo(b),b.isSyncRequest?(this.pendingSegment_=null,void(this.state="READY")):(null!==b.timestampOffset&&b.timestampOffset!==this.sourceUpdater_.timestampOffset()&&this.sourceUpdater_.timestampOffset(b.timestampOffset),c.map&&!function(){var b=y(c.map);if(!a.activeInitSegmentId_||a.activeInitSegmentId_!==b){var d=a.initSegments_[b];a.sourceUpdater_.appendBuffer(d.bytes,function(){a.activeInitSegmentId_=b})}}(),b.byteLength=b.bytes.byteLength,this.mediaSecondsLoaded+="number"==typeof c.start&&"number"==typeof c.end?c.end-c.start:c.duration,void this.sourceUpdater_.appendBuffer(b.bytes,this.handleUpdateEnd_.bind(this)))}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.fillBuffer_());var a=this.pendingSegment_;this.pendingSegment_=null,this.recordThroughput_(a),u("handleUpdateEnd_"),a.isSyncRequest||(this.mediaIndex=a.mediaIndex,this.fetchAtBuffer_=!0);var b=a.mediaIndex;b+=a.playlist.mediaSequence-this.playlist_.mediaSequence;var c=v(a.playlist,this.mediaSource_,b+1);c&&this.mediaSource_.endOfStream(),this.state="READY",this.trigger("progress"),this.paused()||this.fillBuffer_()}},{key:"recordThroughput_",value:function(a){var b=this.throughput.rate,c=Date.now()-a.startOfAppend+1,d=Math.floor(a.byteLength/c*8*1e3);this.throughput.rate+=(d-b)/++this.throughput.count}}]),b}(k["default"].EventTarget);c["default"]=z}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":3,"./playlist":7,"./source-updater":13,"aes-decrypter":20,"global/window":24}],13:[function(a,b,c){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,g=b(f),h=function(){function a(b,c){var e=this;d(this,a);var f=function(){e.sourceBuffer_=b.addSourceBuffer(c),e.onUpdateendCallback_=function(){var a=e.pendingCallback_;e.pendingCallback_=null,a&&a(),e.runCallback_()},e.sourceBuffer_.addEventListener("updateend",e.onUpdateendCallback_),e.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=b,"closed"===b.readyState?b.addEventListener("sourceopen",f):f()}return e(a,[{key:"abort",value:function(a){var b=this;this.queueCallback_(function(){b.sourceBuffer_.abort()},a)}},{key:"appendBuffer",value:function(a,b){var c=this;this.queueCallback_(function(){c.sourceBuffer_.appendBuffer(a)},b)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:g["default"].createTimeRanges()}},{key:"duration",value:function(a){var b=this;this.queueCallback_(function(){b.sourceBuffer_.duration=a})}},{key:"remove",value:function(a,b){var c=this;this.queueCallback_(function(){c.sourceBuffer_.remove(a,b)})}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating}},{key:"timestampOffset",value:function(a){var b=this;return"undefined"!=typeof a&&(this.queueCallback_(function(){b.sourceBuffer_.timestampOffset=a}),this.timestampOffset_=a),this.timestampOffset_}},{key:"queueCallback_",value:function(a,b){this.callbacks_.push([a.bind(this),b]),this.runCallback_()}},{key:"runCallback_",value:function(){var a=void 0;this.sourceBuffer_&&!this.sourceBuffer_.updating&&this.callbacks_.length&&(a=this.callbacks_.shift(),this.pendingCallback_=a[1],a[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),a}();c["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.listeners={}}return e(a,[{key:"on",value:function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)}},{key:"off",value:function(a,b){var c=void 0;return this.listeners[a]?(c=this.listeners[a].indexOf(b),this.listeners[a].splice(c,1),c>-1):!1}},{key:"trigger",value:function(a){var b=void 0,c=void 0,d=void 0,e=void 0;if(b=this.listeners[a])if(2===arguments.length)for(d=b.length,c=0;d>c;++c)b[c].call(this,arguments[1]);else for(e=Array.prototype.slice.call(arguments,1),d=b.length,c=0;d>c;++c)b[c].apply(this,e)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(a){this.on("data",function(b){a.push(b)})}}]),a}();c["default"]=f},{}],15:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=c.syncPointStrategies=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("mux.js/lib/mp4/probe"),j=d(i),k=a("mux.js/lib/tools/ts-inspector.js"),l=a("./playlist"),m="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,n=d(m),o="console",p=function(){window.logit&&window[o].log.apply(window[o],arguments)},q=c.syncPointStrategies=[{name:"VOD",run:function(a,b,c){if(c!==1/0){var d={time:0,segmentIndex:0};return d}return null}},{name:"ProgramDateTime",run:function(a,b){if(a.datetimeToDisplayTime&&b.dateTimeObject){var c=b.dateTimeObject.getTime()/1e3,d=c+a.datetimeToDisplayTime,e={time:d,segmentIndex:0};return e}return null}},{name:"Segment",run:function(a,b,c,d){for(var e=b.segments,f=e.length-1;f>=0;f--){var g=e[f];if(g.timeline===d&&"undefined"!=typeof g.start){var h={time:g.start,segmentIndex:f};return h}}return null}},{name:"Discontinuity",run:function(a,b){if(b.discontinuityStarts.length)for(var c=0;c<b.discontinuityStarts.length;c++){var d=b.discontinuityStarts[c],e=b.discontinuitySequence+c+1;if(a.discontinuities[e]){var f={time:a.discontinuities[e].time,segmentIndex:d};return f}}return null}},{name:"Playlist",run:function(a,b){if(b.syncInfo){var c={time:b.syncInfo.time,segmentIndex:b.syncInfo.mediaSequence-b.mediaSequence};return c}return null}}],r=function(a){function b(){e(this,b);var a=f(this,Object.getPrototypeOf(b).call(this));return a.inspectCache_=void 0,a.timelines=[],a.discontinuities=[],a.datetimeToDisplayTime=null,a}return g(b,a),h(b,[{key:"getSyncPoint",value:function(a,b,c){for(var d=0;d<q.length;d++){var e=q[d],f=e.run(this,a,b,c);if(f)return p("syncPoint found via <"+e.name+">:",f),f}return null}},{key:"saveExpiredSegmentInfo",value:function(a,b){for(var c=b.mediaSequence-a.mediaSequence,d=c-1;d>=0;d--){var e=a.segments[d];if("undefined"!=typeof e.start){b.syncInfo={mediaSequence:a.mediaSequence+d,time:e.start},p("playlist sync:",b.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(a){if(!this.datetimeToDisplayTime&&a.dateTimeObject){var b=a.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-b}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(a){var b=a.playlist.segments[a.mediaIndex],c=void 0;c=b.map?this.probeMp4Segment_(a):this.probeTsSegment_(a),c&&this.calculateSegmentTimeMapping_(a,c)&&this.saveDiscontinuitySyncInfo_(a)}},{key:"probeMp4Segment_",value:function(a){var b=a.playlist.segments[a.mediaIndex],c=j["default"].timescale(b.map.bytes),d=j["default"].startTime(c,a.bytes);return null!==a.timestampOffset&&(a.timestampOffset-=d),{start:d,end:d+b.duration}}},{key:"probeTsSegment_",value:function(a){var b=k.inspect(a.bytes,this.inspectCache_),c=void 0,d=void 0;return b?(b.video&&2===b.video.length?(this.inspectCache_=b.video[1].dts,c=b.video[0].dtsTime,d=b.video[1].dtsTime):b.audio&&2===b.audio.length&&(this.inspectCache_=b.audio[1].dts,c=b.audio[0].dtsTime,d=b.audio[1].dtsTime),{start:c,end:d}):null}},{key:"calculateSegmentTimeMapping_",value:function(a,b){var c=a.playlist.segments[a.mediaIndex],d=this.timelines[a.timeline];if(null!==a.timestampOffset)p("tsO:",a.timestampOffset),d={time:a.timestampOffset,mapping:a.timestampOffset-b.start},this.timelines[a.timeline]=d,c.start=a.timestampOffset,c.end=b.end+d.mapping;else{if(!d)return!1;c.start=b.start+d.mapping,c.end=b.end+d.mapping}return this.trigger("syncinfoupdate"),!0}},{key:"saveDiscontinuitySyncInfo_",value:function(a){var b=a.playlist,c=b.segments[a.mediaIndex];if(c.discontinuity)this.discontinuities[c.timeline]={time:c.start,accuracy:0};else if(b.discontinuityStarts.length)for(var d=0;d<b.discontinuityStarts.length;d++){var e=b.discontinuityStarts[d],f=b.discontinuitySequence+d+1,g=e-a.mediaIndex;g>0&&(!this.discontinuities[f]||this.discontinuities[f].accuracy>g)&&(this.discontinuities[f]={time:c.end+l.sumDurations(b,a.mediaIndex+1,e),accuracy:g})}}}]),b}(n["default"].EventTarget);c["default"]=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist":7,"mux.js/lib/mp4/probe":82,"mux.js/lib/tools/ts-inspector.js":84}],16:[function(a,b,c){(function(a){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var b="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=function(){var a=function c(a,d){if(a=b.mergeOptions({timeout:45e3},a),c.beforeRequest&&"function"==typeof c.beforeRequest){var e=c.beforeRequest(a);e&&(a=e)}var f=b.xhr(a,function(a,b){!a&&f.response&&(f.responseTime=Date.now(),f.roundTripTime=f.responseTime-f.requestTime,f.bytesReceived=f.response.byteLength||f.response.length,f.bandwidth||(f.bandwidth=Math.floor(f.bytesReceived/f.roundTripTime*8*1e3))),f.timedout=a||f.timedout?f.timedout||"ETIMEDOUT"===a.code:!1,a||200===b.statusCode||206===b.statusCode||0===b.statusCode||(a=new Error("XHR Failed with a response of: "+(f&&(f.response||f.responseText)))),d(a,f)});return f.requestTime=Date.now(),f};return a};c["default"]=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});

},{}],17:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){var a=[[[],[],[],[],[]],[[],[],[],[],[]]],b=a[0],c=a[1],d=b[4],e=c[4],f=void 0,g=void 0,h=void 0,i=[],j=[],k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0;for(f=0;256>f;f++)j[(i[f]=f<<1^283*(f>>7))^f]=f;for(g=h=0;!d[g];g^=k||1,h=j[h]||1)for(n=h^h<<1^h<<2^h<<3^h<<4,n=n>>8^255&n^99,d[g]=n,e[n]=g,m=i[l=i[k=i[g]]],p=16843009*m^65537*l^257*k^16843008*g,o=257*i[n]^16843008*n,f=0;4>f;f++)b[f][g]=o=o<<24^o>>>8,c[f][n]=p=p<<24^p>>>8;for(f=0;5>f;f++)b[f]=b[f].slice(0),c[f]=c[f].slice(0);return a},g=null,h=function(){function a(b){d(this,a),g||(g=f()),this._tables=[[g[0][0].slice(),g[0][1].slice(),g[0][2].slice(),g[0][3].slice(),g[0][4].slice()],[g[1][0].slice(),g[1][1].slice(),g[1][2].slice(),g[1][3].slice(),g[1][4].slice()]];var c=void 0,e=void 0,h=void 0,i=void 0,j=void 0,k=this._tables[0][4],l=this._tables[1],m=b.length,n=1;if(4!==m&&6!==m&&8!==m)throw new Error("Invalid aes key size");for(i=b.slice(0),j=[],this._key=[i,j],c=m;4*m+28>c;c++)h=i[c-1],(c%m===0||8===m&&c%m===4)&&(h=k[h>>>24]<<24^k[h>>16&255]<<16^k[h>>8&255]<<8^k[255&h],c%m===0&&(h=h<<8^h>>>24^n<<24,n=n<<1^283*(n>>7))),i[c]=i[c-m]^h;for(e=0;c;e++,c--)h=i[3&e?c:c-4],j[e]=4>=c||4>e?h:l[0][k[h>>>24]]^l[1][k[h>>16&255]]^l[2][k[h>>8&255]]^l[3][k[255&h]]}return e(a,[{key:"decrypt",value:function(a,b,c,d,e,f){var g=this._key[1],h=a^g[0],i=d^g[1],j=c^g[2],k=b^g[3],l=void 0,m=void 0,n=void 0,o=g.length/4-2,p=void 0,q=4,r=this._tables[1],s=r[0],t=r[1],u=r[2],v=r[3],w=r[4];for(p=0;o>p;p++)l=s[h>>>24]^t[i>>16&255]^u[j>>8&255]^v[255&k]^g[q],m=s[i>>>24]^t[j>>16&255]^u[k>>8&255]^v[255&h]^g[q+1],n=s[j>>>24]^t[k>>16&255]^u[h>>8&255]^v[255&i]^g[q+2],k=s[k>>>24]^t[h>>16&255]^u[i>>8&255]^v[255&j]^g[q+3],q+=4,h=l,i=m,j=n;for(p=0;4>p;p++)e[(3&-p)+f]=w[h>>>24]<<24^w[i>>16&255]<<16^w[j>>8&255]<<8^w[255&k]^g[q++],l=h,h=i,i=j,j=k,k=l}}]),a}();c["default"]=h,b.exports=c["default"]},{}],18:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./stream"),j=d(i),k=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,j["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return f(b,a),g(b,[{key:"processJob_",value:function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null}},{key:"push",value:function(a){this.jobs.push(a),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),b}(j["default"]);c["default"]=k,b.exports=c["default"]},{"./stream":21}],19:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./aes"),h=d(g),i=a("./async-stream"),j=d(i),k=a("pkcs7"),l=function(a){return a<<24|(65280&a)<<8|(16711680&a)>>8|a>>>24},m=function(a,b,c){var d=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2),e=new h["default"](Array.prototype.slice.call(b)),f=new Uint8Array(a.byteLength),g=new Int32Array(f.buffer),i=void 0,j=void 0,k=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0;for(i=c[0],j=c[1],k=c[2],m=c[3],r=0;r<d.length;r+=4)n=l(d[r]),o=l(d[r+1]),p=l(d[r+2]),q=l(d[r+3]),e.decrypt(n,o,p,q,g,r),g[r]=l(g[r]^i),g[r+1]=l(g[r+1]^j),g[r+2]=l(g[r+2]^k),g[r+3]=l(g[r+3]^m),i=n,j=o,k=p,m=q;return f};c.decrypt=m;var n=function(){function a(b,c,d,f){e(this,a);var g=a.STEP,h=new Int32Array(b.buffer),i=new Uint8Array(b.byteLength),m=0;for(this.asyncStream_=new j["default"],this.asyncStream_.push(this.decryptChunk_(h.subarray(m,m+g),c,d,i)),m=g;m<h.length;m+=g)d=new Uint32Array([l(h[m-4]),l(h[m-3]),l(h[m-2]),l(h[m-1])]),this.asyncStream_.push(this.decryptChunk_(h.subarray(m,m+g),c,d,i));this.asyncStream_.push(function(){f(null,k.unpad(i))})}return f(a,[{key:"decryptChunk_",value:function(a,b,c,d){return function(){var e=m(a,b,c);d.set(e,a.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),a}();c.Decrypter=n,c["default"]={Decrypter:n,decrypt:m}},{"./aes":17,"./async-stream":18,pkcs7:88}],20:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./decrypter"),f=a("./async-stream"),g=d(f);c["default"]={decrypt:e.decrypt,Decrypter:e.Decrypter,AsyncStream:g["default"]},b.exports=c["default"]},{"./async-stream":18,"./decrypter":19}],21:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.listeners={}}return e(a,[{key:"on",value:function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)}},{key:"off",value:function(a,b){var c=void 0;return this.listeners[a]?(c=this.listeners[a].indexOf(b),this.listeners[a].splice(c,1),c>-1):!1}},{key:"trigger",value:function(a){var b=void 0,c=void 0,d=void 0,e=void 0;if(b=this.listeners[a])if(2===arguments.length)for(d=b.length,c=0;d>c;++c)b[c].call(this,arguments[1]);else for(e=Array.prototype.slice.call(arguments,1),d=b.length,c=0;d>c;++c)b[c].apply(this,e)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(a){this.on("data",function(b){a.push(b)})}}]),a}();c["default"]=f,b.exports=c["default"]},{}],22:[function(){},{}],23:[function(a,b){(function(c){var d="undefined"!=typeof c?c:"undefined"!=typeof window?window:{},e=a("min-document");if("undefined"!=typeof document)b.exports=document;else{var f=d["__GLOBAL_DOCUMENT_CACHE@4"];f||(f=d["__GLOBAL_DOCUMENT_CACHE@4"]=e),b.exports=f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":22}],24:[function(a,b){(function(a){b.exports="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(a,b){function c(a,b){if("function"!=typeof a)throw new TypeError(d);return b=e(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,f=e(c.length-b,0),g=Array(f);++d<f;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var d="Expected a function",e=Math.max;b.exports=c},{}],26:[function(a,b){function c(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=c},{}],27:[function(a,b){function c(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=c},{}],28:[function(a,b){function c(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=c},{}],29:[function(a,b){var c=a("./createBaseFor"),d=c();b.exports=d},{"./createBaseFor":36}],30:[function(a,b){function c(a,b){return d(a,b,e)}var d=a("./baseFor"),e=a("../object/keysIn");b.exports=c},{"../object/keysIn":57,"./baseFor":29}],31:[function(a,b){function c(a,b,l,m,n){if(!h(a))return a;var o=g(b)&&(f(b)||j(b)),p=o?void 0:k(b);return d(p||b,function(d,f){if(p&&(f=d,d=b[f]),i(d))m||(m=[]),n||(n=[]),e(a,b,f,c,l,m,n);else{var g=a[f],h=l?l(g,d,f,a,b):void 0,j=void 0===h;j&&(h=d),void 0===h&&(!o||f in a)||!j&&(h===h?h===g:g!==g)||(a[f]=h)}}),a}var d=a("./arrayEach"),e=a("./baseMergeDeep"),f=a("../lang/isArray"),g=a("./isArrayLike"),h=a("../lang/isObject"),i=a("./isObjectLike"),j=a("../lang/isTypedArray"),k=a("../object/keys");b.exports=c},{"../lang/isArray":48,"../lang/isObject":51,"../lang/isTypedArray":54,"../object/keys":56,"./arrayEach":27,"./baseMergeDeep":32,"./isArrayLike":39,"./isObjectLike":44}],32:[function(a,b){function c(a,b,c,k,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,g(p)&&(f(p)||i(p))?r=f(q)?q:g(q)?d(q):[]:h(p)||e(p)?r=e(q)?j(q):h(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=k(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var d=a("./arrayCopy"),e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isArrayLike"),h=a("../lang/isPlainObject"),i=a("../lang/isTypedArray"),j=a("../lang/toPlainObject");b.exports=c},{"../lang/isArguments":47,"../lang/isArray":48,"../lang/isPlainObject":52,"../lang/isTypedArray":54,"../lang/toPlainObject":55,"./arrayCopy":26,"./isArrayLike":39}],33:[function(a,b){function c(a){return function(b){return null==b?void 0:d(b)[a]}}var d=a("./toObject");b.exports=c},{"./toObject":46}],34:[function(a,b){function c(a,b,c){if("function"!=typeof a)return d;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var d=a("../utility/identity");b.exports=c},{"../utility/identity":60}],35:[function(a,b){function c(a){return f(function(b,c){var f=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=d(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&e(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++f<g;){var k=c[f];k&&a(b,k,h)}return b})}var d=a("./bindCallback"),e=a("./isIterateeCall"),f=a("../function/restParam");b.exports=c},{"../function/restParam":25,"./bindCallback":34,"./isIterateeCall":42}],36:[function(a,b){function c(a){return function(b,c,e){for(var f=d(b),g=e(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}var d=a("./toObject");b.exports=c},{"./toObject":46}],37:[function(a,b){var c=a("./baseProperty"),d=c("length");b.exports=d},{"./baseProperty":33}],38:[function(a,b){function c(a,b){var c=null==a?void 0:a[b];return d(c)?c:void 0}var d=a("../lang/isNative");b.exports=c},{"../lang/isNative":50}],39:[function(a,b){function c(a){return null!=a&&e(d(a))}var d=a("./getLength"),e=a("./isLength");b.exports=c},{"./getLength":37,"./isLength":43}],40:[function(a,b){var c=function(){try{Object({toString:0}+"")}catch(a){return function(){return!1}}return function(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}}();b.exports=c},{}],41:[function(a,b){function c(a,b){return a="number"==typeof a||d.test(a)?+a:-1,b=null==b?e:b,a>-1&&a%1==0&&b>a}var d=/^\d+$/,e=9007199254740991;b.exports=c},{}],42:[function(a,b){function c(a,b,c){if(!f(c))return!1;var g=typeof b;if("number"==g?d(c)&&e(b,c.length):"string"==g&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var d=a("./isArrayLike"),e=a("./isIndex"),f=a("../lang/isObject");b.exports=c},{"../lang/isObject":51,"./isArrayLike":39,"./isIndex":41}],43:[function(a,b){function c(a){return"number"==typeof a&&a>-1&&a%1==0&&d>=a}var d=9007199254740991;b.exports=c},{}],44:[function(a,b){function c(a){return!!a&&"object"==typeof a}b.exports=c},{}],45:[function(a,b){function c(a){for(var b=i(a),c=b.length,j=c&&a.length,l=!!j&&g(j)&&(e(a)||d(a)||h(a)),m=-1,n=[];++m<c;){var o=b[m];(l&&f(o,j)||k.call(a,o))&&n.push(o)}return n}var d=a("../lang/isArguments"),e=a("../lang/isArray"),f=a("./isIndex"),g=a("./isLength"),h=a("../lang/isString"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=c},{"../lang/isArguments":47,"../lang/isArray":48,"../lang/isString":53,"../object/keysIn":57,"./isIndex":41,"./isLength":43}],46:[function(a,b){function c(a){if(f.unindexedChars&&e(a)){for(var b=-1,c=a.length,g=Object(a);++b<c;)g[b]=a.charAt(b);return g}return d(a)?a:Object(a)}var d=a("../lang/isObject"),e=a("../lang/isString"),f=a("../support");b.exports=c},{"../lang/isObject":51,"../lang/isString":53,"../support":59}],47:[function(a,b){function c(a){return e(a)&&d(a)&&g.call(a,"callee")&&!h.call(a,"callee")}var d=a("../internal/isArrayLike"),e=a("../internal/isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable;b.exports=c},{"../internal/isArrayLike":39,"../internal/isObjectLike":44}],48:[function(a,b){var c=a("../internal/getNative"),d=a("../internal/isLength"),e=a("../internal/isObjectLike"),f="[object Array]",g=Object.prototype,h=g.toString,i=c(Array,"isArray"),j=i||function(a){return e(a)&&d(a.length)&&h.call(a)==f};b.exports=j},{"../internal/getNative":38,"../internal/isLength":43,"../internal/isObjectLike":44}],49:[function(a,b){function c(a){return d(a)&&g.call(a)==e}var d=a("./isObject"),e="[object Function]",f=Object.prototype,g=f.toString;b.exports=c},{"./isObject":51}],50:[function(a,b){function c(a){return null==a?!1:d(a)?k.test(i.call(a)):f(a)&&(e(a)?k:g).test(a)}var d=a("./isFunction"),e=a("../internal/isHostObject"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=c},{"../internal/isHostObject":40,"../internal/isObjectLike":44,"./isFunction":49}],51:[function(a,b){function c(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=c},{}],52:[function(a,b){function c(a){var b;if(!g(a)||l.call(a)!=i||f(a)||e(a)||!k.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return h.ownLast?(d(a,function(a,b,d){return c=k.call(d,b),!1}),c!==!1):(d(a,function(a,b){c=b}),void 0===c||k.call(a,c))}var d=a("../internal/baseForIn"),e=a("./isArguments"),f=a("../internal/isHostObject"),g=a("../internal/isObjectLike"),h=a("../support"),i="[object Object]",j=Object.prototype,k=j.hasOwnProperty,l=j.toString;b.exports=c},{"../internal/baseForIn":30,"../internal/isHostObject":40,"../internal/isObjectLike":44,"../support":59,"./isArguments":47}],53:[function(a,b){function c(a){return"string"==typeof a||d(a)&&g.call(a)==e}var d=a("../internal/isObjectLike"),e="[object String]",f=Object.prototype,g=f.toString;b.exports=c},{"../internal/isObjectLike":44}],54:[function(a,b){function c(a){return e(a)&&d(a.length)&&!!C[E.call(a)]}var d=a("../internal/isLength"),e=a("../internal/isObjectLike"),f="[object Arguments]",g="[object Array]",h="[object Boolean]",i="[object Date]",j="[object Error]",k="[object Function]",l="[object Map]",m="[object Number]",n="[object Object]",o="[object RegExp]",p="[object Set]",q="[object String]",r="[object WeakMap]",s="[object ArrayBuffer]",t="[object Float32Array]",u="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",y="[object Uint8Array]",z="[object Uint8ClampedArray]",A="[object Uint16Array]",B="[object Uint32Array]",C={};C[t]=C[u]=C[v]=C[w]=C[x]=C[y]=C[z]=C[A]=C[B]=!0,C[f]=C[g]=C[s]=C[h]=C[i]=C[j]=C[k]=C[l]=C[m]=C[n]=C[o]=C[p]=C[q]=C[r]=!1;var D=Object.prototype,E=D.toString;b.exports=c},{"../internal/isLength":43,"../internal/isObjectLike":44}],55:[function(a,b){function c(a){return d(a,e(a))}var d=a("../internal/baseCopy"),e=a("../object/keysIn");b.exports=c},{"../internal/baseCopy":28,"../object/keysIn":57}],56:[function(a,b){var c=a("../internal/getNative"),d=a("../internal/isArrayLike"),e=a("../lang/isObject"),f=a("../internal/shimKeys"),g=a("../support"),h=c(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||("function"==typeof a?g.enumPrototypes:d(a))?f(a):e(a)?h(a):[]}:f;b.exports=i},{"../internal/getNative":38,"../internal/isArrayLike":39,"../internal/shimKeys":45,"../lang/isObject":51,"../support":59}],57:[function(a,b){function c(a){if(null==a)return[];j(a)||(a=Object(a));var b=a.length;b=b&&i(b)&&(f(a)||e(a)||k(a))&&b||0;for(var c=a.constructor,d=-1,m=g(c)&&c.prototype||x,n=m===a,o=Array(b),q=b>0,r=l.enumErrorProps&&(a===w||a instanceof Error),t=l.enumPrototypes&&g(a);++d<b;)o[d]=d+"";for(var C in a)t&&"prototype"==C||r&&("message"==C||"name"==C)||q&&h(C,b)||"constructor"==C&&(n||!z.call(a,C))||o.push(C);if(l.nonEnumShadows&&a!==x){var D=a===y?u:a===w?p:A.call(a),E=B[D]||B[s];for(D==s&&(m=x),b=v.length;b--;){C=v[b];var F=E[C];n&&F||(F?!z.call(a,C):a[C]===m[C])||o.push(C)}}return o}var d=a("../internal/arrayEach"),e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../lang/isFunction"),h=a("../internal/isIndex"),i=a("../internal/isLength"),j=a("../lang/isObject"),k=a("../lang/isString"),l=a("../support"),m="[object Array]",n="[object Boolean]",o="[object Date]",p="[object Error]",q="[object Function]",r="[object Number]",s="[object Object]",t="[object RegExp]",u="[object String]",v=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],w=Error.prototype,x=Object.prototype,y=String.prototype,z=x.hasOwnProperty,A=x.toString,B={};B[m]=B[o]=B[r]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},B[n]=B[u]={constructor:!0,toString:!0,valueOf:!0},B[p]=B[q]=B[t]={constructor:!0,toString:!0},B[s]={constructor:!0},d(v,function(a){for(var b in B)if(z.call(B,b)){var c=B[b];c[a]=z.call(c,a)}}),b.exports=c},{"../internal/arrayEach":27,"../internal/isIndex":41,"../internal/isLength":43,"../lang/isArguments":47,"../lang/isArray":48,"../lang/isFunction":49,"../lang/isObject":51,"../lang/isString":53,"../support":59}],58:[function(a,b){var c=a("../internal/baseMerge"),d=a("../internal/createAssigner"),e=d(c);b.exports=e},{"../internal/baseMerge":31,"../internal/createAssigner":35}],59:[function(a,b){var c=Array.prototype,d=Error.prototype,e=Object.prototype,f=e.propertyIsEnumerable,g=c.splice,h={};!function(a){var b=function(){this.x=a},c={0:a,length:a},e=[];b.prototype={valueOf:a,y:a};for(var i in new b)e.push(i);h.enumErrorProps=f.call(d,"message")||f.call(d,"name"),h.enumPrototypes=f.call(b,"prototype"),h.nonEnumShadows=!/valueOf/.test(e),h.ownLast="x"!=e[0],h.spliceObjects=(g.call(c,0,1),!c[0]),h.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),b.exports=h},{}],60:[function(a,b){function c(a){return a}b.exports=c},{}],61:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./line-stream"),f=d(e),g=a("./parse-stream"),h=d(g),i=a("./parser"),j=d(i);c["default"]={LineStream:f["default"],ParseStream:h["default"],Parser:j["default"]},b.exports=c["default"]},{"./line-stream":62,"./parse-stream":63,"./parser":64}],62:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./stream"),j=d(i),k=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.buffer=""}return f(b,a),g(b,[{key:"push",value:function(a){var b=void 0;for(this.buffer+=a,b=this.buffer.indexOf("\n");b>-1;b=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,b)),this.buffer=this.buffer.substring(b+1)}}]),b}(j["default"]);c["default"]=k,b.exports=c["default"]},{"./stream":65}],63:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},j=a("./stream"),k=d(j),l=function(){var a="[^=]*",b='"[^"]*"|[^,]*',c="(?:"+a+")=(?:"+b+")";return new RegExp("(?:^|,)("+c+")")},m=function(a){for(var b=a.split(l()),c=b.length,d={},e=void 0;c--;)""!==b[c]&&(e=/([^=]*)=(.*)/.exec(b[c]).slice(1),e[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),d[e[0]]=e[1]);return d},n=function(a){function b(){e(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this)}return f(b,a),h(b,[{key:"push",value:function(a){var b=void 0,c=void 0;if(a=a.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==a.length){if("#"!==a[0])return void this.trigger("data",{type:"uri",uri:a});if(0!==a.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:a.slice(1)});if(a=a.replace("\r",""),b=/^#EXTM3U/.exec(a))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(b=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a))return c={type:"tag",tagType:"inf"},b[1]&&(c.duration=parseFloat(b[1])),b[2]&&(c.title=b[2]),void this.trigger("data",c);if(b=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"targetduration"},b[1]&&(c.duration=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"totalduration"},b[1]&&(c.duration=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"version"},b[1]&&(c.version=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"media-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"discontinuity-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a))return c={type:"tag",tagType:"playlist-type"},b[1]&&(c.playlistType=b[1]),void this.trigger("data",c);if(b=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"byterange"},b[1]&&(c.length=parseInt(b[1],10)),b[2]&&(c.offset=parseInt(b[2],10)),void this.trigger("data",c);if(b=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a))return c={type:"tag",tagType:"allow-cache"},b[1]&&(c.allowed=!/NO/.test(b[1])),void this.trigger("data",c);if(b=/^#EXT-X-MAP:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"map"},b[1]){var d=m(b[1]);if(d.URI&&(c.uri=d.URI),d.BYTERANGE){var e=d.BYTERANGE.split("@"),f=g(e,2),h=f[0],i=f[1];c.byterange={},h&&(c.byterange.length=parseInt(h,10)),i&&(c.byterange.offset=parseInt(i,10))}}return void this.trigger("data",c)}if(b=/^#EXT-X-STREAM-INF:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"stream-inf"},b[1]){if(c.attributes=m(b[1]),c.attributes.RESOLUTION){var j=c.attributes.RESOLUTION.split("x"),k={};j[0]&&(k.width=parseInt(j[0],10)),j[1]&&(k.height=parseInt(j[1],10)),c.attributes.RESOLUTION=k}c.attributes.BANDWIDTH&&(c.attributes.BANDWIDTH=parseInt(c.attributes.BANDWIDTH,10)),c.attributes["PROGRAM-ID"]&&(c.attributes["PROGRAM-ID"]=parseInt(c.attributes["PROGRAM-ID"],10))}return void this.trigger("data",c)}return(b=/^#EXT-X-MEDIA:?(.*)$/.exec(a))?(c={type:"tag",tagType:"media"},b[1]&&(c.attributes=m(b[1])),void this.trigger("data",c)):(b=/^#EXT-X-ENDLIST/.exec(a))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(b=/^#EXT-X-DISCONTINUITY/.exec(a))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(b=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(a))?(c={type:"tag",tagType:"date-time"},b[1]&&(c.dateTimeString=b[1],c.dateTimeObject=new Date(b[1])),void this.trigger("data",c)):(b=/^#EXT-X-KEY:?(.*)$/.exec(a))?(c={type:"tag",tagType:"key"},b[1]&&(c.attributes=m(b[1]),c.attributes.IV&&("0x"===c.attributes.IV.substring(0,2).toLowerCase()&&(c.attributes.IV=c.attributes.IV.substring(2)),c.attributes.IV=c.attributes.IV.match(/.{8}/g),c.attributes.IV[0]=parseInt(c.attributes.IV[0],16),c.attributes.IV[1]=parseInt(c.attributes.IV[1],16),c.attributes.IV[2]=parseInt(c.attributes.IV[2],16),c.attributes.IV[3]=parseInt(c.attributes.IV[3],16),c.attributes.IV=new Uint32Array(c.attributes.IV))),void this.trigger("data",c)):void this.trigger("data",{type:"tag",data:a.slice(4,a.length)})}}}]),b}(k["default"]);c["default"]=n,b.exports=c["default"]},{"./stream":65}],64:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./stream"),j=d(i),k=a("./line-stream"),l=d(k),m=a("./parse-stream"),n=d(m),o=a("lodash-compat/object/merge"),p=d(o),q=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.lineStream=new l["default"],this.parseStream=new n["default"],this.lineStream.pipe(this.parseStream);var a=this,c=[],d={},f=void 0,g=void 0,i=function(){},j={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},k=0;this.manifest={allowCache:!0,discontinuityStarts:[]},this.parseStream.on("data",function(b){var e=void 0,h=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=b.allowed,"allowed"in b||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function l(){var l={};"length"in b&&(d.byterange=l,l.length=b.length,"offset"in b||(this.trigger("info",{message:"defaulting offset to zero"}),b.offset=0)),"offset"in b&&(d.byterange=l,l.offset=b.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),b.duration>0&&(d.duration=b.duration),0===b.duration&&(d.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=c},key:function(){return b.attributes?"NONE"===b.attributes.METHOD?void(g=null):b.attributes.URI?(b.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),g={method:b.attributes.METHOD||"AES-128",uri:b.attributes.URI},void("undefined"!=typeof b.attributes.IV&&(g.iv=b.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(b.number)?void(this.manifest.mediaSequence=b.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+b.number})},"discontinuity-sequence":function(){return isFinite(b.number)?(this.manifest.discontinuitySequence=b.number,void(k=b.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+b.number})},"playlist-type":function(){return/VOD|EVENT/.test(b.playlistType)?void(this.manifest.playlistType=b.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+b.playlist})},map:function(){f={},b.uri&&(f.uri=b.uri),b.byterange&&(f.byterange=b.byterange)},"stream-inf":function(){return this.manifest.playlists=c,this.manifest.mediaGroups=this.manifest.mediaGroups||j,b.attributes?(d.attributes||(d.attributes={}),void(d.attributes=p["default"](d.attributes,b.attributes))):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||j,!(b.attributes&&b.attributes.TYPE&&b.attributes["GROUP-ID"]&&b.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var a=this.manifest.mediaGroups[b.attributes.TYPE];a[b.attributes["GROUP-ID"]]=a[b.attributes["GROUP-ID"]]||{},
e=a[b.attributes["GROUP-ID"]],h={"default":/yes/i.test(b.attributes.DEFAULT)},h.autoselect=h["default"]?!0:/yes/i.test(b.attributes.AUTOSELECT),b.attributes.LANGUAGE&&(h.language=b.attributes.LANGUAGE),b.attributes.URI&&(h.uri=b.attributes.URI),b.attributes["INSTREAM-ID"]&&(h.instreamId=b.attributes["INSTREAM-ID"]),e[b.attributes.NAME]=h},discontinuity:function(){k+=1,d.discontinuity=!0,this.manifest.discontinuityStarts.push(c.length)},"date-time":function(){this.manifest.dateTimeString=b.dateTimeString,this.manifest.dateTimeObject=b.dateTimeObject},targetduration:function(){return!isFinite(b.duration)||b.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+b.duration}):void(this.manifest.targetDuration=b.duration)},totalduration:function(){return!isFinite(b.duration)||b.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+b.duration}):void(this.manifest.totalDuration=b.duration)}})[b.tagType]||i).call(a)},uri:function(){d.uri=b.uri,c.push(d),!this.manifest.targetDuration||"duration"in d||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),d.duration=this.manifest.targetDuration),g&&(d.key=g),d.timeline=k,f&&(d.map=f),d={}},comment:function(){}})[b.type].call(a)})}return f(b,a),g(b,[{key:"push",value:function(a){this.lineStream.push(a)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),b}(j["default"]);c["default"]=q,b.exports=c["default"]},{"./line-stream":62,"./parse-stream":63,"./stream":65,"lodash-compat/object/merge":58}],65:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{dup:21}],66:[function(a,b){"use strict";var c,d=a("../utils/stream.js");c=function(){var a=new Uint8Array,b=0;c.prototype.init.call(this),this.setTimestamp=function(a){b=a},this.parseId3TagSize=function(a,b){var c=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9],d=a[b+5],e=(16&d)>>4;return e?c+20:c+10},this.parseAdtsSize=function(a,b){var c=(224&a[b+5])>>5,d=a[b+4]<<3,e=6144&a[b+3];return e|d|c},this.push=function(c){var d,e,f,g,h=0,i=0;for(a.length?(g=a.length,a=new Uint8Array(c.byteLength+g),a.set(a.subarray(0,g)),a.set(c,g)):a=c;a.length-i>=3;)if(a[i]!=="I".charCodeAt(0)||a[i+1]!=="D".charCodeAt(0)||a[i+2]!=="3".charCodeAt(0))if(a[i]&!0&&240===(240&a[i+1])){if(a.length-i<7)break;if(h=this.parseAdtsSize(a,i),h>a.length)break;f={type:"audio",data:a.subarray(i,i+h),pts:b,dts:b},this.trigger("data",f),i+=h}else i++;else{if(a.length-i<10)break;if(h=this.parseId3TagSize(a,i),h>a.length)break;e={type:"timed-metadata",data:a.subarray(i,i+h)},this.trigger("data",e),i+=h}d=a.length-i,a=d>0?a.subarray(i):new Uint8Array}},c.prototype=new d,b.exports=c},{"../utils/stream.js":86}],67:[function(a,b){"use strict";var c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],d=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},e=function(a,b,c){var d,e="";for(d=b;c>d;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},f=function(a,b,c){return unescape(e(a,b,c))},g=function(a,b){var c=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9],d=a[b+5],e=(16&d)>>4;return e?c+20:c+10},h=function(a,b){var c=(224&a[b+5])>>5,d=a[b+4]<<3,e=6144&a[b+3];return e|d|c},i=function(a,b){return a[b]==="I".charCodeAt(0)&&a[b+1]==="D".charCodeAt(0)&&a[b+2]==="3".charCodeAt(0)?"timed-metadata":a[b]&!0&&240===(240&a[b+1])?"audio":null},j=function(a){for(var b=0;b+5<a.length;){if(255===a[b]&&240===(246&a[b+1]))return c[(60&a[b+2])>>>2];b++}return null},k=function(a){var b,c,e,g;b=10,64&a[5]&&(b+=4,b+=d(a.subarray(10,14)));do{if(c=d(a.subarray(b+4,b+8)),1>c)return null;if(g=String.fromCharCode(a[b],a[b+1],a[b+2],a[b+3]),"PRIV"===g){e=a.subarray(b+10,b+c+10);for(var h=0;h<e.byteLength;h++)if(0===e[h]){var i=f(e,0,h);if("com.apple.streaming.transportStreamTimestamp"===i){var j=e.subarray(h+1),k=(1&j[3])<<30|j[4]<<22|j[5]<<14|j[6]<<6|j[7]>>>2;return k*=4,k+=3&j[7]}break}}b+=10,b+=c}while(b<a.byteLength);return null};b.exports={parseId3TagSize:g,parseAdtsSize:h,parseType:i,parseSampleRate:j,parseAacTimestamp:k}},{}],68:[function(a,b){"use strict";var c,d=a("../utils/stream.js"),e=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];c=function(){var a;c.prototype.init.call(this),this.push=function(b){var c,d,f,g,h,i,j=0,k=0;if("audio"===b.type)for(a?(g=a,a=new Uint8Array(g.byteLength+b.data.byteLength),a.set(g),a.set(b.data,g.byteLength)):a=b.data;j+5<a.length;)if(255===a[j]&&240===(246&a[j+1])){if(d=2*(1&~a[j+1]),c=(3&a[j+3])<<11|a[j+4]<<3|(224&a[j+5])>>5,h=1024*((3&a[j+6])+1),i=9e4*h/e[(60&a[j+2])>>>2],f=j+c,a.byteLength<f)return;if(this.trigger("data",{pts:b.pts+k*i,dts:b.dts+k*i,sampleCount:h,audioobjecttype:(a[j+2]>>>6&3)+1,channelcount:(1&a[j+2])<<2|(192&a[j+3])>>>6,samplerate:e[(60&a[j+2])>>>2],samplingfrequencyindex:(60&a[j+2])>>>2,samplesize:16,data:a.subarray(j+7+d,f)}),a.byteLength===f)return void(a=void 0);k++,a=a.subarray(f)}else j++},this.flush=function(){this.trigger("done")}},c.prototype=new d,b.exports=c},{"../utils/stream.js":86}],69:[function(a,b){"use strict";var c,d,e,f=a("../utils/stream.js"),g=a("../utils/exp-golomb.js");d=function(){var a,b,c=0;d.prototype.init.call(this),this.push=function(d){var e;for(b?(e=new Uint8Array(b.byteLength+d.data.byteLength),e.set(b),e.set(d.data,b.byteLength),b=e):b=d.data;c<b.byteLength-3;c++)if(1===b[c+2]){a=c+5;break}for(;a<b.byteLength;)switch(b[a]){case 0:if(0!==b[a-1]){a+=2;break}if(0!==b[a-2]){a++;break}c+3!==a-2&&this.trigger("data",b.subarray(c+3,a-2));do a++;while(1!==b[a]&&a<b.length);c=a-2,a+=3;break;case 1:if(0!==b[a-1]||0!==b[a-2]){a+=3;break}this.trigger("data",b.subarray(c+3,a-2)),c=a-2,a+=3;break;default:a+=3}b=b.subarray(c),a-=c,c=0},this.flush=function(){b&&b.byteLength>3&&this.trigger("data",b.subarray(c+3)),b=null,c=0,this.trigger("done")}},d.prototype=new f,e={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},c=function(){var a,b,f,h,i,j,k,l=new d;c.prototype.init.call(this),a=this,this.push=function(a){"video"===a.type&&(b=a.trackId,f=a.pts,h=a.dts,l.push(a))},l.on("data",function(c){var d={trackId:b,pts:f,dts:h,data:c};switch(31&c[0]){case 5:d.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:d.nalUnitType="sei_rbsp",d.escapedRBSP=i(c.subarray(1));break;case 7:d.nalUnitType="seq_parameter_set_rbsp",d.escapedRBSP=i(c.subarray(1)),d.config=j(d.escapedRBSP);break;case 8:d.nalUnitType="pic_parameter_set_rbsp";break;case 9:d.nalUnitType="access_unit_delimiter_rbsp"}a.trigger("data",d)}),l.on("done",function(){a.trigger("done")}),this.flush=function(){l.flush()},k=function(a,b){var c,d,e=8,f=8;for(c=0;a>c;c++)0!==f&&(d=b.readExpGolomb(),f=(e+d+256)%256),e=0===f?e:f},i=function(a){for(var b,c,d=a.byteLength,e=[],f=1;d-2>f;)0===a[f]&&0===a[f+1]&&3===a[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return a;b=d-e.length,c=new Uint8Array(b);var g=0;for(f=0;b>f;g++,f++)g===e[0]&&(g++,e.shift()),c[f]=a[g];return c},j=function(a){var b,c,d,f,h,i,j,l,m,n,o,p,q,r,s=0,t=0,u=0,v=0,w=1;if(b=new g(a),c=b.readUnsignedByte(),f=b.readUnsignedByte(),d=b.readUnsignedByte(),b.skipUnsignedExpGolomb(),e[c]&&(h=b.readUnsignedExpGolomb(),3===h&&b.skipBits(1),b.skipUnsignedExpGolomb(),b.skipUnsignedExpGolomb(),b.skipBits(1),b.readBoolean()))for(o=3!==h?8:12,r=0;o>r;r++)b.readBoolean()&&(6>r?k(16,b):k(64,b));if(b.skipUnsignedExpGolomb(),i=b.readUnsignedExpGolomb(),0===i)b.readUnsignedExpGolomb();else if(1===i)for(b.skipBits(1),b.skipExpGolomb(),b.skipExpGolomb(),j=b.readUnsignedExpGolomb(),r=0;j>r;r++)b.skipExpGolomb();if(b.skipUnsignedExpGolomb(),b.skipBits(1),l=b.readUnsignedExpGolomb(),m=b.readUnsignedExpGolomb(),n=b.readBits(1),0===n&&b.skipBits(1),b.skipBits(1),b.readBoolean()&&(s=b.readUnsignedExpGolomb(),t=b.readUnsignedExpGolomb(),u=b.readUnsignedExpGolomb(),v=b.readUnsignedExpGolomb()),b.readBoolean()&&b.readBoolean()){switch(q=b.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[b.readUnsignedByte()<<8|b.readUnsignedByte(),b.readUnsignedByte()<<8|b.readUnsignedByte()]}p&&(w=p[0]/p[1])}return{profileIdc:c,levelIdc:d,profileCompatibility:f,width:Math.ceil((16*(l+1)-2*s-2*t)*w),height:(2-n)*(m+1)*16-2*u-2*v}}},c.prototype=new f,b.exports={H264Stream:c,NalByteStream:d}},{"../utils/exp-golomb.js":85,"../utils/stream.js":86}],70:[function(a,b){"use strict";var c=a("../utils/stream.js"),d=function(a){this.numberOfTracks=0,this.metadataStream=a.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,d.prototype.init.call(this),this.push=function(a){return a.text?this.pendingCaptions.push(a):a.frames?this.pendingMetadata.push(a):("video"===a.track.type&&(this.videoTrack=a.track,this.videoTags=a.tags,this.pendingTracks++),void("audio"===a.track.type&&(this.audioTrack=a.track,this.audioTags=a.tags,this.pendingTracks++)))}};d.prototype=new c,d.prototype.flush=function(a){var b,c,d,e,f={tags:{},captions:[],metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==a&&"AudioSegmentStream"!==a)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?e=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(e=this.audioTrack.timelineStartInfo.pts),f.tags.videoTags=this.videoTags,f.tags.audioTags=this.audioTags,d=0;d<this.pendingCaptions.length;d++)c=this.pendingCaptions[d],c.startTime=c.startPts-e,c.startTime/=9e4,c.endTime=c.endPts-e,c.endTime/=9e4,f.captions.push(c);for(d=0;d<this.pendingMetadata.length;d++)b=this.pendingMetadata[d],b.cueTime=b.pts-e,b.cueTime/=9e4,f.metadata.push(b);f.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",f),this.trigger("done")}},b.exports=d},{"../utils/stream.js":86}],71:[function(a,b){"use strict";var c;c=function(a,b){var d,e=0,f=16384,g=function(a,b){var c,d=a.position+b;d<a.bytes.byteLength||(c=new Uint8Array(2*d),c.set(a.bytes.subarray(0,a.position),0),a.bytes=c,a.view=new DataView(a.bytes.buffer))},h=c.widthBytes||new Uint8Array("width".length),i=c.heightBytes||new Uint8Array("height".length),j=c.videocodecidBytes||new Uint8Array("videocodecid".length);if(!c.widthBytes){for(d=0;d<"width".length;d++)h[d]="width".charCodeAt(d);for(d=0;d<"height".length;d++)i[d]="height".charCodeAt(d);for(d=0;d<"videocodecid".length;d++)j[d]="videocodecid".charCodeAt(d);c.widthBytes=h,c.heightBytes=i,c.videocodecidBytes=j}switch(this.keyFrame=!1,a){case c.VIDEO_TAG:this.length=16,f*=6;break;case c.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case c.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(f),this.view=new DataView(this.bytes.buffer),this.bytes[0]=a,this.position=this.length,this.keyFrame=b,this.pts=0,this.dts=0,this.writeBytes=function(a,b,c){var d,e=b||0;c=c||a.byteLength,d=e+c,g(this,c),this.bytes.set(a.subarray(e,d),this.position),this.position+=c,this.length=Math.max(this.length,this.position)},this.writeByte=function(a){g(this,1),this.bytes[this.position]=a,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(a){g(this,2),this.view.setUint16(this.position,a),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(a){return this.bytes[this.length-a]},this.nalUnitSize=function(){return 0===e?0:this.length-(e+4)},this.startNalUnit=function(){if(e>0)throw new Error("Attempted to create new NAL wihout closing the old one");e=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(a){var b,c;this.length===e+4?this.length-=4:e>0&&(b=e+4,c=this.length-b,this.position=e,this.view.setUint32(this.position,c),this.position=this.length,a&&a.push(this.bytes.subarray(b,b+c))),e=0},this.writeMetaDataDouble=function(a,b){var c;if(g(this,2+a.length+9),this.view.setUint16(this.position,a.length),this.position+=2,"width"===a)this.bytes.set(h,this.position),this.position+=5;else if("height"===a)this.bytes.set(i,this.position),this.position+=6;else if("videocodecid"===a)this.bytes.set(j,this.position),this.position+=12;else for(c=0;c<a.length;c++)this.bytes[this.position]=a.charCodeAt(c),this.position++;this.position++,this.view.setFloat64(this.position,b),this.position+=8,this.length=Math.max(this.length,this.position),++e},this.writeMetaDataBoolean=function(a,b){var c;for(g(this,2),this.view.setUint16(this.position,a.length),this.position+=2,c=0;c<a.length;c++)g(this,1),this.bytes[this.position]=a.charCodeAt(c),this.position++;g(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,b?1:0),this.position++,this.length=Math.max(this.length,this.position),++e},this.finalize=function(){var a,d;switch(this.bytes[0]){case c.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||b?16:32),this.bytes[12]=b?0:1,a=this.pts-this.dts,this.bytes[13]=(16711680&a)>>>16,this.bytes[14]=(65280&a)>>>8,this.bytes[15]=(255&a)>>>0;break;case c.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=b?0:1;break;case c.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,e),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return d=this.length-11,this.bytes[1]=(16711680&d)>>>16,this.bytes[2]=(65280&d)>>>8,this.bytes[3]=(255&d)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,g(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=c.frameTime(this.bytes),this}},c.AUDIO_TAG=8,c.VIDEO_TAG=9,c.METADATA_TAG=18,c.isAudioFrame=function(a){return c.AUDIO_TAG===a[0]},c.isVideoFrame=function(a){return c.VIDEO_TAG===a[0]},c.isMetaData=function(a){return c.METADATA_TAG===a[0]},c.isKeyFrame=function(a){return c.isVideoFrame(a)?23===a[11]:c.isAudioFrame(a)?!0:c.isMetaData(a)?!0:!1},c.frameTime=function(a){var b=a[4]<<16;return b|=a[5]<<8,b|=a[6]<<0,b|=a[7]<<24},b.exports=c},{}],72:[function(a,b){b.exports={tag:a("./flv-tag"),Transmuxer:a("./transmuxer")}},{"./flv-tag":71,"./transmuxer":73}],73:[function(a,b){"use strict";var c,d,e,f,g,h,i=a("../utils/stream.js"),j=a("./flv-tag.js"),k=a("../m2ts/m2ts.js"),l=a("../codecs/adts.js"),m=a("../codecs/h264").H264Stream,n=a("./coalesce-stream.js");f=function(a,b){"number"==typeof b.pts&&(a.timelineStartInfo.pts=void 0===a.timelineStartInfo.pts?b.pts:Math.min(a.timelineStartInfo.pts,b.pts)),"number"==typeof b.dts&&(a.timelineStartInfo.dts=void 0===a.timelineStartInfo.dts?b.dts:Math.min(a.timelineStartInfo.dts,b.dts))},g=function(a,b){var c=new j(j.METADATA_TAG);return c.dts=b,c.pts=b,c.writeMetaDataDouble("videocodecid",7),c.writeMetaDataDouble("width",a.width),c.writeMetaDataDouble("height",a.height),c},h=function(a,b){var c,d=new j(j.VIDEO_TAG,!0);for(d.dts=b,d.pts=b,d.writeByte(1),d.writeByte(a.profileIdc),d.writeByte(a.profileCompatibility),d.writeByte(a.levelIdc),d.writeByte(255),d.writeByte(225),d.writeShort(a.sps[0].length),d.writeBytes(a.sps[0]),d.writeByte(a.pps.length),c=0;c<a.pps.length;++c)d.writeShort(a.pps[c].length),d.writeBytes(a.pps[c]);return d},e=function(a){var b,c=[];e.prototype.init.call(this),this.push=function(b){f(a,b),a&&void 0===a.channelcount&&(a.audioobjecttype=b.audioobjecttype,a.channelcount=b.channelcount,a.samplerate=b.samplerate,a.samplingfrequencyindex=b.samplingfrequencyindex,a.samplesize=b.samplesize,a.extraData=a.audioobjecttype<<11|a.samplingfrequencyindex<<7|a.channelcount<<3),b.pts=Math.round(b.pts/90),b.dts=Math.round(b.dts/90),c.push(b)},this.flush=function(){var d,e,f,g=[];if(0===c.length)return void this.trigger("done","AudioSegmentStream");for(f=-(1/0);c.length;)d=c.shift(),(a.extraData!==b||d.pts-f>=1e3)&&(e=new j(j.METADATA_TAG),e.pts=d.pts,e.dts=d.dts,e.writeMetaDataDouble("audiocodecid",10),e.writeMetaDataBoolean("stereo",2===a.channelcount),e.writeMetaDataDouble("audiosamplerate",a.samplerate),e.writeMetaDataDouble("audiosamplesize",16),g.push(e),b=a.extraData,e=new j(j.AUDIO_TAG,!0),e.pts=d.pts,e.dts=d.dts,e.view.setUint16(e.position,a.extraData),e.position+=2,e.length=Math.max(e.length,e.position),g.push(e),f=d.pts),e=new j(j.AUDIO_TAG),e.pts=d.pts,e.dts=d.dts,e.writeBytes(d.data),g.push(e);b=null,this.trigger("data",{track:a,tags:g}),this.trigger("done","AudioSegmentStream")}},e.prototype=new i,d=function(a){var b,c,e=[];d.prototype.init.call(this),this.finishFrame=function(d,e){e&&(b&&a&&a.newMetadata&&(e.keyFrame||0===d.length)&&(d.push(g(b,e.dts)),d.push(h(a,e.dts)),a.newMetadata=!1),e.endNalUnit(),d.push(e),c=null)},this.push=function(b){f(a,b),b.pts=Math.round(b.pts/90),b.dts=Math.round(b.dts/90),e.push(b)},this.flush=function(){for(var d,f=[];e.length&&"access_unit_delimiter_rbsp"!==e[0].nalUnitType;)e.shift();if(0===e.length)return void this.trigger("done","VideoSegmentStream");for(;e.length;)d=e.shift(),"seq_parameter_set_rbsp"===d.nalUnitType?(a.newMetadata=!0,b=d.config,a.width=b.width,a.height=b.height,a.sps=[d.data],a.profileIdc=b.profileIdc,a.levelIdc=b.levelIdc,a.profileCompatibility=b.profileCompatibility,c.endNalUnit()):"pic_parameter_set_rbsp"===d.nalUnitType?(a.newMetadata=!0,a.pps=[d.data],c.endNalUnit()):"access_unit_delimiter_rbsp"===d.nalUnitType?(c&&this.finishFrame(f,c),c=new j(j.VIDEO_TAG),c.pts=d.pts,c.dts=d.dts):("slice_layer_without_partitioning_rbsp_idr"===d.nalUnitType&&(c.keyFrame=!0),c.endNalUnit()),c.startNalUnit(),c.writeBytes(d.data);c&&this.finishFrame(f,c),this.trigger("data",{track:a,tags:f}),this.trigger("done","VideoSegmentStream")}},d.prototype=new i,c=function(a){var b,f,g,h,i,o,p,q,r,s,t,u,v=this;c.prototype.init.call(this),a=a||{},this.metadataStream=new k.MetadataStream,a.metadataStream=this.metadataStream,b=new k.TransportPacketStream,f=new k.TransportParseStream,g=new k.ElementaryStream,h=new k.TimestampRolloverStream("video"),i=new k.TimestampRolloverStream("audio"),o=new k.TimestampRolloverStream("timed-metadata"),p=new l,q=new m,u=new n(a),b.pipe(f).pipe(g),g.pipe(h).pipe(q),g.pipe(i).pipe(p),g.pipe(o).pipe(this.metadataStream).pipe(u),t=new k.CaptionStream,q.pipe(t).pipe(u),g.on("data",function(a){var b,c,f;if("metadata"===a.type){for(b=a.tracks.length;b--;)"video"===a.tracks[b].type?c=a.tracks[b]:"audio"===a.tracks[b].type&&(f=a.tracks[b]);c&&!r&&(u.numberOfTracks++,r=new d(c),q.pipe(r).pipe(u)),f&&!s&&(u.numberOfTracks++,s=new e(f),p.pipe(s).pipe(u))}}),this.push=function(a){b.push(a)},this.flush=function(){b.flush()},u.on("data",function(a){v.trigger("data",a)}),u.on("done",function(){v.trigger("done")}),this.getFlvHeader=function(a,b,c){var d,e,f,g=new Uint8Array(9),h=new DataView(g.buffer);return a=a||0,b=void 0===b?!0:b,c=void 0===c?!0:c,h.setUint8(0,70),h.setUint8(1,76),h.setUint8(2,86),h.setUint8(3,1),h.setUint8(4,(b?4:0)|(c?1:0)),h.setUint32(5,g.byteLength),0>=a?(e=new Uint8Array(g.byteLength+4),e.set(g),e.set([0,0,0,0],g.byteLength),e):(d=new j(j.METADATA_TAG),d.pts=d.dts=0,d.writeMetaDataDouble("duration",a),f=d.finalize().length,e=new Uint8Array(g.byteLength+f),e.set(g),e.set(h.byteLength,f),e)}},c.prototype=new i,b.exports=c},{"../codecs/adts.js":68,"../codecs/h264":69,"../m2ts/m2ts.js":75,"../utils/stream.js":86,"./coalesce-stream.js":70,"./flv-tag.js":71}],74:[function(a,b){"use strict";var c=4,d=128,e=a("../utils/stream"),f=function(a){for(var b=0,e={payloadType:-1,payloadSize:0},f=0,g=0;b<a.byteLength&&a[b]!==d;){for(;255===a[b];)f+=255,b++;for(f+=a[b++];255===a[b];)g+=255,b++;if(g+=a[b++],!e.payload&&f===c){e.payloadType=f,e.payloadSize=g,e.payload=a.subarray(b,b+g);break}b+=g,f=0,g=0}return e},g=function(a){return 181!==a.payload[0]?null:49!==(a.payload[1]<<8|a.payload[2])?null:"GA94"!==String.fromCharCode(a.payload[3],a.payload[4],a.payload[5],a.payload[6])?null:3!==a.payload[7]?null:a.payload.subarray(8,a.payload.length-1)},h=function(a,b){var c,d,e,f,g=[];if(!(64&b[0]))return g;for(d=31&b[0],c=0;d>c;c++)e=3*c,f={type:3&b[e+2],pts:a},4&b[e+2]&&(f.ccData=b[e+3]<<8|b[e+4],g.push(f));return g},i=function(){i.prototype.init.call(this),this.captionPackets_=[],this.field1_=new x,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};i.prototype=new e,i.prototype.push=function(a){var b,d;"sei_rbsp"===a.nalUnitType&&(b=f(a.escapedRBSP),b.payloadType===c&&(d=g(b),d&&(this.captionPackets_=this.captionPackets_.concat(h(a.pts,d)))))},i.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.forEach(function(a,b){a.presortIndex=b}),this.captionPackets_.sort(function(a,b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0,void this.field1_.flush()):void this.field1_.flush()};var j={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},k=function(a){return null===a?"":(a=j[a]||a,String.fromCharCode(a))},l=0,m=5152,n=5167,o=5157,p=5158,q=5159,r=5165,s=5153,t=5164,u=5166,v=14,w=function(){for(var a=[],b=v+1;b--;)a.push("");return a},x=function(){x.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=w(),this.nonDisplayed_=w(),this.lastControlCode_=null,this.push=function(a){if(0===a.type){var b,c,d,e;if(b=32639&a.ccData,b===this.lastControlCode_)return void(this.lastControlCode_=null);switch(this.lastControlCode_=4096===(61440&b)?b:null,b){case l:break;case m:this.mode_="popOn";break;case n:this.flushDisplayed(a.pts),c=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=c,this.startPts_=a.pts;break;case o:this.topRow_=v-1,this.mode_="rollUp";break;case p:this.topRow_=v-2,this.mode_="rollUp";break;case q:this.topRow_=v-3,this.mode_="rollUp";break;case r:this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts;break;case s:"popOn"===this.mode_?this.nonDisplayed_[v]=this.nonDisplayed_[v].slice(0,-1):this.displayed_[v]=this.displayed_[v].slice(0,-1);break;case t:this.flushDisplayed(a.pts),this.displayed_=w();break;case u:this.nonDisplayed_=w();break;default:if(d=b>>>8,e=255&b,d>=16&&23>=d&&e>=64&&127>=e&&(16!==d||96>e)&&(d=32,e=null),(17===d||25===d)&&e>=48&&63>=e&&(d=9834,e=""),16===(240&d))return;this[this.mode_](a.pts,d,e)}}}};x.prototype=new e,x.prototype.flushDisplayed=function(a){var b=this.displayed_.map(function(a){return a.trim()}).filter(function(a){return a.length}).join("\n");b.length&&this.trigger("data",{startPts:this.startPts_,endPts:a,text:b})},x.prototype.popOn=function(a,b,c){var d=this.nonDisplayed_[v];d+=k(b),d+=k(c),this.nonDisplayed_[v]=d},x.prototype.rollUp=function(a,b,c){var d=this.displayed_[v];""===d&&(this.flushDisplayed(a),this.startPts_=a),d+=k(b),d+=k(c),this.displayed_[v]=d},x.prototype.shiftRowsUp_=function(){var a;for(a=0;a<this.topRow_;a++)this.displayed_[a]="";for(a=this.topRow_;v>a;a++)this.displayed_[a]=this.displayed_[a+1];this.displayed_[v]=""},b.exports={CaptionStream:i,Cea608Stream:x}},{"../utils/stream":86}],75:[function(a,b){"use strict";var c,d,e,f=a("../utils/stream.js"),g=a("./caption-stream"),h=a("./stream-types"),i=a("./timestamp-rollover-stream").TimestampRolloverStream,j=a("./stream-types.js"),k=188,l=71;c=function(){var a=new Uint8Array(k),b=0;c.prototype.init.call(this),this.push=function(c){var d,e=0,f=k;for(b?(d=new Uint8Array(c.byteLength+b),d.set(a.subarray(0,b)),d.set(c,b),b=0):d=c;f<d.byteLength;)d[e]!==l||d[f]!==l?(e++,f++):(this.trigger("data",d.subarray(e,f)),e+=k,f+=k);e<d.byteLength&&(a.set(d.subarray(e),0),b=d.byteLength-e)},this.flush=function(){b===k&&a[0]===l&&(this.trigger("data",a),b=0),this.trigger("done")}},c.prototype=new f,d=function(){var a,b,c,e;d.prototype.init.call(this),e=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,a=function(a,d){var e=0;d.payloadUnitStartIndicator&&(e+=a[e]+1),"pat"===d.type?b(a.subarray(e),d):c(a.subarray(e),d)},b=function(a,b){b.section_number=a[7],b.last_section_number=a[8],e.pmtPid=(31&a[10])<<8|a[11],b.pmtPid=e.pmtPid},c=function(a,b){var c,d,f,g;if(1&a[5]){for(e.programMapTable={},c=(15&a[1])<<8|a[2],d=3+c-4,f=(15&a[10])<<8|a[11],g=12+f;d>g;)e.programMapTable[(31&a[g+1])<<8|a[g+2]]=a[g],g+=((15&a[g+3])<<8|a[g+4])+5;for(b.programMapTable=e.programMapTable;e.packetsWaitingForPmt.length;)e.processPes_.apply(e,e.packetsWaitingForPmt.shift())}},this.push=function(b){var c={},d=4;c.payloadUnitStartIndicator=!!(64&b[1]),c.pid=31&b[1],c.pid<<=8,c.pid|=b[2],(48&b[3])>>>4>1&&(d+=b[d]+1),0===c.pid?(c.type="pat",a(b.subarray(d),c),this.trigger("data",c)):c.pid===this.pmtPid?(c.type="pmt",a(b.subarray(d),c),this.trigger("data",c)):void 0===this.programMapTable?this.packetsWaitingForPmt.push([b,d,c]):this.processPes_(b,d,c)},this.processPes_=function(a,b,c){c.streamType=this.programMapTable[c.pid],c.type="pes",c.data=a.subarray(b),this.trigger("data",c)}},d.prototype=new f,d.STREAM_TYPES={h264:27,adts:15},e=function(){var a=this,b={data:[],size:0},c={data:[],size:0},d={data:[],size:0},f=function(a,b){var c;b.dataAlignmentIndicator=0!==(4&a[6]),c=a[7],192&c&&(b.pts=(14&a[9])<<27|(255&a[10])<<20|(254&a[11])<<12|(255&a[12])<<5|(254&a[13])>>>3,b.pts*=4,b.pts+=(6&a[13])>>>1,b.dts=b.pts,64&c&&(b.dts=(14&a[14])<<27|(255&a[15])<<20|(254&a[16])<<12|(255&a[17])<<5|(254&a[18])>>>3,b.dts*=4,b.dts+=(6&a[18])>>>1)),b.data=a.subarray(9+a[8])},g=function(b,c){var d,e=new Uint8Array(b.size),g={type:c},h=0;if(b.data.length){for(g.trackId=b.data[0].pid;b.data.length;)d=b.data.shift(),e.set(d.data,h),h+=d.data.byteLength;f(e,g),b.size=0,a.trigger("data",g)}};e.prototype.init.call(this),this.push=function(e){({pat:function(){},pes:function(){var a,f;switch(e.streamType){case h.H264_STREAM_TYPE:case j.H264_STREAM_TYPE:a=b,f="video";break;case h.ADTS_STREAM_TYPE:a=c,f="audio";break;case h.METADATA_STREAM_TYPE:a=d,f="timed-metadata";break;default:return}e.payloadUnitStartIndicator&&g(a,f),a.data.push(e),a.size+=e.data.byteLength},pmt:function(){var b,c,d={type:"metadata",tracks:[]},f=e.programMapTable;for(b in f)f.hasOwnProperty(b)&&(c={timelineStartInfo:{baseMediaDecodeTime:0}},c.id=+b,f[b]===j.H264_STREAM_TYPE?(c.codec="avc",c.type="video"):f[b]===j.ADTS_STREAM_TYPE&&(c.codec="adts",c.type="audio"),d.tracks.push(c));a.trigger("data",d)}})[e.type]()},this.flush=function(){g(b,"video"),g(c,"audio"),g(d,"timed-metadata"),this.trigger("done")}},e.prototype=new f;var m={PAT_PID:0,MP2T_PACKET_LENGTH:k,TransportPacketStream:c,TransportParseStream:d,ElementaryStream:e,TimestampRolloverStream:i,CaptionStream:g.CaptionStream,Cea608Stream:g.Cea608Stream,MetadataStream:a("./metadata-stream")};for(var n in h)h.hasOwnProperty(n)&&(m[n]=h[n]);b.exports=m},{"../utils/stream.js":86,"./caption-stream":74,"./metadata-stream":76,"./stream-types":78,"./stream-types.js":78,"./timestamp-rollover-stream":79}],76:[function(a,b){"use strict";var c,d=a("../utils/stream"),e=a("./stream-types"),f=function(a,b,c){var d,e="";for(d=b;c>d;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},g=function(a,b,c){return decodeURIComponent(f(a,b,c))},h=function(a,b,c){return unescape(f(a,b,c))},i=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},j={TXXX:function(a){var b;if(3===a.data[0]){for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=g(a.data,1,b),a.value=g(a.data,b+1,a.data.length-1);break}a.data=a.value}},WXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=g(a.data,1,b),a.url=g(a.data,b+1,a.data.length);break}},PRIV:function(a){var b;for(b=0;b<a.data.length;b++)if(0===a.data[b]){a.owner=h(a.data,0,b);break}a.privateData=a.data.subarray(b+1),a.data=a.privateData}};c=function(a){var b,d={debug:!(!a||!a.debug),descriptor:a&&a.descriptor},f=0,g=[],h=0;if(c.prototype.init.call(this),this.dispatchType=e.METADATA_STREAM_TYPE.toString(16),d.descriptor)for(b=0;b<d.descriptor.length;b++)this.dispatchType+=("00"+d.descriptor[b].toString(16)).slice(-2);this.push=function(a){var b,c,e,k,l,m;if("timed-metadata"===a.type){if(a.dataAlignmentIndicator&&(h=0,g.length=0),0===g.length&&(a.data.length<10||a.data[0]!=="I".charCodeAt(0)||a.data[1]!=="D".charCodeAt(0)||a.data[2]!=="3".charCodeAt(0)))return void(d.debug&&console.log("Skipping unrecognized metadata packet"));if(g.push(a),h+=a.data.byteLength,1===g.length&&(f=i(a.data.subarray(6,10)),f+=10),!(f>h)){for(b={data:new Uint8Array(f),frames:[],pts:g[0].pts,dts:g[0].dts},l=0;f>l;)b.data.set(g[0].data.subarray(0,f-l),l),l+=g[0].data.byteLength,h-=g[0].data.byteLength,g.shift();c=10,64&b.data[5]&&(c+=4,c+=i(b.data.subarray(10,14)),f-=i(b.data.subarray(16,20)));do{if(e=i(b.data.subarray(c+4,c+8)),1>e)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(m=String.fromCharCode(b.data[c],b.data[c+1],b.data[c+2],b.data[c+3]),k={id:m,data:b.data.subarray(c+10,c+e+10)},k.key=k.id,j[k.id]&&(j[k.id](k),"com.apple.streaming.transportStreamTimestamp"===k.owner)){var n=k.data,o=(1&n[3])<<30|n[4]<<22|n[5]<<14|n[6]<<6|n[7]>>>2;o*=4,o+=3&n[7],k.timeStamp=o,void 0===b.pts&&void 0===b.dts&&(b.pts=k.timeStamp,b.dts=k.timeStamp),this.trigger("timestamp",k)}b.frames.push(k),c+=10,c+=e}while(f>c);this.trigger("data",b)}}}},c.prototype=new d,b.exports=c},{"../utils/stream":86,"./stream-types":78}],77:[function(a,b){"use strict";var c=a("./stream-types.js"),d=function(a){var b=31&a[1];return b<<=8,b|=a[2]},e=function(a){return!!(64&a[1])},f=function(a){var b=0;return(48&a[3])>>>4>1&&(b+=a[4]+1),b},g=function(a,b){var c=d(a);return 0===c?"pat":c===b?"pmt":b?"pes":null},h=function(a){var b=e(a),c=4+f(a);return b&&(c+=a[c]+1),(31&a[c+10])<<8|a[c+11]},i=function(a){var b={},c=e(a),d=4+f(a);if(c&&(d+=a[d]+1),1&a[d+5]){var g,h,i;g=(15&a[d+1])<<8|a[d+2],h=3+g-4,i=(15&a[d+10])<<8|a[d+11];for(var j=12+i;h>j;){var k=d+j;b[(31&a[k+1])<<8|a[k+2]]=a[k],j+=((15&a[k+3])<<8|a[k+4])+5}return b}},j=function(a,b){var e=d(a),f=b[e];switch(f){case c.H264_STREAM_TYPE:return"video";case c.ADTS_STREAM_TYPE:return"audio";case c.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},k=function(a){var b=e(a);if(!b)return null;var c,d=4+f(a),g={};return c=a[d+7],192&c&&(g.pts=(14&a[d+9])<<27|(255&a[d+10])<<20|(254&a[d+11])<<12|(255&a[d+12])<<5|(254&a[d+13])>>>3,g.pts*=4,g.pts+=(6&a[d+13])>>>1,g.dts=g.pts,64&c&&(g.dts=(14&a[d+14])<<27|(255&a[d+15])<<20|(254&a[d+16])<<12|(255&a[d+17])<<5|(254&a[d+18])>>>3,g.dts*=4,g.dts+=(6&a[d+18])>>>1)),g},l=function(a){switch(a){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},m=function(a){for(var b,c=4+f(a),d=a.subarray(c),e=0,g=0,h=!1;g<d.byteLength-3;g++)if(1===d[g+2]){e=g+5;break}for(;e<d.byteLength;)switch(d[e]){case 0:if(0!==d[e-1]){e+=2;break}if(0!==d[e-2]){e++;break}g+3!==e-2&&(b=l(31&d[g+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(h=!0));do e++;while(1!==d[e]&&e<d.length);g=e-2,e+=3;break;case 1:if(0!==d[e-1]||0!==d[e-2]){e+=3;break}b=l(31&d[g+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(h=!0),
g=e-2,e+=3;break;default:e+=3}return d=d.subarray(g),e-=g,g=0,d&&d.byteLength>3&&(b=l(31&d[g+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(h=!0)),h};b.exports={parseType:g,parsePat:h,parsePmt:i,parsePayloadUnitStartIndicator:e,parsePesType:j,parsePesTime:k,videoPacketContainsKeyFrame:m}},{"./stream-types.js":78}],78:[function(a,b){"use strict";b.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],79:[function(a,b){"use strict";var c=a("../utils/stream"),d=8589934592,e=4294967296,f=function(a,b){var c=1;for(a>b&&(c=-1);Math.abs(b-a)>e;)a+=c*d;return a},g=function(a){var b,c;g.prototype.init.call(this),this.type_=a,this.push=function(a){a.type===this.type_&&(void 0===c&&(c=a.dts),a.dts=f(a.dts,c),a.pts=f(a.pts,c),b=a.dts,this.trigger("data",a))},this.flush=function(){c=b,this.trigger("done")}};g.prototype=new c,b.exports={TimestampRolloverStream:g,handleRollover:f}},{"../utils/stream":86}],80:[function(a,b){b.exports={generator:a("./mp4-generator"),Transmuxer:a("./transmuxer").Transmuxer,AudioSegmentStream:a("./transmuxer").AudioSegmentStream,VideoSegmentStream:a("./transmuxer").VideoSegmentStream}},{"./mp4-generator":81,"./transmuxer":83}],81:[function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=Math.pow(2,32)-1;!function(){var a;if(y={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(a in y)y.hasOwnProperty(a)&&(y[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);z=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),B=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),A=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),D=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),E={video:C,audio:D},H=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),G=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),J=I,K=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=I,F=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),c=function(a){var b,c,d,e=[],f=0;for(b=1;b<arguments.length;b++)e.push(arguments[b]);for(b=e.length;b--;)f+=e[b].byteLength;for(c=new Uint8Array(f+8),d=new DataView(c.buffer,c.byteOffset,c.byteLength),d.setUint32(0,c.byteLength),c.set(a,4),b=0,f=8;b<e.length;b++)c.set(e[b],f),f+=e[b].byteLength;return c},d=function(){return c(y.dinf,c(y.dref,H))},e=function(a){return c(y.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,a.audioobjecttype<<3|a.samplingfrequencyindex>>>1,a.samplingfrequencyindex<<7|a.channelcount<<3,6,1,2]))},f=function(){return c(y.ftyp,z,A,z,B)},r=function(a){return c(y.hdlr,E[a])},g=function(a){return c(y.mdat,a)},q=function(a){var b=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,a.duration>>>24&255,a.duration>>>16&255,a.duration>>>8&255,255&a.duration,85,196,0,0]);return a.samplerate&&(b[12]=a.samplerate>>>24&255,b[13]=a.samplerate>>>16&255,b[14]=a.samplerate>>>8&255,b[15]=255&a.samplerate),c(y.mdhd,b)},p=function(a){return c(y.mdia,q(a),r(a.type),i(a))},h=function(a){return c(y.mfhd,new Uint8Array([0,0,0,0,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a]))},i=function(a){return c(y.minf,"video"===a.type?c(y.vmhd,F):c(y.smhd,G),d(),t(a))},j=function(a,b){for(var d=[],e=b.length;e--;)d[e]=v(b[e]);return c.apply(null,[y.moof,h(a)].concat(d))},k=function(a){for(var b=a.length,d=[];b--;)d[b]=n(a[b]);return c.apply(null,[y.moov,m(4294967295)].concat(d).concat(l(a)))},l=function(a){for(var b=a.length,d=[];b--;)d[b]=w(a[b]);return c.apply(null,[y.mvex].concat(d))},m=function(a){var b=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return c(y.mvhd,b)},s=function(a){var b,d,e=a.samples||[],f=new Uint8Array(4+e.length);for(d=0;d<e.length;d++)b=e[d].flags,f[d+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return c(y.sdtp,f)},t=function(a){return c(y.stbl,u(a),c(y.stts,L),c(y.stsc,J),c(y.stsz,K),c(y.stco,I))},function(){var a,b;u=function(d){return c(y.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===d.type?a(d):b(d))},a=function(a){var b,d=a.sps||[],e=a.pps||[],f=[],g=[];for(b=0;b<d.length;b++)f.push((65280&d[b].byteLength)>>>8),f.push(255&d[b].byteLength),f=f.concat(Array.prototype.slice.call(d[b]));for(b=0;b<e.length;b++)g.push((65280&e[b].byteLength)>>>8),g.push(255&e[b].byteLength),g=g.concat(Array.prototype.slice.call(e[b]));return c(y.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&a.width)>>8,255&a.width,(65280&a.height)>>8,255&a.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c(y.avcC,new Uint8Array([1,a.profileIdc,a.profileCompatibility,a.levelIdc,255].concat([d.length]).concat(f).concat([e.length]).concat(g))),c(y.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},b=function(a){return c(y.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&a.channelcount)>>8,255&a.channelcount,(65280&a.samplesize)>>8,255&a.samplesize,0,0,0,0,(65280&a.samplerate)>>8,255&a.samplerate,0,0]),e(a))}}(),o=function(a){var b=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,0,(4278190080&a.duration)>>24,(16711680&a.duration)>>16,(65280&a.duration)>>8,255&a.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&a.width)>>8,255&a.width,0,0,(65280&a.height)>>8,255&a.height,0,0]);return c(y.tkhd,b)},v=function(a){var b,d,e,f,g,h,i;return b=c(y.tfhd,new Uint8Array([0,0,0,58,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),h=Math.floor(a.baseMediaDecodeTime/(M+1)),i=Math.floor(a.baseMediaDecodeTime%(M+1)),d=c(y.tfdt,new Uint8Array([1,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),g=92,"audio"===a.type?(e=x(a,g),c(y.traf,b,d,e)):(f=s(a),e=x(a,f.length+g),c(y.traf,b,d,e,f))},n=function(a){return a.duration=a.duration||4294967295,c(y.trak,o(a),p(a))},w=function(a){var b=new Uint8Array([0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==a.type&&(b[b.length-1]=0),c(y.trex,b)},function(){var a,b,d;d=function(a,b){var c=0,d=0,e=0,f=0;return a.length&&(void 0!==a[0].duration&&(c=1),void 0!==a[0].size&&(d=2),void 0!==a[0].flags&&(e=4),void 0!==a[0].compositionTimeOffset&&(f=8)),[0,0,c|d|e|f,1,(4278190080&a.length)>>>24,(16711680&a.length)>>>16,(65280&a.length)>>>8,255&a.length,(4278190080&b)>>>24,(16711680&b)>>>16,(65280&b)>>>8,255&b]},b=function(a,b){var e,f,g,h;for(f=a.samples||[],b+=20+16*f.length,e=d(f,b),h=0;h<f.length;h++)g=f[h],e=e.concat([(4278190080&g.duration)>>>24,(16711680&g.duration)>>>16,(65280&g.duration)>>>8,255&g.duration,(4278190080&g.size)>>>24,(16711680&g.size)>>>16,(65280&g.size)>>>8,255&g.size,g.flags.isLeading<<2|g.flags.dependsOn,g.flags.isDependedOn<<6|g.flags.hasRedundancy<<4|g.flags.paddingValue<<1|g.flags.isNonSyncSample,61440&g.flags.degradationPriority,15&g.flags.degradationPriority,(4278190080&g.compositionTimeOffset)>>>24,(16711680&g.compositionTimeOffset)>>>16,(65280&g.compositionTimeOffset)>>>8,255&g.compositionTimeOffset]);return c(y.trun,new Uint8Array(e))},a=function(a,b){var e,f,g,h;for(f=a.samples||[],b+=20+8*f.length,e=d(f,b),h=0;h<f.length;h++)g=f[h],e=e.concat([(4278190080&g.duration)>>>24,(16711680&g.duration)>>>16,(65280&g.duration)>>>8,255&g.duration,(4278190080&g.size)>>>24,(16711680&g.size)>>>16,(65280&g.size)>>>8,255&g.size]);return c(y.trun,new Uint8Array(e))},x=function(c,d){return"audio"===c.type?a(c,d):b(c,d)}}(),b.exports={ftyp:f,mdat:g,moof:j,moov:k,initSegment:function(a){var b,c=f(),d=k(a);return b=new Uint8Array(c.byteLength+d.byteLength),b.set(c),b.set(d,c.byteLength),b}}},{}],82:[function(a,b){"use strict";var c,d,e,f;c=function(a,b){var e,f,g,h,i,j=[];if(!b.length)return null;for(e=0;e<a.byteLength;)f=a[e]<<24,f|=a[e+1]<<16,f|=a[e+2]<<8,f|=a[e+3],g=d(a.subarray(e+4,e+8)),h=f>1?e+f:a.byteLength,g===b[0]&&(1===b.length?j.push(a.subarray(e+8,h)):(i=c(a.subarray(e+8,h),b.slice(1)),i.length&&(j=j.concat(i)))),e=h;return j},d=function(a){var b="";return b+=String.fromCharCode(a[0]),b+=String.fromCharCode(a[1]),b+=String.fromCharCode(a[2]),b+=String.fromCharCode(a[3])},e=function(a){var b={},d=c(a,["moov","trak"]);return d.reduce(function(a,b){var d,e,f,g,h;return(d=c(b,["tkhd"])[0])?(e=d[0],f=0===e?12:20,g=d[f]<<24|d[f+1]<<16|d[f+2]<<8|d[f+3],(h=c(b,["mdia","mdhd"])[0])?(e=h[0],f=0===e?12:20,a[g]=h[f]<<24|h[f+1]<<16|h[f+2]<<8|h[f+3],a):null):null},b)},f=function(a,b){var d,e,f;return d=c(b,["moof","traf"]),e=[].concat.apply([],d.map(function(b){return c(b,["tfhd"]).map(function(d){var e,f,g;return e=d[4]<<24|d[5]<<16|d[6]<<8|d[7],f=a[e]||9e4,g=c(b,["tfdt"]).map(function(a){var b,c;return b=a[0],c=a[4]<<24|a[5]<<16|a[6]<<8|a[7],1===b&&(c*=Math.pow(2,32),c+=a[8]<<24|a[9]<<16|a[10]<<8|a[11]),c})[0],g=g||1/0,g/f})})),f=Math.min.apply(null,e),isFinite(f)?f:0},b.exports={parseType:d,timescale:e,startTime:f}},{}],83:[function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n=a("../utils/stream.js"),o=a("./mp4-generator.js"),p=a("../m2ts/m2ts.js"),q=a("../codecs/adts.js"),r=a("../codecs/h264").H264Stream,s=a("../aac"),t=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],u=["width","height","profileIdc","levelIdc","profileCompatibility"];g=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},h=function(a){return a[0]==="I".charCodeAt(0)&&a[1]==="D".charCodeAt(0)&&a[2]==="3".charCodeAt(0)?!0:!1},l=function(a,b){var c;if(a.length!==b.length)return!1;for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},m=function(a){var b,c,d=0;for(b=0;b<a.length;b++)c=a[b],d+=c.data.byteLength;return d},d=function(a){var b=[],c=0,e=0;d.prototype.init.call(this),this.push=function(c){i(a,c),a&&t.forEach(function(b){a[b]=c[b]}),b.push(c)},this.setEarliestDts=function(b){e=b-a.timelineStartInfo.baseMediaDecodeTime},this.flush=function(){var d,e,f,g;return 0===b.length?void this.trigger("done","AudioSegmentStream"):(d=this.trimAdtsFramesByEarliestDts_(b),a.samples=this.generateSampleTable_(d),f=o.mdat(this.concatenateFrameData_(d)),b=[],k(a),e=o.moof(c,[a]),g=new Uint8Array(e.byteLength+f.byteLength),c++,g.set(e),g.set(f,e.byteLength),j(a),this.trigger("data",{track:a,boxes:g}),void this.trigger("done","AudioSegmentStream"))},this.trimAdtsFramesByEarliestDts_=function(b){return a.minSegmentDts>=e?b:(a.minSegmentDts=1/0,b.filter(function(b){return b.dts>=e?(a.minSegmentDts=Math.min(a.minSegmentDts,b.dts),a.minSegmentPts=a.minSegmentDts,!0):!1}))},this.generateSampleTable_=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b],d.push({size:c.data.byteLength,duration:1024});return d},this.concatenateFrameData_=function(a){var b,c,d=0,e=new Uint8Array(m(a));for(b=0;b<a.length;b++)c=a[b],e.set(c.data,d),d+=c.data.byteLength;return e}},d.prototype=new n,c=function(a){var b,d,e=0,f=[];c.prototype.init.call(this),delete a.minPTS,this.gopCache_=[],this.push=function(c){i(a,c),"seq_parameter_set_rbsp"!==c.nalUnitType||b||(b=c.config,a.sps=[c.data],u.forEach(function(c){a[c]=b[c]},this)),"pic_parameter_set_rbsp"!==c.nalUnitType||d||(d=c.data,a.pps=[c.data]),f.push(c)},this.flush=function(){for(var b,c,d,g,h,j;f.length&&"access_unit_delimiter_rbsp"!==f[0].nalUnitType;)f.shift();return 0===f.length?(this.resetStream_(),void this.trigger("done","VideoSegmentStream")):(b=this.groupNalsIntoFrames_(f),d=this.groupFramesIntoGops_(b),d[0][0].keyFrame||(c=this.getGopForFusion_(f[0],a),c?(d.unshift(c),d.byteLength+=c.byteLength,d.nalCount+=c.nalCount,d.pts=c.pts,d.dts=c.dts,d.duration+=c.duration):d=this.extendFirstKeyFrame_(d)),i(a,d),a.samples=this.generateSampleTable_(d),h=o.mdat(this.concatenateNalData_(d)),this.gopCache_.unshift({gop:d.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),f=[],k(a),this.trigger("timelineStartInfo",a.timelineStartInfo),g=o.moof(e,[a]),j=new Uint8Array(g.byteLength+h.byteLength),e++,j.set(g),j.set(h,g.byteLength),this.trigger("data",{track:a,boxes:j}),this.resetStream_(),void this.trigger("done","VideoSegmentStream"))},this.resetStream_=function(){j(a),b=void 0,d=void 0},this.getGopForFusion_=function(b){var c,d,e,f,g,h=45e3,i=1e4,j=1/0;for(g=0;g<this.gopCache_.length;g++)f=this.gopCache_[g],e=f.gop,a.pps&&l(a.pps[0],f.pps[0])&&a.sps&&l(a.sps[0],f.sps[0])&&(e.dts<a.timelineStartInfo.dts||(c=b.dts-e.dts-e.duration,c>=-i&&h>=c&&(!d||j>c)&&(d=f,j=c)));return d?d.gop:null},this.extendFirstKeyFrame_=function(a){var b;return a[0][0].keyFrame||(b=a.shift(),a.byteLength-=b.byteLength,a.nalCount-=b.nalCount,a[0][0].dts=b.dts,a[0][0].pts=b.pts,a[0][0].duration+=b.duration),a},this.groupNalsIntoFrames_=function(a){var b,c,d=[],e=[];for(d.byteLength=0,b=0;b<a.length;b++)c=a[b],"access_unit_delimiter_rbsp"===c.nalUnitType?(d.length&&(d.duration=c.dts-d.dts,e.push(d)),d=[c],d.byteLength=c.data.byteLength,d.pts=c.pts,d.dts=c.dts):("slice_layer_without_partitioning_rbsp_idr"===c.nalUnitType&&(d.keyFrame=!0),d.duration=c.dts-d.dts,d.byteLength+=c.data.byteLength,d.push(c));return e.length&&(!d.duration||d.duration<=0)&&(d.duration=e[e.length-1].duration),e.push(d),e},this.groupFramesIntoGops_=function(a){var b,c,d=[],e=[];for(d.byteLength=0,d.nalCount=0,d.duration=0,d.pts=a[0].pts,d.dts=a[0].dts,e.byteLength=0,e.nalCount=0,e.duration=0,e.pts=a[0].pts,e.dts=a[0].dts,b=0;b<a.length;b++)c=a[b],c.keyFrame?(d.length&&(e.push(d),e.byteLength+=d.byteLength,e.nalCount+=d.nalCount,e.duration+=d.duration),d=[c],d.nalCount=c.length,d.byteLength=c.byteLength,d.pts=c.pts,d.dts=c.dts,d.duration=c.duration):(d.duration+=c.duration,d.nalCount+=c.length,d.byteLength+=c.byteLength,d.push(c));return e.length&&d.duration<=0&&(d.duration=e[e.length-1].duration),e.byteLength+=d.byteLength,e.nalCount+=d.nalCount,e.duration+=d.duration,e.push(d),e},this.generateSampleTable_=function(a,b){var c,d,e,f,h,i=b||0,j=[];for(c=0;c<a.length;c++)for(f=a[c],d=0;d<f.length;d++)h=f[d],e=g(),e.dataOffset=i,e.compositionTimeOffset=h.pts-h.dts,e.duration=h.duration,e.size=4*h.length,e.size+=h.byteLength,h.keyFrame&&(e.flags.dependsOn=2),i+=e.size,j.push(e);return j},this.concatenateNalData_=function(a){var b,c,d,e,f,g,h=0,i=a.byteLength,j=a.nalCount,k=i+4*j,l=new Uint8Array(k),m=new DataView(l.buffer);for(b=0;b<a.length;b++)for(e=a[b],c=0;c<e.length;c++)for(f=e[c],d=0;d<f.length;d++)g=f[d],m.setUint32(h,g.data.byteLength),h+=4,l.set(g.data,h),h+=g.data.byteLength;return l}},c.prototype=new n,i=function(a,b){"number"==typeof b.pts&&(void 0===a.timelineStartInfo.pts&&(a.timelineStartInfo.pts=b.pts),a.minSegmentPts=void 0===a.minSegmentPts?b.pts:Math.min(a.minSegmentPts,b.pts),a.maxSegmentPts=void 0===a.maxSegmentPts?b.pts:Math.max(a.maxSegmentPts,b.pts)),"number"==typeof b.dts&&(void 0===a.timelineStartInfo.dts&&(a.timelineStartInfo.dts=b.dts),a.minSegmentDts=void 0===a.minSegmentDts?b.dts:Math.min(a.minSegmentDts,b.dts),a.maxSegmentDts=void 0===a.maxSegmentDts?b.dts:Math.max(a.maxSegmentDts,b.dts))},j=function(a){delete a.minSegmentDts,delete a.maxSegmentDts,delete a.minSegmentPts,delete a.maxSegmentPts},k=function(a){var b,c=9e4,d=a.minSegmentDts-a.timelineStartInfo.dts;a.baseMediaDecodeTime=a.timelineStartInfo.baseMediaDecodeTime,a.baseMediaDecodeTime+=d,a.baseMediaDecodeTime=Math.max(0,a.baseMediaDecodeTime),"audio"===a.type&&(b=a.samplerate/c,a.baseMediaDecodeTime*=b,a.baseMediaDecodeTime=Math.floor(a.baseMediaDecodeTime))},f=function(a,b){this.numberOfTracks=0,this.metadataStream=b,this.remuxTracks="undefined"!=typeof a.remux?!!a.remux:!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,f.prototype.init.call(this),this.push=function(a){return a.text?this.pendingCaptions.push(a):a.frames?this.pendingMetadata.push(a):(this.pendingTracks.push(a.track),this.pendingBoxes.push(a.boxes),this.pendingBytes+=a.boxes.byteLength,"video"===a.track.type&&(this.videoTrack=a.track),void("audio"===a.track.type&&(this.audioTrack=a.track)))}},f.prototype=new n,f.prototype.flush=function(a){var b,c,d,e,f=0,g={captions:[],metadata:[],info:{}},h=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==a&&"AudioSegmentStream"!==a)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(h=this.videoTrack.timelineStartInfo.pts,u.forEach(function(a){g.info[a]=this.videoTrack[a]},this)):this.audioTrack&&(h=this.audioTrack.timelineStartInfo.pts,t.forEach(function(a){g.info[a]=this.audioTrack[a]},this)),g.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,d=o.initSegment(this.pendingTracks),g.initSegment=new Uint8Array(d.byteLength),g.initSegment.set(d),g.data=new Uint8Array(this.pendingBytes),e=0;e<this.pendingBoxes.length;e++)g.data.set(this.pendingBoxes[e],f),f+=this.pendingBoxes[e].byteLength;for(e=0;e<this.pendingCaptions.length;e++)b=this.pendingCaptions[e],b.startTime=b.startPts-h,b.startTime/=9e4,b.endTime=b.endPts-h,b.endTime/=9e4,g.captions.push(b);for(e=0;e<this.pendingMetadata.length;e++)c=this.pendingMetadata[e],c.cueTime=c.pts-h,c.cueTime/=9e4,g.metadata.push(c);g.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",g),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},e=function(a){var b,g,i=this,k=!0;e.prototype.init.call(this),a=a||{},this.baseMediaDecodeTime=a.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="aac",b.metadataStream=new p.MetadataStream,b.aacStream=new s,b.audioTimestampRolloverStream=new p.TimestampRolloverStream("audio"),b.timedMetadataTimestampRolloverStream=new p.TimestampRolloverStream("timed-metadata"),b.adtsStream=new q,b.coalesceStream=new f(a,b.metadataStream),b.headOfPipeline=b.aacStream,b.aacStream.pipe(b.audioTimestampRolloverStream).pipe(b.adtsStream),b.aacStream.pipe(b.timedMetadataTimestampRolloverStream).pipe(b.metadataStream).pipe(b.coalesceStream),b.metadataStream.on("timestamp",function(a){b.aacStream.setTimestamp(a.timeStamp)}),b.aacStream.on("data",function(a){"timed-metadata"!==a.type||b.audioSegmentStream||(g=g||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new d(g),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream))}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="ts",e.metadataStream=new p.MetadataStream,e.packetStream=new p.TransportPacketStream,e.parseStream=new p.TransportParseStream,e.elementaryStream=new p.ElementaryStream,e.videoTimestampRolloverStream=new p.TimestampRolloverStream("video"),e.audioTimestampRolloverStream=new p.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new p.TimestampRolloverStream("timed-metadata"),e.adtsStream=new q,e.h264Stream=new r,e.captionStream=new p.CaptionStream,e.coalesceStream=new f(a,e.metadataStream),e.headOfPipeline=e.packetStream,e.packetStream.pipe(e.parseStream).pipe(e.elementaryStream),e.elementaryStream.pipe(e.videoTimestampRolloverStream).pipe(e.h264Stream),e.elementaryStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.elementaryStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.h264Stream.pipe(e.captionStream).pipe(e.coalesceStream),e.elementaryStream.on("data",function(a){var f;if("metadata"===a.type){for(f=a.tracks.length;f--;)b||"video"!==a.tracks[f].type?g||"audio"!==a.tracks[f].type||(g=a.tracks[f],g.timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(b=a.tracks[f],b.timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime);b&&!e.videoSegmentStream&&(e.coalesceStream.numberOfTracks++,e.videoSegmentStream=new c(b),e.videoSegmentStream.on("timelineStartInfo",function(a){g&&(g.timelineStartInfo=a,e.audioSegmentStream.setEarliestDts(a.dts))}),e.h264Stream.pipe(e.videoSegmentStream).pipe(e.coalesceStream)),g&&!e.audioSegmentStream&&(e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new d(g),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(a){var c=this.transmuxPipeline_;this.baseMediaDecodeTime=a,g&&(g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,j(g),g.timelineStartInfo.baseMediaDecodeTime=a),b&&(c.videoSegmentStream&&(c.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,j(b),b.timelineStartInfo.baseMediaDecodeTime=a)},this.push=function(a){if(k){var b=h(a);b&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():b||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),k=!1}this.transmuxPipeline_.headOfPipeline.push(a)},this.flush=function(){k=!0,this.transmuxPipeline_.headOfPipeline.flush()}},e.prototype=new n,b.exports={Transmuxer:e,VideoSegmentStream:c,AudioSegmentStream:d,AUDIO_PROPERTIES:t,VIDEO_PROPERTIES:u}},{"../aac":66,"../codecs/adts.js":68,"../codecs/h264":69,"../m2ts/m2ts.js":75,"../utils/stream.js":86,"./mp4-generator.js":81}],84:[function(a,b){"use strict";var c=a("../m2ts/stream-types.js"),d=a("../m2ts/timestamp-rollover-stream.js").handleRollover,e={};e.ts=a("../m2ts/probe.js"),e.aac=a("../aac/probe.js");var f=9e4,g=188,h=71,i=function(a){return a[0]==="I".charCodeAt(0)&&a[1]==="D".charCodeAt(0)&&a[2]==="3".charCodeAt(0)?!0:!1},j=function(a,b){for(var c,d,f=0,i=g;i<a.byteLength;)if(a[f]!==h||a[i]!==h)f++,i++;else{switch(c=a.subarray(f,i),d=e.ts.parseType(c,b.pid)){case"pat":b.pid||(b.pid=e.ts.parsePat(c));break;case"pmt":b.table||(b.table=e.ts.parsePmt(c))}if(b.pid&&b.table)return;f+=g,i+=g}},k=function(a,b,c){for(var d,f,i,j,k,l=0,m=g,n=!1;m<a.byteLength;)if(a[l]!==h||a[m]!==h)l++,m++;else{switch(d=a.subarray(l,m),f=e.ts.parseType(d,b.pid)){case"pes":i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"audio"===i&&j&&(k=e.ts.parsePesTime(d),k.type="audio",c.audio.push(k),n=!0)}if(n)break;l+=g,m+=g}for(m=a.byteLength,l=m-g,n=!1;l>=0;)if(a[l]!==h||a[m]!==h)l--,m--;else{switch(d=a.subarray(l,m),f=e.ts.parseType(d,b.pid)){case"pes":i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"audio"===i&&j&&(k=e.ts.parsePesTime(d),k.type="audio",c.audio.push(k),n=!0)}if(n)break;l-=g,m-=g}},l=function(a,b,c){for(var d,f,i,j,k,l,m,n,o=0,p=g,q=!1,r={data:[],size:0};p<a.byteLength;)if(a[o]!==h||a[p]!==h)o++,p++;else{switch(d=a.subarray(o,p),f=e.ts.parseType(d,b.pid)){case"pes":if(i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"video"===i&&(j&&!q&&(k=e.ts.parsePesTime(d),k.type="video",c.video.push(k),q=!0),!c.firstKeyFrame)){if(j&&0!==r.size){for(l=new Uint8Array(r.size),m=0;r.data.length;)n=r.data.shift(),l.set(n,m),m+=n.byteLength;e.ts.videoPacketContainsKeyFrame(l)&&(c.firstKeyFrame=e.ts.parsePesTime(l),c.firstKeyFrame.type="video"),r.size=0}r.data.push(d),r.size+=d.byteLength}}if(q&&c.firstKeyFrame)break;o+=g,p+=g}for(p=a.byteLength,o=p-g,q=!1;o>=0;)if(a[o]!==h||a[p]!==h)o--,p--;else{switch(d=a.subarray(o,p),f=e.ts.parseType(d,b.pid)){case"pes":i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"video"===i&&j&&(k=e.ts.parsePesTime(d),k.type="video",c.video.push(k),q=!0)}if(q)break;o-=g,p-=g}},m=function(a,b){if(a.audio&&a.audio.length){var c=b;"undefined"==typeof c&&(c=a.audio[0].dts),a.audio.forEach(function(a){a.dts=d(a.dts,c),a.pts=d(a.pts,c),a.dtsTime=a.dts/f,a.ptsTime=a.pts/f})}if(a.video&&a.video.length){var e=b;if("undefined"==typeof e&&(e=a.video[0].dts),a.video.forEach(function(a){a.dts=d(a.dts,e),a.pts=d(a.pts,e),a.dtsTime=a.dts/f,a.ptsTime=a.pts/f}),a.firstKeyFrame){var g=a.firstKeyFrame;g.dts=d(g.dts,e),g.pts=d(g.pts,e),g.dtsTime=g.dts/f,g.ptsTime=g.dts/f}}},n=function(a){for(var b,c=!1,d=0,g=null,h=null,i=0,j=0;a.length-j>=3;){var k=e.aac.parseType(a,j);switch(k){case"timed-metadata":if(a.length-j<10){c=!0;break}if(i=e.aac.parseId3TagSize(a,j),i>a.length){c=!0;break}null===h&&(b=a.subarray(j,j+i),h=e.aac.parseAacTimestamp(b)),j+=i;break;case"audio":if(a.length-j<7){c=!0;break}if(i=e.aac.parseAdtsSize(a,j),i>a.length){c=!0;break}null===g&&(b=a.subarray(j,j+i),g=e.aac.parseSampleRate(b)),d++,j+=i;break;default:j++}if(c)return null}if(null===g||null===h)return null;var l=f/g,m={audio:[{type:"audio",dts:h,pts:h},{type:"audio",dts:h+1024*d*l,pts:h+1024*d*l}]};return m},o=function(a){var b={pid:null,table:null},d={};j(a,b);for(var e in b.table)if(b.table.hasOwnProperty(e)){var f=b.table[e];switch(f){case c.H264_STREAM_TYPE:d.video=[],l(a,b,d),0===d.video.length&&delete d.video;break;case c.ADTS_STREAM_TYPE:d.audio=[],k(a,b,d),0===d.audio.length&&delete d.audio}}return d},p=function(a,b){var c,d=i(a);return c=d?n(a):o(a),c&&(c.audio||c.video)?(m(c,b),c):null};b.exports={inspect:p}},{"../aac/probe.js":67,"../m2ts/probe.js":77,"../m2ts/stream-types.js":78,"../m2ts/timestamp-rollover-stream.js":79}],85:[function(a,b){"use strict";var c;c=function(a){var b=a.byteLength,c=0,d=0;this.length=function(){return 8*b},this.bitsAvailable=function(){return 8*b+d},this.loadWord=function(){var e=a.byteLength-b,f=new Uint8Array(4),g=Math.min(4,b);if(0===g)throw new Error("no bytes available");f.set(a.subarray(e,e+g)),c=new DataView(f.buffer).getUint32(0),d=8*g,b-=g},this.skipBits=function(a){var e;d>a?(c<<=a,d-=a):(a-=d,e=Math.floor(a/8),a-=8*e,b-=e,this.loadWord(),c<<=a,d-=a)},this.readBits=function(a){var e=Math.min(d,a),f=c>>>32-e;return d-=e,d>0?c<<=e:b>0&&this.loadWord(),e=a-e,e>0?f<<e|this.readBits(e):f},this.skipLeadingZeros=function(){var a;for(a=0;d>a;++a)if(0!==(c&2147483648>>>a))return c<<=a,d-=a,a;return this.loadWord(),a+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1},this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},b.exports=c},{}],86:[function(a,b){"use strict";var c=function(){this.init=function(){var a={};this.on=function(b,c){a[b]||(a[b]=[]),a[b]=a[b].concat(c)},this.off=function(b,c){var d;return a[b]?(d=a[b].indexOf(c),a[b]=a[b].slice(),a[b].splice(d,1),d>-1):!1},this.trigger=function(b){var c,d,e,f;if(c=a[b])if(2===arguments.length)for(e=c.length,d=0;e>d;++d)c[d].call(this,arguments[1]);else{for(f=[],d=arguments.length,d=1;d<arguments.length;++d)f.push(arguments[d]);for(e=c.length,d=0;e>d;++d)c[d].apply(this,f)}},this.dispose=function(){a={}}}};c.prototype.pipe=function(a){return this.on("data",function(b){a.push(b)}),this.on("done",function(b){a.flush(b)}),a},c.prototype.push=function(a){this.trigger("data",a)},c.prototype.flush=function(a){this.trigger("done",a)},b.exports=c},{}],87:[function(a,b){"use strict";var c;b.exports=function(a){var b=c[a.byteLength%16||0],d=new Uint8Array(a.byteLength+b.length);return d.set(a),d.set(b,a.byteLength),d},c=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],88:[function(a,b,c){"use strict";c.pad=a("./pad.js"),c.unpad=a("./unpad.js")},{"./pad.js":87,"./unpad.js":89}],89:[function(a,b){"use strict";b.exports=function(a){return a.subarray(0,a.byteLength-a[a.byteLength-1])}},{}],90:[function(b,c,d){!function(b){var e={buildAbsoluteURL:function(a,b){if(b=b.trim(),/^[a-z]+:/i.test(b))return b;var c=null,d=null,f=/^([^#]*)(.*)$/.exec(b);f&&(d=f[2],b=f[1]);var g=/^([^\?]*)(.*)$/.exec(b);g&&(c=g[2],b=g[1]);var h=/^([^#]*)(.*)$/.exec(a);h&&(a=h[1]);var i=/^([^\?]*)(.*)$/.exec(a);i&&(a=i[1]);var j=/^(([a-z]+:)?\/\/[a-z0-9\.\-_~]+(:[0-9]+)?)?(\/.*)$/i.exec(a);if(!j)throw new Error("Error trying to parse base URL.");var k=j[2]||"",l=j[1]||"",m=j[4],n=null;return n=/^\/\//.test(b)?k+"//"+e.buildAbsolutePath("",b.substring(2)):/^\//.test(b)?l+"/"+e.buildAbsolutePath("",b.substring(1)):e.buildAbsolutePath(l+m,b),c&&(n+=c),d&&(n+=d),n},buildAbsolutePath:function(a,b){for(var c,d,e=b,f="",g=a.replace(/[^\/]*$/,e.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),h=0;d=g.indexOf("/../",h),d>-1;h=d+c)c=/^\/(?:\.\.\/)*/.exec(g.slice(d))[0].length,f=(f+g.substring(h,d)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(c-1)/3+"}$"),"/");return f+g.substr(h)}};"object"==typeof d&&"object"==typeof c?c.exports=e:"function"==typeof a&&a.amd?a([],function(){return e}):"object"==typeof d?d.URLToolkit=e:b.URLToolkit=e}(this)},{}],91:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a("global/window"),g=e(f),h="undefined"!=typeof window?window.videojs:"undefined"!=typeof d?d.videojs:null,i=e(h),j=function(a){Object.defineProperties(a.frame,{id:{get:function(){return i["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),a.value.key}},value:{get:function(){return i["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),a.value.data}},privateData:{get:function(){return i["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),a.value.data}}})},k=function(a){var b=void 0;return b=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a},l=function(a,b,c){var d=g["default"].WebKitDataCue||g["default"].VTTCue;if(b&&b.forEach(function(a){this.inbandTextTrack_.addCue(new d(a.startTime+this.timestampOffset,a.endTime+this.timestampOffset,a.text))},a),c){var e=k(a.mediaSource_.duration);if(c.forEach(function(a){var b=a.cueTime+this.timestampOffset;a.frames.forEach(function(a){var c=new d(b,b,a.value||a.url||a.data||"");c.frame=a,c.value=a,j(c),this.metadataTrack_.addCue(c)},this)},a),a.metadataTrack_&&a.metadataTrack_.cues&&a.metadataTrack_.cues.length){for(var f=a.metadataTrack_.cues,h=[],i=0;i<f.length;i++)h.push(f[i]);h.sort(function(a,b){return a.startTime-b.startTime});for(var l=0;l<h.length-1;l++)h[l].endTime!==h[l+1].startTime&&(h[l].endTime=h[l+1].startTime);h[h.length-1].endTime=e}}};c["default"]={addTextTrackData:l,durationOfVideo:k},b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});

},{"global/window":24}],92:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a,b,c){for(var d=a.remoteTextTracks()||[],e=0;e<d.length;e++){var f=d[e];f.kind===b&&f.label===c&&a.removeRemoteTextTrack(f)}};c.removeExistingTrack=d;var e=function(a){d(a,"captions","cc1"),d(a,"metadata","Timed Metadata")};c.cleanupTextTracks=e},{}],93:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){return/mp4a\.\d+.\d+/i.test(a)},e=function(a){return/avc1\.[\da-f]+/i.test(a)},f=function(a){var b={type:"",parameters:{}},c=a.trim().split(";");return b.type=c.shift().trim(),c.forEach(function(a){var c=a.trim().split("=");if(c.length>1){var d=c[0].replace(/"/g,"").trim(),e=c[1].replace(/"/g,"").trim();b.parameters[d]=e}}),b};c["default"]={isAudioCodec:d,parseContentType:f,isVideoCodec:e},b.exports=c["default"]},{}],94:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./cleanup-text-tracks"),e=function(a,b,c){var e=b.player_;c.captions&&c.captions.length&&!a.inbandTextTrack_&&(d.removeExistingTrack(e,"captions","cc1"),a.inbandTextTrack_=e.addRemoteTextTrack({kind:"captions",label:"cc1"},!1).track),c.metadata&&c.metadata.length&&!a.metadataTrack_&&(d.removeExistingTrack(e,"metadata","Timed Metadata",!0),a.metadataTrack_=e.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,a.metadataTrack_.inBandMetadataTrackDispatchType=c.metadata.dispatchType)};c["default"]=e,b.exports=c["default"]},{"./cleanup-text-tracks":92}],95:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={TIME_BETWEEN_CHUNKS:4,BYTES_PER_CHUNK:4096};c["default"]=d,b.exports=c["default"]},{}],96:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},j=a("global/document"),k=e(j),l="undefined"!=typeof window?window.videojs:"undefined"!=typeof d?d.videojs:null,m=e(l),n=a("./flash-source-buffer"),o=e(n),p=a("./flash-constants"),q=e(p),r=a("./codec-utils"),s=a("./cleanup-text-tracks"),t=function(a){function b(){var a=this;f(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(b){a.swfObj=k["default"].getElementById(b.swfId),a.player_=m["default"](a.swfObj.parentNode),a.tech_=a.swfObj.tech,a.readyState="open",a.tech_.on("seeking",function(){for(var b=a.sourceBuffers.length;b--;)a.sourceBuffers[b].abort()}),a.tech_.hls&&a.tech_.hls.on("dispose",function(){s.cleanupTextTracks(a.player_)}),a.swfObj&&a.swfObj.vjs_load()})}return g(b,a),h(b,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(a){var b=r.parseContentType(a),c=void 0;if("video/mp2t"!==b.type)throw new Error("NotSupportedError (Video.js)");return c=new o["default"](this),this.sourceBuffers.push(c),c}},{key:"endOfStream",value:function(a){"network"===a?this.tech_.error(2):"decode"===a&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),b}(m["default"].EventTarget);c["default"]=t;try{Object.defineProperty(t.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):0/0},set:function(a){var b=void 0,c=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",a),c>a)for(b=0;b<this.sourceBuffers.length;b++)this.sourceBuffers[b].remove(a,c);return a}})}catch(u){t.prototype.duration=0/0}for(var v in q["default"])t[v]=q["default"][v];b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cleanup-text-tracks":92,"./codec-utils":93,"./flash-constants":95,"./flash-source-buffer":97,"global/document":23}],97:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},j=a("global/window"),k=e(j),l="undefined"!=typeof window?window.videojs:"undefined"!=typeof d?d.videojs:null,m=e(l),n=a("mux.js/lib/flv"),o=e(n),p=a("./remove-cues-from-track"),q=e(p),r=a("./create-text-tracks-if-necessary"),s=e(r),t=a("./add-text-track-data"),u=a("./flash-constants"),v=e(u),w=function(a){k["default"].setTimeout(a,v["default"].TIME_BETWEEN_CHUNKS)},x=function(a,b){("number"!=typeof b||0>b)&&(b=0);var c=Math.pow(10,b);return Math.round(a*c)/c},y=function(a){function b(a){var c=this;f(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this);var d=void 0;this.chunkSize_=v["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=0/0,this.mediaSource_=a,this.updating=!1,this.timestampOffset_=0,this.segmentParser_=new o["default"].Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),d=k["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(this.segmentParser_.getFlvHeader()))),this.mediaSource_.swfObj.vjs_appendBuffer(d),this.one("updateend",function(){c.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(a){"number"==typeof a&&a>=0&&(this.timestampOffset_=a,this.segmentParser_=new o["default"].Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=0/0)}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return m["default"].createTimeRange();var a=this.mediaSource_.swfObj.vjs_getProperty("buffered");return a&&a.length&&(a[0][0]=x(a[0][0],3),a[0][1]=x(a[0][1],3)),m["default"].createTimeRanges(a)}}),this.mediaSource_.player_.on("seeked",function(){q["default"](0,1/0,c.metadataTrack_),q["default"](0,1/0,c.inbandTextTrack_)})}return g(b,a),h(b,[{key:"appendBuffer",value:function(a){var b=this,c=void 0,d=524288,e=0;if(this.updating)throw c=new Error("SourceBuffer.append() cannot be called while an update is in progress"),c.name="InvalidStateError",c.code=11,c;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"});var f=function g(){b.segmentParser_.push(a.subarray(e,e+d)),e+=d,w(e<a.byteLength?g:b.segmentParser_.flush.bind(b.segmentParser_))};f()}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(a,b){q["default"](a,b,this.metadataTrack_),q["default"](a,b,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(a){var b=this;s["default"](this,this.mediaSource_,a),t.addTextTrackData(this,a.captions,a.metadata),w(function(){var c=b.convertTagsToData_(a);0===b.buffer_.length&&w(b.processBuffer_.bind(b)),c&&(b.buffer_.push(c),b.bufferSize_+=c.byteLength)})}},{key:"processBuffer_",value:function(){var a=v["default"].BYTES_PER_CHUNK;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));var b=this.buffer_[0].subarray(0,a);b.byteLength<a||this.buffer_[0].byteLength===a?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(a),this.bufferSize_-=b.byteLength;for(var c="",d=b.byteLength,e=0;d>e;e++)c+=String.fromCharCode(b[e]);var f=k["default"].btoa(c);this.mediaSource_.swfObj.CallFunction('<invoke name="vjs_appendBuffer"returntype="javascript"><arguments><string>'+f+"</string></arguments></invoke>"),0!==this.bufferSize_?w(this.processBuffer_.bind(this)):(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(a){var b=0,c=this.mediaSource_.tech_,d=0,e=void 0,f=void 0,g=void 0,h=[],i=this.getOrderedTags_(a);for(isNaN(this.basePtsOffset_)&&i.length&&(this.basePtsOffset_=i[0].pts),c.seeking()&&(d=Math.max(d,c.currentTime()-this.timestampOffset)),d*=1e3,d+=this.basePtsOffset_,e=0;e<i.length;e++)i[e].pts>=d&&h.push(i[e]);if(0!==h.length){for(e=0;e<h.length;e++)b+=h[e].bytes.byteLength;for(g=new Uint8Array(b),e=0,f=0;e<h.length;e++)g.set(h[e].bytes,f),f+=h[e].bytes.byteLength;return g}}},{key:"getOrderedTags_",value:function(a){for(var b=a.tags.videoTags,c=a.tags.audioTags,d=void 0,e=[];b.length||c.length;)d=b.length?c.length&&c[0].dts<b[0].dts?c.shift():b.shift():c.shift(),e.push(d.finalize());return e}}]),b}(m["default"].EventTarget);c["default"]=y,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":91,"./create-text-tracks-if-necessary":94,"./flash-constants":95,"./remove-cues-from-track":99,"global/window":24,"mux.js/lib/flv":72}],98:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},j=a("global/window"),k=e(j),l=a("global/document"),m=e(l),n="undefined"!=typeof window?window.videojs:"undefined"!=typeof d?d.videojs:null,o=e(n),p=a("./virtual-source-buffer"),q=e(p),r=a("./add-text-track-data"),s=a("./codec-utils"),t=a("./cleanup-text-tracks"),u=function(a){return a.map(function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a,b,c){var d=("00"+Number(b).toString(16)).slice(-2),e=("00"+Number(c).toString(16)).slice(-2);return"avc1."+d+"00"+e})})},v=function(a){function b(){var a=this;f(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this);var c=void 0;this.nativeMediaSource_=new k["default"].MediaSource;for(c in this.nativeMediaSource_)c in b.prototype||"function"!=typeof this.nativeMediaSource_[c]||(this[c]=this.nativeMediaSource_[c].bind(this.nativeMediaSource_));this.duration_=0/0,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(a){return this.duration_=a,a!==1/0?void(this.nativeMediaSource_.duration=a):void 0}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?o["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){a.activeSourceBuffers_.length=0;for(var b=!1,c=!0,d=0;d<a.player_.audioTracks().length;d++){var e=a.player_.audioTracks()[d];if(e.enabled&&"main"!==e.kind){b=!0,c=!1;break}}a.sourceBuffers.forEach(function(d){if(d.appendAudioInitSegment_=!0,d.videoCodec_&&d.audioCodec_)d.audioDisabled_=b;else if(d.videoCodec_&&!d.audioCodec_)d.audioDisabled_=!0,c=!1;else if(!d.videoCodec_&&d.audioCodec_&&(d.audioDisabled_=c,c))return;a.activeSourceBuffers_.push(d)})},this.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(a){a.appendAudioInitSegment_=!0})},["sourceopen","sourceclose","sourceended"].forEach(function(a){this.nativeMediaSource_.addEventListener(a,this.trigger.bind(this))},this),this.on("sourceopen",function(){var b=m["default"].querySelector('[src="'+a.url_+'"]');b&&(a.player_=o["default"](b.parentNode),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_))}),this.on("sourceended",function(){for(var b=r.durationOfVideo(a.duration),c=0;c<a.sourceBuffers.length;c++){var d=a.sourceBuffers[c],e=d.metadataTrack_&&d.metadataTrack_.cues;e&&e.length&&(e[e.length-1].endTime=b)}}),this.on("sourceclose",function(){this.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(t.cleanupTextTracks(this.player_),this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_))})}return g(b,a),h(b,[{key:"addSeekableRange_",value:function(a,b){var c=void 0;if(this.duration!==1/0)throw c=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),c.name="InvalidStateError",c.code=11,c;(b>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=b)}},{key:"addSourceBuffer",value:function(a){var b=void 0,c=s.parseContentType(a);if(/^(video|audio)\/mp2t$/i.test(c.type)){var d=[];c.parameters&&c.parameters.codecs&&(d=c.parameters.codecs.split(","),d=u(d),d=d.filter(function(a){return s.isAudioCodec(a)||s.isVideoCodec(a)})),0===d.length&&(d=["avc1.4d400d","mp4a.40.2"]),b=new q["default"](this,d),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),b.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else b=this.nativeMediaSource_.addSourceBuffer(a);return this.sourceBuffers.push(b),b}}]),b}(o["default"].EventTarget);c["default"]=v,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":91,"./cleanup-text-tracks":92,"./codec-utils":93,"./virtual-source-buffer":102,"global/document":23,"global/window":24}],99:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a,b,c){var d=void 0,e=void 0;if(c&&c.cues)for(d=c.cues.length;d--;)e=c.cues[d],e.startTime<=b&&e.endTime>=a&&c.removeCue(e)};c["default"]=d,b.exports=c["default"]},{}],100:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("global/window"),h=d(g),i=a("mux.js/lib/mp4"),j=d(i),k=function(a){a.on("data",function(a){var b=a.initSegment;a.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};var c=a.data;a.data=c.buffer,h["default"].postMessage({action:"data",segment:a,byteOffset:c.byteOffset,byteLength:c.byteLength},[a.data])}),a.captionStream&&a.captionStream.on("data",function(a){h["default"].postMessage({action:"caption",data:a})}),a.on("done",function(){h["default"].postMessage({action:"done"})})},l=function(){function a(b){e(this,a),this.options=b||{},this.init()}return f(a,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new j["default"].Transmuxer(this.options),k(this.transmuxer)}},{key:"push",value:function(a){var b=new Uint8Array(a.data,a.byteOffset,a.byteLength);this.transmuxer.push(b)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(a){var b=a.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*b))}},{key:"flush",value:function(){this.transmuxer.flush()}}]),a}(),m=function(a){a.onmessage=function(a){return"init"===a.data.action&&a.data.options?void(this.messageHandlers=new l(a.data.options)):(this.messageHandlers||(this.messageHandlers=new l),void(a.data&&a.data.action&&"init"!==a.data.action&&this.messageHandlers[a.data.action]&&this.messageHandlers[a.data.action](a.data)))}};c["default"]=function(a){return new m(a)},b.exports=c["default"]},{"global/window":24,"mux.js/lib/mp4":80}],101:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("global/window"),f=d(e),g=a("./flash-media-source"),h=d(g),i=a("./html-media-source"),j=d(i),k="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,l=d(k),m=0,n={mode:"auto"};l["default"].mediaSources={};var o=function(a,b){var c=l["default"].mediaSources[a];if(!c)throw new Error("Media Source not found (Video.js)");c.trigger({type:"sourceopen",swfId:b})},p=function(){return!!f["default"].MediaSource&&!!f["default"].MediaSource.isTypeSupported&&f["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},q=function(a){var b=l["default"].mergeOptions(n,a);return this.MediaSource={open:o,supportsNativeMediaSources:p},"html5"===b.mode||"auto"===b.mode&&p()?new j["default"]:new h["default"]};c.MediaSource=q,q.open=o,q.supportsNativeMediaSources=p;var r={createObjectURL:function(a){var b="blob:vjs-media-source/",c=void 0;return a instanceof j["default"]?(c=f["default"].URL.createObjectURL(a.nativeMediaSource_),a.url_=c,c):a instanceof h["default"]?(c=b+m,m++,l["default"].mediaSources[c]=a,c):(c=f["default"].URL.createObjectURL(a),a.url_=c,c)}};c.URL=r,l["default"].MediaSource=q,l["default"].URL=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-media-source":96,"./html-media-source":98,"global/window":24}],102:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},j="undefined"!=typeof window?window.videojs:"undefined"!=typeof d?d.videojs:null,k=e(j),l=a("./create-text-tracks-if-necessary"),m=e(l),n=a("./remove-cues-from-track"),o=e(n),p=a("./add-text-track-data"),q=a("webworkify"),r=e(q),s=a("./transmuxer-worker"),t=e(s),u=a("./codec-utils"),v=function(a){function b(a,c){var d=this;f(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,k["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=a,this.codecs_=c,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0;var e={remux:!1};this.codecs_.forEach(function(a){u.isAudioCodec(a)?d.audioCodec_=a:u.isVideoCodec(a)&&(d.videoCodec_=a)}),this.transmuxer_=r["default"](t["default"]),this.transmuxer_.postMessage({action:"init",options:e}),this.transmuxer_.onmessage=function(a){return"data"===a.data.action?d.data_(a):"done"===a.data.action?d.done_(a):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(a){"number"==typeof a&&a>=0&&(this.timestampOffset_=a,this.appendAudioInitSegment_=!0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:a}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(a){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=a),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=a)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var a=null,b=null,c=0,d=[],e=[];if(!this.videoBuffer_&&!this.audioBuffer_)return k["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return k["default"].createTimeRange();for(var f=this.videoBuffer_.buffered,g=this.audioBuffer_.buffered,h=f.length;h--;)d.push({time:f.start(h),type:"start"}),d.push({time:f.end(h),type:"end"});for(h=g.length;h--;)d.push({time:g.start(h),type:"start"}),d.push({time:g.end(h),type:"end"});for(d.sort(function(a,b){return a.time-b.time}),h=0;h<d.length;h++)"start"===d[h].type?(c++,2===c&&(a=d[h].time)):"end"===d[h].type&&(c--,1===c&&(b=d[h].time)),null!==a&&null!==b&&(e.push([a,b]),a=null,b=null);return k["default"].createTimeRanges(e)}})}return g(b,a),h(b,[{key:"data_",value:function(a){var b=a.data.segment;b.data=new Uint8Array(b.data,a.data.byteOffset,a.data.byteLength),b.initSegment=new Uint8Array(b.initSegment.data,b.initSegment.byteOffset,b.initSegment.byteLength),m["default"](this,this.mediaSource_,b),this.pendingBuffers_.push(b)}},{key:"done_",value:function(){this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var a=this,b=["audio","video"];b.forEach(function(c){if(a[c+"Codec_"]&&!a[c+"Buffer_"]){var d=null;a.mediaSource_[c+"Buffer_"]?d=a.mediaSource_[c+"Buffer_"]:(d=a.mediaSource_.nativeMediaSource_.addSourceBuffer(c+'/mp4;codecs="'+a[c+"Codec_"]+'"'),a.mediaSource_[c+"Buffer_"]=d),a[c+"Buffer_"]=d,["update","updatestart","updateend"].forEach(function(e){d.addEventListener(e,function(){if("audio"!==c||!a.audioDisabled_){var d=b.every(function(b){return"audio"===b&&a.audioDisabled_?!0:c!==b&&a[b+"Buffer_"]&&a[b+"Buffer_"].updating?!1:!0});return d?a.trigger(e):void 0}})})}})}},{key:"appendBuffer",value:function(a){this.bufferUpdating_=!0,this.transmuxer_.postMessage({action:"push",data:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength},[a.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function(a,b){this.videoBuffer_&&this.videoBuffer_.remove(a,b),this.audioBuffer_&&this.audioBuffer_.remove(a,b),o["default"](a,b,this.metadataTrack_),o["default"](a,b,this.inbandTextTrack_)}},{key:"processPendingSegments_",value:function(){var a={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};a=this.pendingBuffers_.reduce(function(a,b){var c=b.type,d=b.data,e=b.initSegment;return a[c].segments.push(d),a[c].bytes+=d.byteLength,a[c].initSegment=e,b.captions&&(a.captions=a.captions.concat(b.captions)),b.info&&(a[c].info=b.info),b.metadata&&(a.metadata=a.metadata.concat(b.metadata)),a},a),this.videoBuffer_||this.audioBuffer_||(0===a.video.bytes&&(this.videoCodec_=null),0===a.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),a.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:a.audio.info}),a.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:a.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(a.audio.segments.unshift(a.audio.initSegment),a.audio.bytes+=a.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),this.videoBuffer_&&(a.video.segments.unshift(a.video.initSegment),a.video.bytes+=a.video.initSegment.byteLength,this.concatAndAppendSegments_(a.video,this.videoBuffer_),p.addTextTrackData(this,a.captions,a.metadata)),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(a.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(a,b){var c=0,d=void 0;if(a.bytes){d=new Uint8Array(a.bytes),a.segments.forEach(function(a){d.set(a,c),c+=a.byteLength});try{b.appendBuffer(d)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR"})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),b}(k["default"].EventTarget);c["default"]=v,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":91,"./codec-utils":93,"./create-text-tracks-if-necessary":94,"./remove-cues-from-track":99,"./transmuxer-worker":100,webworkify:103}],103:[function(a,b){var c=arguments[3],d=arguments[4],e=arguments[5],f=JSON.stringify;b.exports=function(a){for(var b,g=Object.keys(e),h=0,i=g.length;i>h;h++){var j=g[h];if(e[j].exports===a){b=j;break}}if(!b){b=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var k={},h=0,i=g.length;i>h;h++){var j=g[h];k[j]=j}d[b]=[Function(["require","module","exports"],"("+a+")(self)"),k]}var l=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[b]=b,d[l]=[Function(["require"],"require("+f(b)+")(self)"),m];var n="("+c+")({"+Object.keys(d).map(function(a){return f(a)+":["+d[a][0]+","+f(d[a][1])+"]"}).join(",")+"},{},["+f(l)+"])",o=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(o.createObjectURL(new Blob([n],{type:"text/javascript"})))}},{}],104:[function(a,b){(function(c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function R(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:R(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},j=a("global/document"),k=d(j),l=a("./playlist-loader"),m=d(l),n=a("./playlist"),o=d(n),p=a("./xhr"),q=d(p),r=a("aes-decrypter"),s=a("./bin-utils"),t=d(s),u=a("videojs-contrib-media-sources"),v=a("m3u8-parser"),w=d(v),x="undefined"!=typeof window?window.videojs:"undefined"!=typeof c?c.videojs:null,y=d(x),z=a("./master-playlist-controller"),A=a("./config"),B=d(A),C=a("./rendition-mixin"),D=d(C),E=a("global/window"),F=d(E),G=a("./playback-watcher"),H=d(G),I=a("./reload-source-on-error"),J=d(I),K={PlaylistLoader:m["default"],Playlist:o["default"],Decrypter:r.Decrypter,AsyncStream:r.AsyncStream,decrypt:r.decrypt,utils:t["default"],xhr:q["default"]()};Object.defineProperty(K,"GOAL_BUFFER_LENGTH",{get:function(){return y["default"].log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),B["default"].GOAL_BUFFER_LENGTH},set:function(a){return y["default"].log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),"number"!=typeof a||0>=a?void y["default"].log.warn("value passed to Hls.GOAL_BUFFER_LENGTH must be a number and greater than 0"):void(B["default"].GOAL_BUFFER_LENGTH=a)}});var L=1.2,M=function(a,b){var c=void 0;return a?(c=F["default"].getComputedStyle(a),c?c[b]:""):""};K.STANDARD_PLAYLIST_SELECTOR=function(){var a=void 0,b=this.playlists.master.playlists.slice(),c=[],d=+new Date,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0;for(b.sort(K.comparePlaylistBandwidth),b=b.filter(function(a){return"undefined"!=typeof a.excludeUntil?d>=a.excludeUntil:!0}),e=b.length;e--;)f=b[e],f.attributes&&f.attributes.BANDWIDTH&&(a=f.attributes.BANDWIDTH*L,a<this.systemBandwidth&&(c.push(f),g||(g=f)));for(e=c.length,c.sort(K.comparePlaylistResolution),f=null,k=parseInt(M(this.tech_.el(),"width"),10),l=parseInt(M(this.tech_.el(),"height"),10);e--;)if(f=c[e],f.attributes&&f.attributes.RESOLUTION&&f.attributes.RESOLUTION.width&&f.attributes.RESOLUTION.height){var m=f.attributes.RESOLUTION;if(m.width===k&&m.height===l){h=null,j=f;break}if(m.width<k&&m.height<l)break;(!h||m.width<i.width&&m.height<i.height)&&(h=f,i=h.attributes.RESOLUTION)}return h||j||g||b[0]},K.canPlaySource=function(){return y["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.");

},K.supportsNativeHls=function(){var a=k["default"].createElement("video");if(!y["default"].getComponent("Html5").isSupported())return!1;var b=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return b.some(function(b){return/maybe|probably/i.test(a.canPlayType(b))})}(),K.isSupported=function(){return y["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var N=F["default"].navigator&&F["default"].navigator.userAgent||"";K.supportsAudioInfoChange_=function(){if(y["default"].browser.IS_FIREFOX){var a=/Firefox\/([\d.]+)/i.exec(N),b=parseInt(a[1],10);return b>=49}return!0};var O=y["default"].getComponent("Component"),P=function(a){function b(a,c,d){e(this,b);var g=f(this,Object.getPrototypeOf(b).call(this,c));if(c.options_&&c.options_.playerId){var h=y["default"](c.options_.playerId);h.hasOwnProperty("hls")||Object.defineProperty(h,"hls",{get:function(){return y["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead."),g}})}return g.tech_=c,g.source_=a,g.stats={},g.ignoreNextSeekingEvent_=!1,g.options_=y["default"].mergeOptions(y["default"].options.hls||{},d.hls),g.setOptions_(),g.on(k["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var a=k["default"].fullscreenElement||k["default"].webkitFullscreenElement||k["default"].mozFullScreenElement||k["default"].msFullscreenElement;a&&a.contains(g.tech_.el())&&g.masterPlaylistController_.fastQualityChange_()}),g.on(g.tech_,"seeking",function(){return this.ignoreNextSeekingEvent_?void(this.ignoreNextSeekingEvent_=!1):void this.setCurrentTime(this.tech_.currentTime())}),g.on(g.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),g.audioTrackChange_=function(){g.masterPlaylistController_.setupAudio()},g.on(g.tech_,"play",g.play),g}return g(b,a),h(b,[{key:"setOptions_",value:function(){var a=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),["withCredentials","bandwidth"].forEach(function(b){"undefined"!=typeof a.source_[b]&&(a.options_[b]=a.source_[b])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(a){var b=this;a&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=K,this.masterPlaylistController_=new z.MasterPlaylistController(this.options_),this.playbackWatcher_=new H["default"](y["default"].mergeOptions(this.options_,{seekable:function(){return b.seekable()}})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):K.STANDARD_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(a){this.masterPlaylistController_.selectPlaylist=a.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=a,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=a,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var a=1/(this.bandwidth||1),b=void 0;b=this.throughput>0?1/this.throughput:0;var c=Math.floor(1/(a+b));return c},set:function(){y["default"].log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return b.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return b.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return b.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return b.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return b.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("sourceopen",function(){b.tech_.audioTracks().addEventListener("change",b.audioTrackChange_)}),this.masterPlaylistController_.on("selectedinitialmedia",function(){D["default"](b)}),this.masterPlaylistController_.on("audioupdate",function(){b.tech_.clearTracks("audio"),b.masterPlaylistController_.activeAudioGroup().forEach(function(a){b.tech_.audioTracks().addTrack(a)})}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.el()&&this.tech_.src(y["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"activeAudioGroup_",value:function(){return this.masterPlaylistController_.activeAudioGroup()}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(a){this.masterPlaylistController_.setCurrentTime(a)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.tech_.audioTracks().removeEventListener("change",this.audioTrackChange_),i(Object.getPrototypeOf(b.prototype),"dispose",this).call(this)}}]),b}(O),Q=function S(a){return{canHandleSource:function(b){return y["default"].options.hls&&y["default"].options.hls.mode&&y["default"].options.hls.mode!==a?!1:S.canPlayType(b.type)},handleSource:function(b,c,d){"flash"===a&&c.setTimeout(function(){c.trigger("loadstart")},1);var e=y["default"].mergeOptions(d,{hls:{mode:a}});return c.hls=new P(b,c,e),c.hls.xhr=q["default"](),y["default"].Hls.xhr.beforeRequest&&(c.hls.xhr.beforeRequest=y["default"].Hls.xhr.beforeRequest),c.hls.src(b.src),c.hls},canPlayType:function(a){return S.canPlayType(a)?"maybe":""}}};K.comparePlaylistBandwidth=function(a,b){var c=void 0,d=void 0;return a.attributes&&a.attributes.BANDWIDTH&&(c=a.attributes.BANDWIDTH),c=c||F["default"].Number.MAX_VALUE,b.attributes&&b.attributes.BANDWIDTH&&(d=b.attributes.BANDWIDTH),d=d||F["default"].Number.MAX_VALUE,c-d},K.comparePlaylistResolution=function(a,b){var c=void 0,d=void 0;return a.attributes&&a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(c=a.attributes.RESOLUTION.width),c=c||F["default"].Number.MAX_VALUE,b.attributes&&b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width&&(d=b.attributes.RESOLUTION.width),d=d||F["default"].Number.MAX_VALUE,c===d&&a.attributes.BANDWIDTH&&b.attributes.BANDWIDTH?a.attributes.BANDWIDTH-b.attributes.BANDWIDTH:c-d},Q.canPlayType=function(a){var b=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!y["default"].options.hls.overrideNative&&K.supportsNativeHls?!1:b.test(a)},("undefined"==typeof y["default"].MediaSource||"undefined"==typeof y["default"].URL)&&(y["default"].MediaSource=u.MediaSource,y["default"].URL=u.URL),u.MediaSource.supportsNativeMediaSources()&&y["default"].getComponent("Html5").registerSourceHandler(Q("html5"),0),F["default"].Uint8Array&&y["default"].getComponent("Flash").registerSourceHandler(Q("flash")),y["default"].HlsHandler=P,y["default"].HlsSourceHandler=Q,y["default"].Hls=K,y["default"].m3u8=w["default"],y["default"].registerComponent("Hls",K),y["default"].options.hls=y["default"].options.hls||{},y["default"].plugin("reloadSourceOnError",J["default"]),b.exports={Hls:K,HlsHandler:P,HlsSourceHandler:Q}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":4,"./playback-watcher":5,"./playlist":7,"./playlist-loader":6,"./reload-source-on-error":9,"./rendition-mixin":10,"./xhr":16,"aes-decrypter":20,"global/document":23,"global/window":24,"m3u8-parser":61,"videojs-contrib-media-sources":101}]},{},[104])(104)}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.InitVCPlayer=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={"default":a("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":22}],2:[function(a,b){b.exports={"default":a("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":23}],3:[function(a,b){b.exports={"default":a("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":24}],4:[function(a,b){b.exports={"default":a("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":25}],5:[function(a,b){b.exports={"default":a("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":26}],6:[function(a,b){b.exports={"default":a("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":27}],7:[function(a,b){b.exports={"default":a("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":28}],8:[function(a,b){b.exports={"default":a("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":29}],9:[function(a,b){b.exports={"default":a("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":30}],10:[function(a,b){b.exports={"default":a("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":31}],11:[function(a,b){b.exports={"default":a("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":32}],12:[function(a,b){b.exports={"default":a("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":33}],13:[function(a,b){b.exports={"default":a("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":34}],14:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}},{}],15:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../core-js/object/define-property"),f=d(e);c["default"]=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),f["default"](a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()},{"../core-js/object/define-property":6}],16:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../core-js/object/assign"),f=d(e);c["default"]=f["default"]||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}},{"../core-js/object/assign":4}],17:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../core-js/object/get-prototype-of"),f=d(e),g=a("../core-js/object/get-own-property-descriptor"),h=d(g);c["default"]=function i(a,b,c){null===a&&(a=Function.prototype);var d=h["default"](a,b);if(void 0===d){var e=f["default"](a);return null===e?void 0:i(e,b,c)}if("value"in d)return d.value;var g=d.get;return void 0===g?void 0:g.call(c)}},{"../core-js/object/get-own-property-descriptor":7,"../core-js/object/get-prototype-of":8}],18:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../core-js/object/set-prototype-of"),f=d(e),g=a("../core-js/object/create"),h=d(g),i=a("../helpers/typeof"),j=d(i);c["default"]=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":j["default"](b)));a.prototype=h["default"](b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(f["default"]?f["default"](a,b):a.__proto__=b)}},{"../core-js/object/create":5,"../core-js/object/set-prototype-of":10,"../helpers/typeof":21}],19:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../helpers/typeof"),f=d(e);c["default"]=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":f["default"](b))&&"function"!=typeof b?a:b}},{"../helpers/typeof":21}],20:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../core-js/is-iterable"),f=d(e),g=a("../core-js/get-iterator"),h=d(g);c["default"]=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,i=h["default"](a);!(d=(g=i.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(j){e=!0,f=j}finally{try{!d&&i["return"]&&i["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(f["default"](Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},{"../core-js/get-iterator":1,"../core-js/is-iterable":2}],21:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("../core-js/symbol/iterator"),f=d(e),g=a("../core-js/symbol"),h=d(g),i="function"==typeof h["default"]&&"symbol"==typeof f["default"]?function(a){return typeof a}:function(a){return a&&"function"==typeof h["default"]&&a.constructor===h["default"]?"symbol":typeof a};c["default"]="function"==typeof h["default"]&&"symbol"===i(f["default"])?function(a){return"undefined"==typeof a?"undefined":i(a)}:function(a){return a&&"function"==typeof h["default"]&&a.constructor===h["default"]?"symbol":"undefined"==typeof a?"undefined":i(a)}},{"../core-js/symbol":12,"../core-js/symbol/iterator":13}],22:[function(a,b){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.get-iterator")},{"../modules/core.get-iterator":107,"../modules/es6.string.iterator":119,"../modules/web.dom.iterable":123}],23:[function(a,b){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.is-iterable")},{"../modules/core.is-iterable":108,"../modules/es6.string.iterator":119,"../modules/web.dom.iterable":123}],24:[function(a,b){var c=a("../../modules/_core"),d=c.JSON||(c.JSON={stringify:JSON.stringify});b.exports=function(){return d.stringify.apply(d,arguments)}},{"../../modules/_core":42}],25:[function(a,b){a("../../modules/es6.object.assign"),b.exports=a("../../modules/_core").Object.assign},{"../../modules/_core":42,"../../modules/es6.object.assign":110}],26:[function(a,b){a("../../modules/es6.object.create");var c=a("../../modules/_core").Object;b.exports=function(a,b){return c.create(a,b)}},{"../../modules/_core":42,"../../modules/es6.object.create":111}],27:[function(a,b){a("../../modules/es6.object.define-property");var c=a("../../modules/_core").Object;b.exports=function(a,b,d){return c.defineProperty(a,b,d)}},{"../../modules/_core":42,"../../modules/es6.object.define-property":112}],28:[function(a,b){a("../../modules/es6.object.get-own-property-descriptor");var c=a("../../modules/_core").Object;b.exports=function(a,b){return c.getOwnPropertyDescriptor(a,b)}},{"../../modules/_core":42,"../../modules/es6.object.get-own-property-descriptor":113}],29:[function(a,b){a("../../modules/es6.object.get-prototype-of"),b.exports=a("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":42,"../../modules/es6.object.get-prototype-of":114}],30:[function(a,b){a("../../modules/es6.object.keys"),b.exports=a("../../modules/_core").Object.keys},{"../../modules/_core":42,"../../modules/es6.object.keys":115}],31:[function(a,b){a("../../modules/es6.object.set-prototype-of"),b.exports=a("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":42,"../../modules/es6.object.set-prototype-of":116}],32:[function(a,b){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.promise"),b.exports=a("../modules/_core").Promise},{"../modules/_core":42,"../modules/es6.object.to-string":117,"../modules/es6.promise":118,"../modules/es6.string.iterator":119,"../modules/web.dom.iterable":123}],33:[function(a,b){a("../../modules/es6.symbol"),a("../../modules/es6.object.to-string"),a("../../modules/es7.symbol.async-iterator"),a("../../modules/es7.symbol.observable"),b.exports=a("../../modules/_core").Symbol},{"../../modules/_core":42,"../../modules/es6.object.to-string":117,"../../modules/es6.symbol":120,"../../modules/es7.symbol.async-iterator":121,"../../modules/es7.symbol.observable":122}],34:[function(a,b){a("../../modules/es6.string.iterator"),a("../../modules/web.dom.iterable"),b.exports=a("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":104,"../../modules/es6.string.iterator":119,"../../modules/web.dom.iterable":123}],35:[function(a,b){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],36:[function(a,b){b.exports=function(){}},{}],37:[function(a,b){b.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},{}],38:[function(a,b){var c=a("./_is-object");b.exports=function(a){if(!c(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":61}],39:[function(a,b){var c=a("./_to-iobject"),d=a("./_to-length"),e=a("./_to-index");b.exports=function(a){return function(b,f,g){var h,i=c(b),j=d(i.length),k=e(g,j);if(a&&f!=f){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===f)return a||k||0;return!a&&-1}}},{"./_to-index":96,"./_to-iobject":98,"./_to-length":99}],40:[function(a,b){var c=a("./_cof"),d=a("./_wks")("toStringTag"),e="Arguments"==c(function(){return arguments}()),f=function(a,b){try{return a[b]}catch(c){}};b.exports=function(a){var b,g,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(g=f(b=Object(a),d))?g:e?c(b):"Object"==(h=c(b))&&"function"==typeof b.callee?"Arguments":h}},{"./_cof":41,"./_wks":105}],41:[function(a,b){var c={}.toString;b.exports=function(a){return c.call(a).slice(8,-1)}},{}],42:[function(a,b){var c=b.exports={version:"2.4.0"};"number"==typeof __e&&(__e=c)},{}],43:[function(a,b){var c=a("./_a-function");b.exports=function(a,b,d){if(c(a),void 0===b)return a;switch(d){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":35}],44:[function(a,b){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],45:[function(a,b){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":50}],46:[function(a,b){var c=a("./_is-object"),d=a("./_global").document,e=c(d)&&c(d.createElement);b.exports=function(a){return e?d.createElement(a):{}}},{"./_global":52,"./_is-object":61}],47:[function(a,b){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],48:[function(a,b){var c=a("./_object-keys"),d=a("./_object-gops"),e=a("./_object-pie");b.exports=function(a){var b=c(a),f=d.f;if(f)for(var g,h=f(a),i=e.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{"./_object-gops":79,"./_object-keys":82,"./_object-pie":83}],49:[function(a,b){var c=a("./_global"),d=a("./_core"),e=a("./_ctx"),f=a("./_hide"),g="prototype",h=function(a,b,i){var j,k,l,m=a&h.F,n=a&h.G,o=a&h.S,p=a&h.P,q=a&h.B,r=a&h.W,s=n?d:d[b]||(d[b]={}),t=s[g],u=n?c:o?c[b]:(c[b]||{})[g];n&&(i=b);for(j in i)k=!m&&u&&void 0!==u[j],k&&j in s||(l=k?u[j]:i[j],s[j]=n&&"function"!=typeof u[j]?i[j]:q&&k?e(l,c):r&&u[j]==l?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b[g]=a[g],b}(l):p&&"function"==typeof l?e(Function.call,l):l,p&&((s.virtual||(s.virtual={}))[j]=l,a&h.R&&t&&!t[j]&&f(t,j,l)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,b.exports=h},{"./_core":42,"./_ctx":43,"./_global":52,"./_hide":54}],50:[function(a,b){b.exports=function(a){try{return!!a()}catch(b){return!0}}},{}],51:[function(a,b,c){var d=a("./_ctx"),e=a("./_iter-call"),f=a("./_is-array-iter"),g=a("./_an-object"),h=a("./_to-length"),i=a("./core.get-iterator-method"),j={},k={},c=b.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if(q=b?s(g(o=a[t])[0],o[1]):s(a[t]),q===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=e(p,s,o.value,b),q===j||q===k)return q};c.BREAK=j,c.RETURN=k},{"./_an-object":38,"./_ctx":43,"./_is-array-iter":59,"./_iter-call":62,"./_to-length":99,"./core.get-iterator-method":106}],52:[function(a,b){var c=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},{}],53:[function(a,b){var c={}.hasOwnProperty;b.exports=function(a,b){return c.call(a,b)}},{}],54:[function(a,b){var c=a("./_object-dp"),d=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,e){return c.f(a,b,d(1,e))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":45,"./_object-dp":74,"./_property-desc":85}],55:[function(a,b){b.exports=a("./_global").document&&document.documentElement},{"./_global":52}],56:[function(a,b){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":45,"./_dom-create":46,"./_fails":50}],57:[function(a,b){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],58:[function(a,b){var c=a("./_cof");b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==c(a)?a.split(""):Object(a)}},{"./_cof":41}],59:[function(a,b){var c=a("./_iterators"),d=a("./_wks")("iterator"),e=Array.prototype;b.exports=function(a){return void 0!==a&&(c.Array===a||e[d]===a)}},{"./_iterators":67,"./_wks":105}],60:[function(a,b){var c=a("./_cof");b.exports=Array.isArray||function(a){return"Array"==c(a)}},{"./_cof":41}],61:[function(a,b){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],62:[function(a,b){var c=a("./_an-object");b.exports=function(a,b,d,e){try{return e?b(c(d)[0],d[1]):b(d)}catch(f){var g=a["return"];throw void 0!==g&&c(g.call(a)),f}}},{"./_an-object":38}],63:[function(a,b){"use strict";var c=a("./_object-create"),d=a("./_property-desc"),e=a("./_set-to-string-tag"),f={};a("./_hide")(f,a("./_wks")("iterator"),function(){return this}),b.exports=function(a,b,g){a.prototype=c(f,{next:d(1,g)}),e(a,b+" Iterator")}},{"./_hide":54,"./_object-create":73,"./_property-desc":85,"./_set-to-string-tag":90,"./_wks":105}],64:[function(a,b){"use strict";var c=a("./_library"),d=a("./_export"),e=a("./_redefine"),f=a("./_hide"),g=a("./_has"),h=a("./_iterators"),i=a("./_iter-create"),j=a("./_set-to-string-tag"),k=a("./_object-gpo"),l=a("./_wks")("iterator"),m=!([].keys&&"next"in[].keys()),n="@@iterator",o="keys",p="values",q=function(){return this};b.exports=function(a,b,r,s,t,u,v){i(r,b,s);var w,x,y,z=function(a){if(!m&&a in D)return D[a];switch(a){case o:return function(){return new r(this,a)};case p:return function(){return new r(this,a)}}return function(){return new r(this,a)}},A=b+" Iterator",B=t==p,C=!1,D=a.prototype,E=D[l]||D[n]||t&&D[t],F=E||z(t),G=t?B?z("entries"):F:void 0,H="Array"==b?D.entries||E:E;if(H&&(y=k(H.call(new a)),y!==Object.prototype&&(j(y,A,!0),c||g(y,l)||f(y,l,q))),B&&E&&E.name!==p&&(C=!0,F=function(){return E.call(this)}),c&&!v||!m&&!C&&D[l]||f(D,l,F),h[b]=F,h[A]=q,t)if(w={values:B?F:z(p),keys:u?F:z(o),entries:G},v)for(x in w)x in D||e(D,x,w[x]);else d(d.P+d.F*(m||C),b,w);return w}},{"./_export":49,"./_has":53,"./_hide":54,"./_iter-create":63,"./_iterators":67,"./_library":69,"./_object-gpo":80,"./_redefine":87,"./_set-to-string-tag":90,"./_wks":105}],65:[function(a,b){var c=a("./_wks")("iterator"),d=!1;try{var e=[7][c]();e["return"]=function(){d=!0},Array.from(e,function(){throw 2})}catch(f){}b.exports=function(a,b){if(!b&&!d)return!1;var e=!1;try{var f=[7],g=f[c]();g.next=function(){return{done:e=!0}},f[c]=function(){return g},a(f)}catch(h){}return e}},{"./_wks":105}],66:[function(a,b){b.exports=function(a,b){return{value:b,done:!!a}}},{}],67:[function(a,b){b.exports={}},{}],68:[function(a,b){var c=a("./_object-keys"),d=a("./_to-iobject");b.exports=function(a,b){for(var e,f=d(a),g=c(f),h=g.length,i=0;h>i;)if(f[e=g[i++]]===b)return e}},{"./_object-keys":82,"./_to-iobject":98}],69:[function(a,b){b.exports=!0},{}],70:[function(a,b){var c=a("./_uid")("meta"),d=a("./_is-object"),e=a("./_has"),f=a("./_object-dp").f,g=0,h=Object.isExtensible||function(){return!0},i=!a("./_fails")(function(){return h(Object.preventExtensions({}))}),j=function(a){f(a,c,{value:{i:"O"+ ++g,w:{}}})},k=function(a,b){if(!d(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!e(a,c)){if(!h(a))return"F";if(!b)return"E";j(a)}return a[c].i},l=function(a,b){if(!e(a,c)){if(!h(a))return!0;if(!b)return!1;j(a)}return a[c].w},m=function(a){return i&&n.NEED&&h(a)&&!e(a,c)&&j(a),a},n=b.exports={KEY:c,NEED:!1,fastKey:k,getWeak:l,onFreeze:m}},{"./_fails":50,"./_has":53,"./_is-object":61,"./_object-dp":74,"./_uid":102}],71:[function(a,b){var c=a("./_global"),d=a("./_task").set,e=c.MutationObserver||c.WebKitMutationObserver,f=c.process,g=c.Promise,h="process"==a("./_cof")(f);b.exports=function(){var a,b,i,j=function(){var c,d;for(h&&(c=f.domain)&&c.exit();a;){d=a.fn,a=a.next;try{d()}catch(e){throw a?i():b=void 0,e}}b=void 0,c&&c.enter()};if(h)i=function(){f.nextTick(j)};else if(e){var k=!0,l=document.createTextNode("");new e(j).observe(l,{characterData:!0}),i=function(){l.data=k=!k}}else if(g&&g.resolve){var m=g.resolve();i=function(){m.then(j)}}else i=function(){d.call(c,j)};return function(c){var d={fn:c,next:void 0};b&&(b.next=d),a||(a=d,i()),b=d}}},{"./_cof":41,"./_global":52,"./_task":95}],72:[function(a,b){"use strict";var c=a("./_object-keys"),d=a("./_object-gops"),e=a("./_object-pie"),f=a("./_to-object"),g=a("./_iobject"),h=Object.assign;b.exports=!h||a("./_fails")(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=h({},a)[c]||Object.keys(h({},b)).join("")!=d})?function(a){for(var b=f(a),h=arguments.length,i=1,j=d.f,k=e.f;h>i;)for(var l,m=g(arguments[i++]),n=j?c(m).concat(j(m)):c(m),o=n.length,p=0;o>p;)k.call(m,l=n[p++])&&(b[l]=m[l]);return b}:h},{"./_fails":50,"./_iobject":58,"./_object-gops":79,"./_object-keys":82,"./_object-pie":83,"./_to-object":100}],73:[function(a,b){var c=a("./_an-object"),d=a("./_object-dps"),e=a("./_enum-bug-keys"),f=a("./_shared-key")("IE_PROTO"),g=function(){},h="prototype",i=function(){var b,c=a("./_dom-create")("iframe"),d=e.length,f=">";for(c.style.display="none",a("./_html").appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write("<script>document.F=Object</script"+f),b.close(),i=b.F;d--;)delete i[h][e[d]];return i()};b.exports=Object.create||function(a,b){var e;return null!==a?(g[h]=c(a),e=new g,g[h]=null,e[f]=a):e=i(),void 0===b?e:d(e,b)}},{"./_an-object":38,"./_dom-create":46,"./_enum-bug-keys":47,"./_html":55,"./_object-dps":75,"./_shared-key":91}],74:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(h){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":38,"./_descriptors":45,"./_ie8-dom-define":56,"./_to-primitive":101}],75:[function(a,b){var c=a("./_object-dp"),d=a("./_an-object"),e=a("./_object-keys");b.exports=a("./_descriptors")?Object.defineProperties:function(a,b){d(a);for(var f,g=e(b),h=g.length,i=0;h>i;)c.f(a,f=g[i++],b[f]);return a}},{"./_an-object":38,"./_descriptors":45,"./_object-dp":74,"./_object-keys":82}],76:[function(a,b,c){var d=a("./_object-pie"),e=a("./_property-desc"),f=a("./_to-iobject"),g=a("./_to-primitive"),h=a("./_has"),i=a("./_ie8-dom-define"),j=Object.getOwnPropertyDescriptor;c.f=a("./_descriptors")?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(c){}return h(a,b)?e(!d.f.call(a,b),a[b]):void 0}},{"./_descriptors":45,"./_has":53,"./_ie8-dom-define":56,"./_object-pie":83,"./_property-desc":85,"./_to-iobject":98,"./_to-primitive":101}],77:[function(a,b){var c=a("./_to-iobject"),d=a("./_object-gopn").f,e={}.toString,f="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],g=function(a){try{return d(a)}catch(b){return f.slice()}};b.exports.f=function(a){return f&&"[object Window]"==e.call(a)?g(a):d(c(a))}},{"./_object-gopn":78,"./_to-iobject":98}],78:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{"./_enum-bug-keys":47,"./_object-keys-internal":81}],79:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],80:[function(a,b){var c=a("./_has"),d=a("./_to-object"),e=a("./_shared-key")("IE_PROTO"),f=Object.prototype;b.exports=Object.getPrototypeOf||function(a){return a=d(a),c(a,e)?a[e]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?f:null}},{"./_has":53,"./_shared-key":91,"./_to-object":100}],81:[function(a,b){var c=a("./_has"),d=a("./_to-iobject"),e=a("./_array-includes")(!1),f=a("./_shared-key")("IE_PROTO");b.exports=function(a,b){var g,h=d(a),i=0,j=[];for(g in h)g!=f&&c(h,g)&&j.push(g);for(;b.length>i;)c(h,g=b[i++])&&(~e(j,g)||j.push(g));return j}},{"./_array-includes":39,"./_has":53,"./_shared-key":91,"./_to-iobject":98}],82:[function(a,b){var c=a("./_object-keys-internal"),d=a("./_enum-bug-keys");b.exports=Object.keys||function(a){return c(a,d)}},{"./_enum-bug-keys":47,"./_object-keys-internal":81}],83:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],84:[function(a,b){var c=a("./_export"),d=a("./_core"),e=a("./_fails");b.exports=function(a,b){var f=(d.Object||{})[a]||Object[a],g={};g[a]=b(f),c(c.S+c.F*e(function(){f(1)}),"Object",g)}},{"./_core":42,
"./_export":49,"./_fails":50}],85:[function(a,b){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],86:[function(a,b){var c=a("./_hide");b.exports=function(a,b,d){for(var e in b)d&&a[e]?a[e]=b[e]:c(a,e,b[e]);return a}},{"./_hide":54}],87:[function(a,b){b.exports=a("./_hide")},{"./_hide":54}],88:[function(a,b){var c=a("./_is-object"),d=a("./_an-object"),e=function(a,b){if(d(a),!c(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a("./_ctx")(Function.call,a("./_object-gopd").f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array)}catch(f){c=!0}return function(a,b){return e(a,b),c?a.__proto__=b:d(a,b),a}}({},!1):void 0),check:e}},{"./_an-object":38,"./_ctx":43,"./_is-object":61,"./_object-gopd":76}],89:[function(a,b){"use strict";var c=a("./_global"),d=a("./_core"),e=a("./_object-dp"),f=a("./_descriptors"),g=a("./_wks")("species");b.exports=function(a){var b="function"==typeof d[a]?d[a]:c[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},{"./_core":42,"./_descriptors":45,"./_global":52,"./_object-dp":74,"./_wks":105}],90:[function(a,b){var c=a("./_object-dp").f,d=a("./_has"),e=a("./_wks")("toStringTag");b.exports=function(a,b,f){a&&!d(a=f?a:a.prototype,e)&&c(a,e,{configurable:!0,value:b})}},{"./_has":53,"./_object-dp":74,"./_wks":105}],91:[function(a,b){var c=a("./_shared")("keys"),d=a("./_uid");b.exports=function(a){return c[a]||(c[a]=d(a))}},{"./_shared":92,"./_uid":102}],92:[function(a,b){var c=a("./_global"),d="__core-js_shared__",e=c[d]||(c[d]={});b.exports=function(a){return e[a]||(e[a]={})}},{"./_global":52}],93:[function(a,b){var c=a("./_an-object"),d=a("./_a-function"),e=a("./_wks")("species");b.exports=function(a,b){var f,g=c(a).constructor;return void 0===g||void 0==(f=c(g)[e])?b:d(f)}},{"./_a-function":35,"./_an-object":38,"./_wks":105}],94:[function(a,b){var c=a("./_to-integer"),d=a("./_defined");b.exports=function(a){return function(b,e){var f,g,h=String(d(b)),i=c(e),j=h.length;return 0>i||i>=j?a?"":void 0:(f=h.charCodeAt(i),55296>f||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},{"./_defined":44,"./_to-integer":97}],95:[function(a,b){var c,d,e,f=a("./_ctx"),g=a("./_invoke"),h=a("./_html"),i=a("./_dom-create"),j=a("./_global"),k=j.process,l=j.setImmediate,m=j.clearImmediate,n=j.MessageChannel,o=0,p={},q="onreadystatechange",r=function(){var a=+this;if(p.hasOwnProperty(a)){var b=p[a];delete p[a],b()}},s=function(a){r.call(a.data)};l&&m||(l=function(a){for(var b=[],d=1;arguments.length>d;)b.push(arguments[d++]);return p[++o]=function(){g("function"==typeof a?a:Function(a),b)},c(o),o},m=function(a){delete p[a]},"process"==a("./_cof")(k)?c=function(a){k.nextTick(f(r,a,1))}:n?(d=new n,e=d.port2,d.port1.onmessage=s,c=f(e.postMessage,e,1)):j.addEventListener&&"function"==typeof postMessage&&!j.importScripts?(c=function(a){j.postMessage(a+"","*")},j.addEventListener("message",s,!1)):c=q in i("script")?function(a){h.appendChild(i("script"))[q]=function(){h.removeChild(this),r.call(a)}}:function(a){setTimeout(f(r,a,1),0)}),b.exports={set:l,clear:m}},{"./_cof":41,"./_ctx":43,"./_dom-create":46,"./_global":52,"./_html":55,"./_invoke":57}],96:[function(a,b){var c=a("./_to-integer"),d=Math.max,e=Math.min;b.exports=function(a,b){return a=c(a),0>a?d(a+b,0):e(a,b)}},{"./_to-integer":97}],97:[function(a,b){var c=Math.ceil,d=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},{}],98:[function(a,b){var c=a("./_iobject"),d=a("./_defined");b.exports=function(a){return c(d(a))}},{"./_defined":44,"./_iobject":58}],99:[function(a,b){var c=a("./_to-integer"),d=Math.min;b.exports=function(a){return a>0?d(c(a),9007199254740991):0}},{"./_to-integer":97}],100:[function(a,b){var c=a("./_defined");b.exports=function(a){return Object(c(a))}},{"./_defined":44}],101:[function(a,b){var c=a("./_is-object");b.exports=function(a,b){if(!c(a))return a;var d,e;if(b&&"function"==typeof(d=a.toString)&&!c(e=d.call(a)))return e;if("function"==typeof(d=a.valueOf)&&!c(e=d.call(a)))return e;if(!b&&"function"==typeof(d=a.toString)&&!c(e=d.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":61}],102:[function(a,b){var c=0,d=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},{}],103:[function(a,b){var c=a("./_global"),d=a("./_core"),e=a("./_library"),f=a("./_wks-ext"),g=a("./_object-dp").f;b.exports=function(a){var b=d.Symbol||(d.Symbol=e?{}:c.Symbol||{});"_"==a.charAt(0)||a in b||g(b,a,{value:f.f(a)})}},{"./_core":42,"./_global":52,"./_library":69,"./_object-dp":74,"./_wks-ext":104}],104:[function(a,b,c){c.f=a("./_wks")},{"./_wks":105}],105:[function(a,b){var c=a("./_shared")("wks"),d=a("./_uid"),e=a("./_global").Symbol,f="function"==typeof e,g=b.exports=function(a){return c[a]||(c[a]=f&&e[a]||(f?e:d)("Symbol."+a))};g.store=c},{"./_global":52,"./_shared":92,"./_uid":102}],106:[function(a,b){var c=a("./_classof"),d=a("./_wks")("iterator"),e=a("./_iterators");b.exports=a("./_core").getIteratorMethod=function(a){return void 0!=a?a[d]||a["@@iterator"]||e[c(a)]:void 0}},{"./_classof":40,"./_core":42,"./_iterators":67,"./_wks":105}],107:[function(a,b){var c=a("./_an-object"),d=a("./core.get-iterator-method");b.exports=a("./_core").getIterator=function(a){var b=d(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return c(b.call(a))}},{"./_an-object":38,"./_core":42,"./core.get-iterator-method":106}],108:[function(a,b){var c=a("./_classof"),d=a("./_wks")("iterator"),e=a("./_iterators");b.exports=a("./_core").isIterable=function(a){var b=Object(a);return void 0!==b[d]||"@@iterator"in b||e.hasOwnProperty(c(b))}},{"./_classof":40,"./_core":42,"./_iterators":67,"./_wks":105}],109:[function(a,b){"use strict";var c=a("./_add-to-unscopables"),d=a("./_iter-step"),e=a("./_iterators"),f=a("./_to-iobject");b.exports=a("./_iter-define")(Array,"Array",function(a,b){this._t=f(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,d(1)):"keys"==b?d(0,c):"values"==b?d(0,a[c]):d(0,[c,a[c]])},"values"),e.Arguments=e.Array,c("keys"),c("values"),c("entries")},{"./_add-to-unscopables":36,"./_iter-define":64,"./_iter-step":66,"./_iterators":67,"./_to-iobject":98}],110:[function(a){var b=a("./_export");b(b.S+b.F,"Object",{assign:a("./_object-assign")})},{"./_export":49,"./_object-assign":72}],111:[function(a){var b=a("./_export");b(b.S,"Object",{create:a("./_object-create")})},{"./_export":49,"./_object-create":73}],112:[function(a){var b=a("./_export");b(b.S+b.F*!a("./_descriptors"),"Object",{defineProperty:a("./_object-dp").f})},{"./_descriptors":45,"./_export":49,"./_object-dp":74}],113:[function(a){var b=a("./_to-iobject"),c=a("./_object-gopd").f;a("./_object-sap")("getOwnPropertyDescriptor",function(){return function(a,d){return c(b(a),d)}})},{"./_object-gopd":76,"./_object-sap":84,"./_to-iobject":98}],114:[function(a){var b=a("./_to-object"),c=a("./_object-gpo");a("./_object-sap")("getPrototypeOf",function(){return function(a){return c(b(a))}})},{"./_object-gpo":80,"./_object-sap":84,"./_to-object":100}],115:[function(a){var b=a("./_to-object"),c=a("./_object-keys");a("./_object-sap")("keys",function(){return function(a){return c(b(a))}})},{"./_object-keys":82,"./_object-sap":84,"./_to-object":100}],116:[function(a){var b=a("./_export");b(b.S,"Object",{setPrototypeOf:a("./_set-proto").set})},{"./_export":49,"./_set-proto":88}],117:[function(){},{}],118:[function(a){"use strict";var b,c,d,e=a("./_library"),f=a("./_global"),g=a("./_ctx"),h=a("./_classof"),i=a("./_export"),j=a("./_is-object"),k=(a("./_an-object"),a("./_a-function")),l=a("./_an-instance"),m=a("./_for-of"),n=(a("./_set-proto").set,a("./_species-constructor")),o=a("./_task").set,p=a("./_microtask")(),q="Promise",r=f.TypeError,s=f.process,t=f[q],s=f.process,u="process"==h(s),v=function(){},w=!!function(){try{var b=t.resolve(1),c=(b.constructor={})[a("./_wks")("species")]=function(a){a(v,v)};return(u||"function"==typeof PromiseRejectionEvent)&&b.then(v)instanceof c}catch(d){}}(),x=function(a,b){return a===b||a===t&&b===d},y=function(a){var b;return j(a)&&"function"==typeof(b=a.then)?b:!1},z=function(a){return x(t,a)?new A(a):new c(a)},A=c=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw r("Bad Promise constructor");b=a,c=d}),this.resolve=k(b),this.reject=k(c)},B=function(a){try{a()}catch(b){return{error:b}}},C=function(a,b){if(!a._n){a._n=!0;var c=a._c;p(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g=e?b.ok:b.fail,h=b.resolve,i=b.reject,j=b.domain;try{g?(e||(2==a._h&&F(a),a._h=1),g===!0?c=d:(j&&j.enter(),c=g(d),j&&j.exit()),c===b.promise?i(r("Promise-chain cycle")):(f=y(c))?f.call(c,h,i):h(c)):i(d)}catch(k){i(k)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&D(a)})}},D=function(a){o.call(f,function(){var b,c,d,e=a._v;if(E(a)&&(b=B(function(){u?s.emit("unhandledRejection",e,a):(c=f.onunhandledrejection)?c({promise:a,reason:e}):(d=f.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=u||E(a)?2:1),a._a=void 0,b)throw b.error})},E=function(a){if(1==a._h)return!1;for(var b,c=a._a||a._c,d=0;c.length>d;)if(b=c[d++],b.fail||!E(b.promise))return!1;return!0},F=function(a){o.call(f,function(){var b;u?s.emit("rejectionHandled",a):(b=f.onrejectionhandled)&&b({promise:a,reason:a._v})})},G=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),C(b,!0))},H=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw r("Promise can't be resolved itself");(b=y(a))?p(function(){var d={_w:c,_d:!1};try{b.call(a,g(H,d,1),g(G,d,1))}catch(e){G.call(d,e)}}):(c._v=a,c._s=1,C(c,!1))}catch(d){G.call({_w:c,_d:!1},d)}}};w||(t=function(a){l(this,t,q,"_h"),k(a),b.call(this);try{a(g(H,this,1),g(G,this,1))}catch(c){G.call(this,c)}},b=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},b.prototype=a("./_redefine-all")(t.prototype,{then:function(a,b){var c=z(n(this,t));return c.ok="function"==typeof a?a:!0,c.fail="function"==typeof b&&b,c.domain=u?s.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&C(this,!1),c.promise},"catch":function(a){return this.then(void 0,a)}}),A=function(){var a=new b;this.promise=a,this.resolve=g(H,a,1),this.reject=g(G,a,1)}),i(i.G+i.W+i.F*!w,{Promise:t}),a("./_set-to-string-tag")(t,q),a("./_set-species")(q),d=a("./_core")[q],i(i.S+i.F*!w,q,{reject:function(a){var b=z(this),c=b.reject;return c(a),b.promise}}),i(i.S+i.F*(e||!w),q,{resolve:function(a){if(a instanceof t&&x(a.constructor,this))return a;var b=z(this),c=b.resolve;return c(a),b.promise}}),i(i.S+i.F*!(w&&a("./_iter-detect")(function(a){t.all(a)["catch"](v)})),q,{all:function(a){var b=this,c=z(b),d=c.resolve,e=c.reject,f=B(function(){var c=[],f=0,g=1;m(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f&&e(f.error),c.promise},race:function(a){var b=this,c=z(b),d=c.reject,e=B(function(){m(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e&&d(e.error),c.promise}})},{"./_a-function":35,"./_an-instance":37,"./_an-object":38,"./_classof":40,"./_core":42,"./_ctx":43,"./_export":49,"./_for-of":51,"./_global":52,"./_is-object":61,"./_iter-detect":65,"./_library":69,"./_microtask":71,"./_redefine-all":86,"./_set-proto":88,"./_set-species":89,"./_set-to-string-tag":90,"./_species-constructor":93,"./_task":95,"./_wks":105}],119:[function(a){"use strict";var b=a("./_string-at")(!0);a("./_iter-define")(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,c=this._t,d=this._i;return d>=c.length?{value:void 0,done:!0}:(a=b(c,d),this._i+=a.length,{value:a,done:!1})})},{"./_iter-define":64,"./_string-at":94}],120:[function(a){"use strict";var b=a("./_global"),c=a("./_has"),d=a("./_descriptors"),e=a("./_export"),f=a("./_redefine"),g=a("./_meta").KEY,h=a("./_fails"),i=a("./_shared"),j=a("./_set-to-string-tag"),k=a("./_uid"),l=a("./_wks"),m=a("./_wks-ext"),n=a("./_wks-define"),o=a("./_keyof"),p=a("./_enum-keys"),q=a("./_is-array"),r=a("./_an-object"),s=a("./_to-iobject"),t=a("./_to-primitive"),u=a("./_property-desc"),v=a("./_object-create"),w=a("./_object-gopn-ext"),x=a("./_object-gopd"),y=a("./_object-dp"),z=a("./_object-keys"),A=x.f,B=y.f,C=w.f,D=b.Symbol,E=b.JSON,F=E&&E.stringify,G="prototype",H=l("_hidden"),I=l("toPrimitive"),J={}.propertyIsEnumerable,K=i("symbol-registry"),L=i("symbols"),M=i("op-symbols"),N=Object[G],O="function"==typeof D,P=b.QObject,Q=!P||!P[G]||!P[G].findChild,R=d&&h(function(){return 7!=v(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=A(N,b);d&&delete N[b],B(a,b,c),d&&a!==N&&B(N,b,d)}:B,S=function(a){var b=L[a]=v(D[G]);return b._k=a,b},T=O&&"symbol"==typeof D.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof D},U=function(a,b,d){return a===N&&U(M,b,d),r(a),b=t(b,!0),r(d),c(L,b)?(d.enumerable?(c(a,H)&&a[H][b]&&(a[H][b]=!1),d=v(d,{enumerable:u(0,!1)})):(c(a,H)||B(a,H,u(1,{})),a[H][b]=!0),R(a,b,d)):B(a,b,d)},V=function(a,b){r(a);for(var c,d=p(b=s(b)),e=0,f=d.length;f>e;)U(a,c=d[e++],b[c]);return a},W=function(a,b){return void 0===b?v(a):V(v(a),b)},X=function(a){var b=J.call(this,a=t(a,!0));return this===N&&c(L,a)&&!c(M,a)?!1:b||!c(this,a)||!c(L,a)||c(this,H)&&this[H][a]?b:!0},Y=function(a,b){if(a=s(a),b=t(b,!0),a!==N||!c(L,b)||c(M,b)){var d=A(a,b);return!d||!c(L,b)||c(a,H)&&a[H][b]||(d.enumerable=!0),d}},Z=function(a){for(var b,d=C(s(a)),e=[],f=0;d.length>f;)c(L,b=d[f++])||b==H||b==g||e.push(b);return e},$=function(a){for(var b,d=a===N,e=C(d?M:s(a)),f=[],g=0;e.length>g;)c(L,b=e[g++])&&(d?c(N,b):!0)&&f.push(L[b]);return f};O||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var a=k(arguments.length>0?arguments[0]:void 0),b=function(d){this===N&&b.call(M,d),c(this,H)&&c(this[H],a)&&(this[H][a]=!1),R(this,a,u(1,d))};return d&&Q&&R(N,a,{configurable:!0,set:b}),S(a)},f(D[G],"toString",function(){return this._k}),x.f=Y,y.f=U,a("./_object-gopn").f=w.f=Z,a("./_object-pie").f=X,a("./_object-gops").f=$,d&&!a("./_library")&&f(N,"propertyIsEnumerable",X,!0),m.f=function(a){return S(l(a))}),e(e.G+e.W+e.F*!O,{Symbol:D});for(var _="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),aa=0;_.length>aa;)l(_[aa++]);for(var _=z(l.store),aa=0;_.length>aa;)n(_[aa++]);e(e.S+e.F*!O,"Symbol",{"for":function(a){return c(K,a+="")?K[a]:K[a]=D(a)},keyFor:function(a){if(T(a))return o(K,a);throw TypeError(a+" is not a symbol!")},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),e(e.S+e.F*!O,"Object",{create:W,defineProperty:U,defineProperties:V,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),E&&e(e.S+e.F*(!O||h(function(){var a=D();return"[null]"!=F([a])||"{}"!=F({a:a})||"{}"!=F(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!T(a)){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return b=d[1],"function"==typeof b&&(c=b),(c||!q(b))&&(b=function(a,b){return c&&(b=c.call(this,a,b)),T(b)?void 0:b}),d[1]=b,F.apply(E,d)}}}),D[G][I]||a("./_hide")(D[G],I,D[G].valueOf),j(D,"Symbol"),j(Math,"Math",!0),j(b.JSON,"JSON",!0)},{"./_an-object":38,"./_descriptors":45,"./_enum-keys":48,"./_export":49,"./_fails":50,"./_global":52,"./_has":53,"./_hide":54,"./_is-array":60,"./_keyof":68,"./_library":69,"./_meta":70,"./_object-create":73,"./_object-dp":74,"./_object-gopd":76,"./_object-gopn":78,"./_object-gopn-ext":77,"./_object-gops":79,"./_object-keys":82,"./_object-pie":83,"./_property-desc":85,"./_redefine":87,"./_set-to-string-tag":90,"./_shared":92,"./_to-iobject":98,"./_to-primitive":101,"./_uid":102,"./_wks":105,"./_wks-define":103,"./_wks-ext":104}],121:[function(a){a("./_wks-define")("asyncIterator")},{"./_wks-define":103}],122:[function(a){a("./_wks-define")("observable")},{"./_wks-define":103}],123:[function(a){a("./es6.array.iterator");for(var b=a("./_global"),c=a("./_hide"),d=a("./_iterators"),e=a("./_wks")("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],g=0;5>g;g++){var h=f[g],i=b[h],j=i&&i.prototype;j&&!j[e]&&c(j,e,h),d[h]=d.Array}},{"./_global":52,"./_hide":54,"./_iterators":67,"./_wks":105,"./es6.array.iterator":109}],124:[function(a,b){"use strict";var c=a("object-keys"),d=a("foreach"),e="function"==typeof Symbol&&"symbol"==typeof Symbol(),f=Object.prototype.toString,g=function(a){return"function"==typeof a&&"[object Function]"===f.call(a)},h=function(){var a={};try{Object.defineProperty(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a}catch(c){return!1}},i=Object.defineProperty&&h(),j=function(a,b,c,d){(!(b in a)||g(d)&&d())&&(i?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value:c,writable:!0}):a[b]=c)},k=function(a,b){var f=arguments.length>2?arguments[2]:{},g=c(b);e&&(g=g.concat(Object.getOwnPropertySymbols(b))),d(g,function(c){j(a,c,b[c],f[c])})};k.supportsDescriptors=!!i,b.exports=k},{foreach:125,"object-keys":128}],125:[function(a,b){var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString;b.exports=function(a,b,e){if("[object Function]"!==d.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;f>g;g++)b.call(e,a[g],g,a);else for(var h in a)c.call(a,h)&&b.call(e,a[h],h,a)}},{}],126:[function(a,b){var c="Function.prototype.bind called on incompatible ",d=Array.prototype.slice,e=Object.prototype.toString,f="[object Function]";b.exports=function(a){var b=this;if("function"!=typeof b||e.call(b)!==f)throw new TypeError(c+b);for(var g,h=d.call(arguments,1),i=function(){if(this instanceof g){var c=b.apply(this,h.concat(d.call(arguments)));return Object(c)===c?c:this}return b.apply(a,h.concat(d.call(arguments)))},j=Math.max(0,b.length-h.length),k=[],l=0;j>l;l++)k.push("$"+l);if(g=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(i),b.prototype){var m=function(){};m.prototype=b.prototype,g.prototype=new m,m.prototype=null}return g}},{}],127:[function(a,b){var c=a("./implementation");b.exports=Function.prototype.bind||c},{"./implementation":126}],128:[function(a,b){"use strict";var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,e=Array.prototype.slice,f=a("./isArguments"),g=!{toString:null}.propertyIsEnumerable("toString"),h=function(){}.propertyIsEnumerable("prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],j=function(a){var b=a.constructor;return b&&b.prototype===a},k={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},l=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!k["$"+a]&&c.call(window,a)&&null!==window[a]&&"object"==typeof window[a])try{j(window[a])}catch(b){return!0}}catch(b){return!0}return!1}(),m=function(a){if("undefined"==typeof window||!l)return j(a);try{return j(a)}catch(b){return!1}},n=function(a){var b=null!==a&&"object"==typeof a,e="[object Function]"===d.call(a),j=f(a),k=b&&"[object String]"===d.call(a),l=[];if(!b&&!e&&!j)throw new TypeError("Object.keys called on a non-object");var n=h&&e;if(k&&a.length>0&&!c.call(a,0))for(var o=0;o<a.length;++o)l.push(String(o));if(j&&a.length>0)for(var p=0;p<a.length;++p)l.push(String(p));else for(var q in a)n&&"prototype"===q||!c.call(a,q)||l.push(String(q));if(g)for(var r=m(a),s=0;s<i.length;++s)r&&"constructor"===i[s]||!c.call(a,i[s])||l.push(i[s]);return l};n.shim=function(){if(Object.keys){var a=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!a){var b=Object.keys;Object.keys=function(a){return b(f(a)?e.call(a):a)}}}else Object.keys=n;return Object.keys||n},b.exports=n},{"./isArguments":129}],129:[function(a,b){"use strict";var c=Object.prototype.toString;b.exports=function(a){var b=c.call(a),d="[object Arguments]"===b;return d||(d="[object Array]"!==b&&null!==a&&"object"==typeof a&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===c.call(a.callee)),d}},{}],130:[function(a,b){"use strict";var c=a("object-keys");b.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var a={},b=Symbol("test");if("string"==typeof b)return!1;var d=42;a[b]=d;for(b in a)return!1;if(0!==c(a).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(a).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(a).length)return!1;var e=Object.getOwnPropertySymbols(a);if(1!==e.length||e[0]!==b)return!1;if(!Object.prototype.propertyIsEnumerable.call(a,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(a,b);if(f.value!==d||f.enumerable!==!0)return!1}return!0}},{"object-keys":128}],131:[function(a,b){"use strict";var c=a("object-keys"),d=a("function-bind"),e=function(a){return"undefined"!=typeof a&&null!==a},f=a("./hasSymbols")(),g=Object,h=d.call(Function.call,Array.prototype.push),i=d.call(Function.call,Object.prototype.propertyIsEnumerable);b.exports=function(a){if(!e(a))throw new TypeError("target must be an object");var b,d,j,k,l,m,n,o=g(a);for(b=1;b<arguments.length;++b){if(d=g(arguments[b]),k=c(d),f&&Object.getOwnPropertySymbols)for(l=Object.getOwnPropertySymbols(d),j=0;j<l.length;++j)n=l[j],i(d,n)&&h(k,n);for(j=0;j<k.length;++j)n=k[j],m=d[n],i(d,n)&&(o[n]=m)}return o}},{"./hasSymbols":130,"function-bind":127,"object-keys":128}],132:[function(a,b){"use strict";var c=a("define-properties"),d=a("./implementation"),e=a("./polyfill"),f=a("./shim");c(d,{implementation:d,getPolyfill:e,shim:f}),b.exports=d},{"./implementation":131,"./polyfill":133,"./shim":134,"define-properties":124}],133:[function(a,b){"use strict";var c=a("./implementation"),d=function(){if(!Object.assign)return!1;for(var a="abcdefghijklmnopqrst",b=a.split(""),c={},d=0;d<b.length;++d)c[b[d]]=b[d];var e=Object.assign({},c),f="";for(var g in e)f+=g;return a!==f},e=function(){if(!Object.assign||!Object.preventExtensions)return!1;var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch(b){return"y"===a[1]}};b.exports=function(){return Object.assign?d()?c:e()?c:Object.assign:c}},{"./implementation":131}],134:[function(a,b){"use strict";var c=a("define-properties"),d=a("./polyfill");b.exports=function(){var a=d();return c(Object,{assign:a},{assign:function(){return Object.assign!==a}}),a}},{"./polyfill":133,"define-properties":124}],135:[function(b,c,d){(function(b){"use strict";!function(b,e){"function"==typeof a&&a.amd?a([],e):"object"==typeof d?c.exports=e():b.store=e()}(this,function(){function a(){try{return g in e&&e[g]}catch(a){return!1}}var c,d={},e="undefined"!=typeof window?window:b,f=e.document,g="localStorage",h="script";if(d.disabled=!1,d.version="1.3.20",d.set=function(){},d.get=function(){},d.has=function(a){return void 0!==d.get(a)},d.remove=function(){},d.clear=function(){},d.transact=function(a,b,c){null==c&&(c=b,b=null),null==b&&(b={});var e=d.get(a,b);c(e),d.set(a,e)},d.getAll=function(){},d.forEach=function(){},d.serialize=function(a){return JSON.stringify(a)},d.deserialize=function(a){if("string"!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},a())c=e[g],d.set=function(a,b){return void 0===b?d.remove(a):(c.setItem(a,d.serialize(b)),b)},d.get=function(a,b){var e=d.deserialize(c.getItem(a));return void 0===e?b:e},d.remove=function(a){c.removeItem(a)},d.clear=function(){c.clear()},d.getAll=function(){var a={};return d.forEach(function(b,c){a[b]=c}),a},d.forEach=function(a){for(var b=0;b<c.length;b++){var e=c.key(b);a(e,d.get(e))}};else if(f&&f.documentElement.addBehavior){var i,j;try{j=new ActiveXObject("htmlfile"),j.open(),j.write("<"+h+">document.w=window</"+h+'><iframe src="/favicon.ico"></iframe>'),j.close(),i=j.w.frames[0].document,c=i.createElement("div")}catch(k){c=f.createElement("div"),i=f.body}var l=function(a){return function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(c),i.appendChild(c),c.addBehavior("#default#userData"),c.load(g);var e=a.apply(d,b);return i.removeChild(c),e}},m=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),n=function(a){return a.replace(/^d/,"___$&").replace(m,"___")};d.set=l(function(a,b,c){return b=n(b),void 0===c?d.remove(b):(a.setAttribute(b,d.serialize(c)),a.save(g),c)}),d.get=l(function(a,b,c){b=n(b);var e=d.deserialize(a.getAttribute(b));return void 0===e?c:e}),d.remove=l(function(a,b){b=n(b),a.removeAttribute(b),a.save(g)}),d.clear=l(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(g);for(var c=b.length-1;c>=0;c--)a.removeAttribute(b[c].name);a.save(g)}),d.getAll=function(){var a={};return d.forEach(function(b,c){a[b]=c}),a},d.forEach=l(function(a,b){for(var c,e=a.XMLDocument.documentElement.attributes,f=0;c=e[f];++f)b(c.name,d.deserialize(a.getAttribute(c.name)))})}try{var o="__storejs__";d.set(o,o),d.get(o)!=o&&(d.disabled=!0),d.remove(o)}catch(k){d.disabled=!0}return d.enabled=!d.disabled,d})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],136:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("object.assign"),g=(c(f),e["default"].getComponent("Component"));g.prototype.emitTapEvents=function(){var a=0,b=null,c=3,d=200,e=void 0;this.on("touchstart",function(c){1===c.touches.length&&(b={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},a=(new Date).getTime(),e=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)e=!1;else if(b){var d=a.touches[0].pageX-b.pageX,f=a.touches[0].pageY-b.pageY,g=Math.sqrt(d*d+f*f);g>c&&(e=!1)}});var f=function(){e=!1};this.on("touchleave",f),this.on("touchcancel",f),this.on("touchend",function(c){if(b=null,e===!0){var f=(new Date).getTime()-a;d>f&&(c.preventDefault(),this.trigger("tap"))}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object.assign":132}],137:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=r["default"].getComponent("Component"),t=function(a){function b(){return h["default"](this,b),l["default"](this,f["default"](b).apply(this,arguments))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-control vjs-divide",innerHTML:'<div class="vertical"></div>'})}}]),b}(s);s.registerComponent("Divide",t),c["default"]=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],138:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=r["default"].getComponent("Component"),t=r["default"].getComponent("ErrorDisplay"),u=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"open",value:function(){var a=this.player().error();a.display&&n["default"](f["default"](b.prototype),"open",this).call(this)}},{key:"content",value:function(){var a=this.player().error(),b=a?a.img:null,c=a&&!b?this.localize(a.message):"",d="height: inherit;display: table;width: inherit;line-height: 1.5em;";b&&(d+=" background: url(http://vcplayer.mediacdn.vn/public/image/640_novid.png) no-repeat center; background-size: 100% 100%;");var e=s.prototype.createEl.call(this,"div",{innerHTML:'\n					<div style="display: table-cell;vertical-align: middle;width: inherit;cursor: default;">\n						<div>\n						'+c+"\n						</div>\n					</div>\n				"},{style:d});return e}}]),b}(t);s.registerComponent("ErrorDisplay",u),c["default"]=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],139:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/core-js/object/get-prototype-of"),e=c(d),f=a("babel-runtime/helpers/classCallCheck"),g=c(f),h=a("babel-runtime/helpers/createClass"),i=c(h),j=a("babel-runtime/helpers/possibleConstructorReturn"),k=c(j),l=a("babel-runtime/helpers/get"),m=c(l),n=a("babel-runtime/helpers/inherits"),o=c(n),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=c(p),r=q["default"].getComponent("Component"),s=function(a){function b(){return g["default"](this,b),k["default"](this,e["default"](b).apply(this,arguments))}return o["default"](b,a),i["default"](b,[{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"fullscreen-hotkey"})}}]),b}(r);r.registerComponent("HotKeys",s)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],140:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=r["default"].getComponent("Component"),t=function(a){function b(a,c){h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return d.on(a,"endedcontent",function(){this.hide()}),d.on(a,"replaycontent",function(){this.show()}),d}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-loading-kenh14",innerHTML:'<div class="loader-circle"></div><div class="loader-line-mask"><div class="loader-line"></div></div>'
})}}]),b}(s);s.registerComponent("LoadingKenh14",t),c["default"]=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],141:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=r["default"].getComponent("Component"),t=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return d.on(a,"prepare-midroll",d.handlePrepareMidroll),d.on(a,"start-midroll",d.handleStartMidroll),d.on(a,"vast.adStart",d.handleStartMidroll),d}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"midroll-lable vjs-hidden",innerHTML:"<span></span>"})}},{key:"dispose",value:function(){var a=this.player();this.off(a,"prepare-midroll",this.handlePrepareMidroll),this.off(a,"start-midroll",this.handleStartMidroll),this.off(a,"vast.adStart",this.handleStartMidroll),n["default"](f["default"](b.prototype),"dispose",this).call(this)}},{key:"handlePrepareMidroll",value:function(a,b){var c=Math.floor(b.remandStart);return c>5?this.hide():(this.el_.innerHTML="<span>Qung co sau </span>"+c+"s",this.show(),void(5>=c&&c>2?this.removeClass("imminence"):c>=0&&2>=c&&this.addClass("imminence")))}},{key:"handleStartMidroll",value:function(){this.hide()}}]),b}(s);s.registerComponent("MidrollLable",t),c["default"]=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],142:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=r["default"].getComponent("Component"),t=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return d.state_="INIT",d.on(a,"timeupdate",d.update),d.on(a,"vast.adStart",d.onAdsstart),d.on(a,"start-midroll",d.onAdsstart),d.on(a,"restorePlayer",d.onRestorePlayer),d.one(a,"adBlockDetected",d.dispose),d}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"midroll-marker"})}},{key:"dispose",value:function(){var a=this.player();this.off(a,"timeupdate",this.update),this.off(a,"vast.adStart",this.onAdsstart),this.off(a,"start-midroll",this.onAdsstart),this.off(a,"restorePlayer",this.onRestorePlayer),n["default"](f["default"](b.prototype),"dispose",this).call(this)}},{key:"onAdsstart",value:function(){var a=this.player();this.off(a,"timeupdate",this.countStartAds),this.off(a,"timeupdate",this.update)}},{key:"onRestorePlayer",value:function(){var a=this.player();a.midrollPrepare_=!1,"START"===this.state_&&(this.state_="ENDED"),this.one(a,"play",function(){this.on(a,"timeupdate",this.update)})}},{key:"countStartAds",value:function(){if("PREPARE"===this.state_){var a=this.player(),b=a.currentTime(),c=this._timeStart-b;c=Math.ceil(c),c>6?(a.trigger("prepare-midroll",{remandStart:c,options:this.options()}),this.reset()):c>=1?a.trigger("prepare-midroll",{remandStart:c,options:this.options()}):0>=c&&(this.state_="START",a.trigger("start-midroll"))}}},{key:"reset",value:function(){var a=this.player();this.state_="INIT",a.midrollPrepare_=!1,this.off(a,"timeupdate",this.countStartAds)}},{key:"prepareForAds",value:function(){var a=this.player();if(!a.midrollPrepare_&&"INIT"===this.state_){var b=this;this.state_="PREPARE",a.midrollPrepare_=!0,a.one("loaded-ad-tag-xml",function(){a.adTagXML||a._vastResponse?b.on(a,"timeupdate",b.countStartAds):b.state_="WAIT_DISPOSE"}),a.trigger("prepare-adTagXML")}}},{key:"update",value:function(){var a=this.player(),b=this.options(),c=b.percent,d=b.seconds,e=a.currentTime(),f=this.player_.duration(),g=0;if(d&&f&&40>f&&(this.state_="DISPOSE"),"0.8"===c&&360>f&&(this.state_="DISPOSE"),"0.5"===c&&1800>f&&(this.state_="DISPOSE"),c)g=parseFloat(c);else if(d){var h=a.duration();g=d/h}return a.midrollPrepare_&&e/f>g&&("INIT"===this.state_||"WAIT_DISPOSE"===this.state_)&&(this.state_="DISPOSE",a.midrollPrepare_=!1),"ENDED"===this.state_||"DISPOSE"===this.state_?this.hide():(this.el_.style.left=100*g+"%",this.show()),"INIT"===this.state_&&e>g*f?(this._timeStart=g*f,void this.prepareForAds()):void(f&&e-6>=0&&e>=g*f-6&&f-e>6&&(this._timeStart=g*f,this.prepareForAds()))}}]),b}(s);s.registerComponent("MidrollMarker",t),c["default"]=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],143:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=a("../util/format-time"),t=d(s),u=r["default"].getComponent("Component"),v=r["default"].getComponent("RemainingTimeDisplay"),w=function(a){function b(a,c){h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return d.updateDataAttr(),d.on(a,"timeupdate",d.updateDataAttr),a.ready(d.updateDataAttr.bind(d)),d}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-midroll-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})}},{key:"dispose",value:function(){var a=this.player();this.off(a,"timeupdate",this.updateDataAttr),n["default"](f["default"](b.prototype),"dispose",this).call(this)}},{key:"updateDataAttr",value:function(){var a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",t["default"](a,this.player_.duration()))}}]),b}(u);u.registerComponent("MidrollProgress",w);var x=function(a){function b(){return h["default"](this,b),l["default"](this,f["default"](b).apply(this,arguments))}return p["default"](b,a),j["default"](b,[{key:"updateContent",value:function(){if(this.player_.duration()){var a=this.localize("Remaining Time"),b=t["default"](this.player_.remainingTime());b!==this.formattedTime_&&(this.formattedTime_=b,this.contentEl_.innerHTML='<span class="vjs-control-text">'+a+"</span> "+b)}}}]),b}(v);u.registerComponent("MidrollRemainingTimeDisplay",x);var y=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-midroll-title",innerHTML:"<span>Qung co </span>"})}}]),b}(u);u.registerComponent("MidrollTitle",y);var z=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-midroll-remain",innerHTML:"<span></span>"})}}]),b}(u);z.prototype.options_={children:["midrollTitle","midrollRemainingTimeDisplay","progressControl"]},u.registerComponent("MidrollRemain",z),c["default"]=z}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/format-time":192,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],144:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../util/detech"),g=a("../util/querry"),h=e["default"].getComponent("Player");h.prototype.usingNativeControls=function(a){return g.querry.usingNativeControls===!1?!1:(/ios/gi.test(f.ua.os.family)&&f.ua.os.major>=8&&(a=!1),void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/detech":191,"../util/querry":195}],145:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=r["default"].getComponent("Component"),t=r["default"].getComponent("ProgressControl"),u=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return a.options().agent.isMobile||(d.on(["mousedown","touchdown"],d.handleMouseDown),d.seekBar.off()),d}return p["default"](b,a),j["default"](b,[{key:"handleMouseDown",value:function(a){this.player().options().agent.isMobile?n["default"](f["default"](b.prototype),"handleMouseDown",this).call(this,a):(this.seekBar.handleMouseDown(a),this.on(document,["mousemove","touchmove"],r["default"].bind(this.seekBar,this.seekBar.handleMouseMove)),this.on(window,["mouseup","touchend"],this.handleMouseUp))}},{key:"handleMouseUp",value:function(a){this.player().options().agent.isMobile?n["default"](f["default"](b.prototype),"handleMouseDown",this).call(this,a):(this.seekBar.handleMouseUp(a),this.off(["mousemove","touchmove"],r["default"].bind(this.seekBar,this.seekBar.handleMouseMove)),this.off(window,["mouseup","touchend"],this.handleMouseUp))}}]),b}(t);t.prototype.options_={children:["seekBar"]},s.registerComponent("ProgressControl",u),c["default"]=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],146:[function(a,b,c){(function(b){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/core-js/object/keys"),g=e(f),h=a("babel-runtime/core-js/object/get-prototype-of"),i=e(h),j=a("babel-runtime/helpers/classCallCheck"),k=e(j),l=a("babel-runtime/helpers/createClass"),m=e(l),n=a("babel-runtime/helpers/possibleConstructorReturn"),o=e(n),p=a("babel-runtime/helpers/get"),q=e(p),r=a("babel-runtime/helpers/inherits"),s=e(r),t="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,u=e(t),v=a("../util/to-title-case.js"),w=e(v),x=a("../util/media-type"),y=(d(x),u["default"].getComponent("MenuButton")),z=u["default"].getComponent("Component"),A=u["default"].getComponent("MenuItem"),B=(u["default"].getComponent("Menu"),{0:-1,144:0,240:1,360:2,480:3,720:4,1080:5}),C={0:"Auto",144:"144p",240:"240p",360:"360p",480:"480p",720:"720p",1080:"1080p"},D=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];k["default"](this,b);var d=o["default"](this,i["default"](b).call(this,a,c));return d.on(a,"changeRes",d.update),d}return s["default"](b,a),m["default"](b,[{key:"createEl",value:function(){var a=this.options().label||"",c=q["default"](i["default"](b.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()}),d=u["default"].createEl("span",{className:"vjs-control vjs-icon-setting"});return this.contentEl_=u["default"].createEl("span",{className:"vjs-current-res",innerHTML:a}),c.appendChild(d),c.appendChild(this.contentEl_),c}},{key:"buildCSSClass",value:function(){return"vjs-control-content "+q["default"](i["default"](b.prototype),"buildCSSClass",this).call(this)}},{key:"update",value:function(a,b){b>=720?this.addClass("resolution_hd"):this.removeClass("resolution_hd"),this.contentEl_.innerHTML=C[b]}}]),b}(z),E=function(a){function b(a,c){k["default"](this,b);var d=o["default"](this,i["default"](b).call(this,a,c));return d.resolution=c.resolution,d.resolution>=720&&d.addClass("resolution_hd"),d.on(a,"changeRes",d.onChangeRes),d}return s["default"](b,a),m["default"](b,[{key:"onChangeRes",value:function(a,b){this.selected(this.resolution===b?!0:!1)}},{key:"handleClick",value:function(){var a=this.player();a.trigger("clickRelutionItem",this.resolution)}},{key:"dispose",value:function(){this.off(this.player(),"changeRes",this.onChangeRes),q["default"](i["default"](b.prototype),"dispose",this).call(this)}}]),b}(A),F=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];k["default"](this,b);var d=o["default"](this,i["default"](b).call(this,a,c));return d.availableResOptions={},d.on(a,"loadedmetadata",d.onLoadMetadataHandle),d.on(a,"clickRelutionItem",d.onClickItem),d.on(a,"playlist-hls",d.onPlaylistHls),d.on(a,"play",d.setInterValCheckVideoHeight),d.on(a,"pause",d.clearInterValCheckVideoHeight),d.on(a,"vast.firstPlay",d.onAdStart),d.on(a,"vast.adEnd",d.onAdsEnd),d.on(a,"vast.adError",d.onAdsError),d.on(a,"restorePlayer",d.onAdsEnd),a.options().agent.isMobile?d.on(a,"userinactive",d.onUserInActive):(d.on("mouseover",d.onMouseOver),d.on("mouseout",d.onMouseout)),d}return s["default"](b,a),m["default"](b,[{key:"dispose",value:function(){var a=this.player();this.off(a,"loadedmetadata",this.onLoadMetadataHandle),this.off(a,"clickRelutionItem",this.onClickItem),this.off(a,"playlist-hls",this.onPlaylistHls),this.off(a,"play",this.setInterValCheckVideoHeight),this.off(a,"pause",this.clearInterValCheckVideoHeight),this.off(a,"vast.firstPlay",this.onAdStart),this.off(a,"vast.adEnd",this.onAdsEnd),this.off(a,"vast.adError",this.onAdsError),this.off(a,"restorePlayer",this.onAdsEnd),this.off(a,"userinactive",this.onUserInActive),this.off("mouseover",this.onMouseOver),this.off("mouseout",this.onMouseout),q["default"](i["default"](b.prototype),"dispose",this).call(this)}},{key:"onMouseOver",value:function(){this.menu.removeClass("vjs-hidden"),this.player().addClass("vjs-setting-hover")}},{key:"onMouseout",value:function(){this.player().removeClass("vjs-setting-hover")}},{key:"onAdStart",value:function(){this.adsPlaying=!0}},{key:"onAdsEnd",value:function(){this.adsPlaying=!1;this.player();this.update()}},{key:"onAdsError",value:function(){this.adsPlaying=!1}},{key:"onUserInActive",value:function(){this.unpressButton()}},{key:"createItems",value:function(){var a,b,c=this.player(),d=[];if(!this.availableResOptions||g["default"](this.availableResOptions).length<2)return d;for(a in this.availableResOptions)"length"!==a&&(b=this.availableResOptions[a],d.push(new E(c,u["default"].mergeOptions({selectable:!0},b||{}))));return d.sort(function(a,b){return"undefined"==typeof a.resolution?-1:parseInt(b.resolution)-parseInt(a.resolution)}),d}},{key:"buildCSSClass",value:function(){return"vjs-res-button vjs-hidden "+q["default"](i["default"](b.prototype),"buildCSSClass",this).call(this)}},{key:"onLoadMetadataHandle",value:function(){if(this.adsPlaying===!0)return void this.hide();var a=this.player(),b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g="",h=a.options().agent,i=h.isMobile?a.VideoSource.mhtml5:a.VideoSource.html5,j=a.currentSrc(),k=j.match(/(mp4|m3u8)/gi)||[],l=this.getChild("qualityDisplay");if(k.length&&(g=k[k.length-1].toLowerCase()),this.type!==g){switch(this.type=w["default"](g),w["default"](this.type)){case"Mp4":try{d=parseInt(j.match(/_(.*)p\.(mp4)$/i)[1])}catch(m){a.trigger("html5UrlIncorrect")}this.availableResOptions={},this.current_res=d,l.update(null,d);for(b in i)c=i[b],e=c["data-res"],f=e===d?!0:!1,this.availableResOptions[e]={src:c.src,type:c.type,label:e+"p",resolution:e,selected:f};break;case"M3u8":}this.update()}}},{key:"onPlaylistHls",value:function(a,b){if("M3u8"!==this.type){this.type="M3u8";var c,d,e,f=b||[],g=this.getChild("qualityDisplay");for(this.availableResOptions={},f.length>1&&(this.availableResOptions.Auto={src:f.uri,type:"application/x-mpegURL",label:"Auto",resolution:0,selected:!0},B=[],B[0]=-1),d=0;d<f.length;d++){c=f[d];try{e=c.attributes.RESOLUTION.height,B[e]=d}catch(h){continue}this.availableResOptions[e]={src:c.uri,type:"application/x-mpegURL",label:e+"p",resolution:e}}this.current_res=0,g.update(null,0),this.update()}}},{key:"setInterValCheckVideoHeight",value:function(){"M3u8"===this.type&&(this.clearInterValCheckVideoHeight(),this.intervalCheckId=this.setInterval(this.checkVideoHeight,1e3))}},{key:"clearInterValCheckVideoHeight",value:function(){this.clearInterval(this.intervalCheckId)}},{key:"checkVideoHeight",value:function(){var a=this.player(),b=this.getChild("qualityDisplay"),c=a.videoHeight();a.hasClass("vjs-setting-hover")||0===this.current_res&&(c>=720?b.addClass("resolution_hd"):b.removeClass("resolution_hd"))}},{key:"onClickItem",value:function(a,b){var c=(this.player(),w["default"](this.type)),d=this;d.menu.addClass("vjs-hidden"),this.current_res!==b&&(this.current_res=b,(this["changeRes"+c]||function(){}).call(this,b))}},{key:"changeResMp4",value:function(a){var b=this.player(),c=b.currentTime(),d=b.paused(),e=this.availableResOptions[a];b.src(e).one("loadedmetadata",function(){b.currentTime(c),d?b.pause():b.play()}),b.trigger("changeRes",a)}},{key:"changeResM3u8",value:function(a){var b=this.player(),c=B[a];b.trigger("vcplayerchangequality",c),b.trigger("changeRes",a)}}]),b}(y);F.prototype.options_={children:["qualityDisplay"]},z.registerComponent("QualityDisplay",D),z.registerComponent("ResolutionMenuItem",E),z.registerComponent("QualitySelectorButtonMenu",F),c["default"]=F}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/media-type":194,"../util/to-title-case.js":196,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/core-js/object/keys":9,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],147:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/core-js/object/get-prototype-of"),e=c(d),f=a("babel-runtime/helpers/classCallCheck"),g=c(f),h=a("babel-runtime/helpers/createClass"),i=c(h),j=a("babel-runtime/helpers/possibleConstructorReturn"),k=c(j),l=a("babel-runtime/helpers/get"),m=c(l),n=a("babel-runtime/helpers/inherits"),o=c(n),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=c(p),r=a("store"),s=(c(r),q["default"].getComponent("Component")),t=q["default"].getComponent("ClickableComponent"),u=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return d.on(a,"volumechange",d.update),d}return o["default"](b,a),i["default"](b,[{key:"update",value:function(){var a=this.player(),b=a.volume();a.muted()&&(b=0),b=window.Math.round(100*b)+"%",this.el().innerHTML='  \n        <span class="qmtwb-volume">'+b+"</span>"}},{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{innerHTML:' \n        <span class="qmtwb-volume"></span>'})}}]),b}(s);s.registerComponent("QuickVolumeLevel",u);var v=function(a){function b(){return g["default"](this,b),k["default"](this,e["default"](b).apply(this,arguments))}return o["default"](b,a),i["default"](b,[{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"qmtw-btn clearfix",innerHTML:'\n          <span class="qmtwb-speaker fl clearfix">\n            <span class="qmtwbs-base"></span>                     \n            <span class="qmtwbs-level"></span>\n          </span>\n         '})}}]),b}(s);v.prototype.options_={children:["quickVolumeLevel"]},s.registerComponent("QuickMuteToogleButton",v);var w=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return d.firstMute=!1,d.on(a,"volumechange",d.update),d.on(a,"loadstart",d.onLoadStart),d.one(a,"stop-fill-volume",d.stopFillVolume),d}return o["default"](b,a),i["default"](b,[{key:"stopFillVolume",value:function(){this.removeClass("inactive")}},{key:"miminize",value:function(){this.addClass("miminize")}},{key:"onLoadStart",value:function(){var a=this.player(),b=void 0;try{b=a.controlBar.volumeMenuButton.volumeBar}catch(c){}this.update()}},{key:"update",value:function(){var a=3;this.player_.muted()?(this.addClass("first-mute"),a=0):a=1,0===this.player_.volume()&&(a=0);for(var b=0;2>b;b++)this.removeClass("vjs-vol-"+b);this.addClass("vjs-vol-"+a)}},{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"qmt-wrapper miminize inactive",innerHTML:'\n          <span class="qmtw-label">Tt m lng</span>'})}}]),b}(s);w.prototype.options_={children:["quickMuteToogleButton"]},s.registerComponent("QuickMuteToogleWrapper",w);var x=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return d.on(a,"volumechange",d.update),d}return o["default"](b,a),i["default"](b,[{key:"update",value:function(){var a=this.player(),b=Math.ceil(100*a.volume());this.el_.innerHTML="m lng "+b+"%"}},{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"qmt-volume-display"})}}]),b}(s);s.registerComponent("VolumeDisplay",x);var y=function(a){function b(a,c){return g["default"](this,b),k["default"](this,e["default"](b).call(this,a,c))}return o["default"](b,a),i["default"](b,[{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"qmt-volume-button",innerHTML:'\n          <div class="qmt-volume-over">\n            <span>Tt ting</span>\n          </div>'})}}]),b}(s);y.prototype.options_={children:["volumeMenuButton"]},s.registerComponent("QuickMuteVolumeMenuButton",y);var z=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return d.on(a,"volumechange",d.update),d.on(a,"play",d.onPlay),d.one(a,"stop-fill-volume",d.stopFillVolume),d}return o["default"](b,a),i["default"](b,[{key:"update",value:function(){var a=3;this.player_.muted()?(this.addClass("first-mute"),a=0):a=1,0===this.player_.volume()&&(a=0);for(var b=0;2>b;b++)this.removeClass("vjs-vol-"+b);this.addClass("vjs-vol-"+a)}},{key:"onPlay",value:function(){this.removeClass("inactive"),this.update()}},{key:"handleClick",value:function(){var a=this.player_.muted();if(this.player_.muted(a?!1:!0),a){var b=this.player_.volume();if(0!==b)return;this.player_.volume(.6)}}},{key:"stopFillVolume",value:function(){var a=this;this.addClass("inactive"),setTimeout(function(){a.hide()},1e3)}},{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"qmt-progress inactive"})}}]),b}(t);z.prototype.options_={children:["volumeDisplay","quickMuteVolumeMenuButton"]},s.registerComponent("QuickMuteToogleProgress",z);var A=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return a.tech_&&a.tech_.featuresVolumeControl===!1&&d.addClass("vjs-hidden"),d.on(a,"loadstart",function(){a.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),d.one(a,"stop-fill-volume",d.stopFillVolume.bind(d,"stop-fill-volume")),d}return o["default"](b,a),i["default"](b,[{key:"stopFillVolume",value:function(){var a=this;this.timeout||(this.timeout=this.setTimeout(function(){delete a.timeout,a.addClass("inactive-toggle")},3e3))}},{key:"handleClick",value:function(){var a=this.player_.muted();if(this.player_.muted(a?!1:!0),a){var b=this.player_.volume();if(0!==b)return;this.player_.volume(.6)}}},{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"quick-mute-toggle",innerHTML:'\n          <div class="qmt-over"></div>'})}}]),b}(t);A.prototype.options_={children:["quickMuteToogleWrapper"]},s.registerComponent("QuickMuteToogle",A)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19,store:135}],148:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/core-js/object/get-prototype-of"),e=c(d),f=a("babel-runtime/helpers/classCallCheck"),g=c(f),h=a("babel-runtime/helpers/createClass"),i=c(h),j=a("babel-runtime/helpers/possibleConstructorReturn"),k=c(j),l=a("babel-runtime/helpers/get"),m=c(l),n=a("babel-runtime/helpers/inherits"),o=c(n),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=c(p),r=q["default"].getComponent("Component"),s=q["default"].getComponent("ClickableComponent"),t=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c)),f=a.options(),h=f.querry;return h.replay?(d.on(a,"endedcontent",d.countDown),d.on(a,"play",d.handlePlay),d):k["default"](d)}return o["default"](b,a),i["default"](b,[{key:"reset",value:function(){this.clearTimeout(this.countDownInterval_)}},{key:"handlePlay",value:function(){this.reset(),this.hide()}},{key:"handleClick",value:function(){this.reset(),this.replay()}},{key:"replay",value:function(){this.reset();var a=this.player();a.trigger("replaycontent"),a.currentTime(0),a.play()}},{key:"countDown",value:function(){this.reset(),this.show(),this.addClass("start"),this.countDownInterval_=this.setTimeout(function(){this.replay()},1800)}},{key:"createEl",value:function(){var a=m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"loading-vid-countdown vjs-hidden"}),c=q["default"].createEl("div",{className:"lvc-label",innerHTML:"T ng pht li"});a.appendChild(c);var d=["One","Two"],f=this;d.forEach(function(b,c){var d=f["mask"+b+"El_"]=q["default"].createEl("div",{className:"lvc-line-mask lvc-mask-"+c,innerHTML:'\n        <div class="lvc-line">\n\n        </div>\n        '});a.appendChild(d)});var g=q["default"].createEl("div",{className:"lvc-replay"});return a.appendChild(g),a}}]),b}(s);r.registerComponent("ReplayCountDown",t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],149:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/inherits"),n=d(m),o="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,p=d(o),q=a("../components/VideoInfo.js"),r=(d(q),a("../util/format-time.js")),s=d(r),t=p["default"].getComponent("Component"),u=p["default"].getComponent("SeekBar"),v=p["default"].getComponent("Slider"),w=function(a){function b(a,c){h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return d.on(a,"pan",d.onPanHandle),d.on(a,"panstart",d.onPanHandle),d.on(a,"panstop",d.onPanHandle),d}return n["default"](b,a),j["default"](b,[{key:"update",value:function(){if(this.el_&&!this.disableupdate&&!this.player().paused()){var a=this.getPercent(),b=this.bar;if(b){("number"!=typeof a||a!==a||0>a||a===1/0)&&(a=0);var c=(100*a).toFixed(2)+"%";this.vertical()?b.el().style.height=c:b.el().style.width=c}}}},{key:"handleMouseMove",value:function(a){{var b=this.player().duration(),c=this.calculateDistance(a)*b;this.bar}this.updateBarWidthTime(c,b)}},{key:"handleMouseUp",value:function(a){v.prototype.handleMouseUp.call(this,a);var b=this.player(),c=this,d=this.calculateDistance(a)*b.duration(),e=b.duration();if(d>=e&&(d=e-.1),b.currentTime(d),b.scrubbing(!1),c.videoWasPlaying)try{b.play()}catch(f){}}},{key:"updateBarWidthTime",value:function(a,b){var c=this.bar;c.el().setAttribute("data-current-time",s["default"](a,b));var d=a/b;c.el().style.width=(100*d).toFixed(2)+"%"}},{key:"onPanHandle",value:function(a,b){if("horizotial"===b.type){var c=this.player(),d=c.el().clientWidth/2,e=(this.bar,void 0),f=c.duration();switch(a.type){case"panstart":c.scrubbing(!0),this.videoWasPlaying=!c.paused(),c.pause(),this.currentTime_cache=c.currentTime();break;case"pan":e=this.currentTime_cache+b.xdiff/d*f,e=e>f?f:e,this.updateBarWidthTime(e,f);break;case"panstop":e=this.currentTime_cache+b.xdiff/d*f,
e=e>f?f:e,this.updateBarWidthTime(e,f),c.currentTime(e),c.scrubbing(!1),this.videoWasPlaying&&c.play()}}}},{key:"handlePanEnd",value:function(){}}]),b}(u);t.registerComponent("SeekBar",w),c["default"]=w}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/VideoInfo.js":150,"../util/format-time.js":192,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],150:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/core-js/object/get-prototype-of"),e=c(d),f=a("babel-runtime/helpers/classCallCheck"),g=c(f),h=a("babel-runtime/helpers/createClass"),i=c(h),j=a("babel-runtime/helpers/possibleConstructorReturn"),k=c(j),l=a("babel-runtime/helpers/get"),m=c(l),n=a("babel-runtime/helpers/inherits"),o=c(n),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=c(p),r=(q["default"].getComponent("ClickableComponent"),q["default"].getComponent("Button"),q["default"].getComponent("Component")),s=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return d.on(a,"updateMediaInfo",d.update),d}return o["default"](b,a),i["default"](b,[{key:"createEl",value:function(){var a=this.player().mediaInfo||{},c=this.options()["video-title"]||a.title||"";return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"video-info",innerHTML:'<div class="video-info-title">'+c+"</div>"})}},{key:"update",value:function(){var a=this.player().mediaInfo.title;this.el().children[0].innerHTML=a||""}}]),b}(r);s.prototype.options_={"video-title":""};var t=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return d.on(a,"updateMediaInfo",d.update),d}return o["default"](b,a),i["default"](b,[{key:"createEl",value:function(){var a=this.player().mediaInfo||{},c=a.duration||this.options().duration||"";return/(.*)\./.test(c)&&(c=c.match(/(.*)\./)[1]),m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"video-info-duration",innerHTML:'<div class="video-info-duration-display vjs-time-control">'+c+"</div>"})}},{key:"update",value:function(){var a=this.player().mediaInfo.duration;/(.*)\./.test(a)&&(a=a.match(/(.*)\./)[1]),this.el().children[0].innerHTML=a||"0:00"}}]),b}(r);t.prototype.options_={duration:"0:00"},r.registerComponent("VideoInfo",s),r.registerComponent("VideoInfoDuration",t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],151:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=d["default"].getComponent("ClickableComponent");e.prototype.handleFocus=function(){this.el().blur(),this.player().el().focus()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],152:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=(d["default"].getComponent("Component"),d["default"].getComponent("MuteToggle"));e.prototype.handleClick=function(){var a=this.player_.muted();this.player_.muted(a?!1:!0),a&&0===this.player_.volume()&&this.player_.volume(.8)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],153:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={spinner_white:!0,colors:{white:"rgb(255,255,255)",kenh14:"rgb(255, 84, 0)",dantri:"rgb(0, 65, 117)",vtv:"rgb(183, 0, 2)",livevtv:"rgb(202, 24, 0)",afamily:"rgb(235, 75, 101)",soha:"rgb(51, 153, 144)",sohanews:"rgb(51, 153, 144)",gamek:"rgb(237, 72, 72)",genk:"rgb(219, 32, 38)",autopro:"rgb(202, 0, 2)",cafef:"rgb(204, 0, 0)",nld:"rgb(152, 0, 0)",suckhoedoisong:"rgb(152, 0, 0)",giadinhnet:"rgb(194, 26, 92)",giadinh:"rgb(194, 26, 92)","beta.autopro":"rgb(202, 0, 2)",ttvn:"rgb(0, 127, 116)","toilangnghe.kenh14.vn":"rgb(0, 165, 230)"}};c["default"]=d},{}],154:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}function c(){var a=this;try{a.tech_.el_.style.display="block"}catch(b){}}function d(a,b){function c(){setTimeout(function(){i.play("callOrigPlay")},0)}function d(){try{i.currentTime()!==b.currentTime?(i.one("seeked",function(){c()}),i.currentTime(b.currentTime)):c()}catch(a){f["default"].log.warn("Failed to resume the content after an advertisement",a)}}function e(){var a=i.src();return a?h?!0:/mediasource|blob/.test(a)?!1:/m3u8/gi.test(a)?!0:a!==b.src:i.currentSrc()!==b.src}function g(){var a=setTimeout(function(){i.trigger("canplay")},1e3);i.one("canplay",function(){clearTimeout(a)})}var i=this,j=i.options(),k=j.agent,l=j.querry;return i.ads_playing=!1,l.onlyAds?l.replay&&i.one("play",function(){i.trigger("start-preroll")}):(i.adTagXML=null,i._vastResponse=null),b?void(e()?(i.one("canplay",d),g(),k.isMobile||i.reset(),b.src?i.src({src:b.src,type:b.type}):(i.firtSourceInit=!1,i.trigger("resetVideoSource")),i.one("loadedmetadata",function(){i.currentTime(b.currentTime)}),i.trigger("waiting"),i.load()):b.ended?i.trigger("ended"):(b.playing||i.autoplay()||i.hasClass("vjs-has-started"))&&(c(),i.currentTime(b.currentTime))):void c()}var e="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,f=b(e);window.vcplayer=f["default"];var g=f["default"].getComponent("Player"),h=!1,i={preroll:"preroll",midroll:"midroll",postroll:"postroll",interactive:"interactive"},j=function(a){function b(){j=function(){}}function e(){t.ads_type=null}function j(){if(!t.ads_playing){var a=t.currentTime(),b=t.duration();t.ads_type=1>=a&&!t.ads_type?i.preroll:a>1&&b-1>a?i.midroll:i.postroll,t.ads_playing=!0,t.one("restorePlayer",d),t.one("loadedmetadata",c);{t.vastClient({adTagUrl:s,adTagXML:t.adTagXML?m:void 0,vastResponse:t._vastResponse,skipads:A,playAdAlways:!1,preferredTech:"html5",adCancelTimeout:y,adsEnabled:!0,verbosity:z,vpaidFlashLoaderPath:v.vpaidswf||"build/temp/VPAIDFlash.swf?r="+w})}t.one("play-ads",function(){t.addClass("vjs-waiting")}),h=!1,t.one("vpaid-html5-ad",function(){h=!0})}}function k(){function a(){u||(v.testAdmicro||g.prototype.admicro)&&(u=!0,t.one("have-ads-data",function(a,b){var c=a.adsData||b;c&&(s=c.vast.url),j()}),t.one("play",function(){t.off("have-ads-data")}),v.testAdmicro?t.testAdmicro():g.prototype.admicro&&g.prototype.admicro.call(t,{}))}a(),t.one("updateMediaInfo",a),t.one("admicroloaded",a)}function l(a){function b(b,c){return!b&&c&&c.mediaFiles&&c.mediaFiles.length&&(t._vastResponse=c),a&&"function"==typeof a?void a():t.trigger("loaded-ad-tag-xml")}var c=f["default"].VASTClient;if(c){try{v.vastUrl?s=decodeURIComponent(v.vastUrl):g.prototype.admicroADS&&(s=g.prototype.admicroADS.call(t,{}))}catch(d){}if(!s)return t.trigger("loaded-ad-tag-xml");var e=new c;e.getVASTResponse(s,b)}}function m(a){setTimeout(function(){a(null,t.adTagXML)},0)}function n(){t.ads_playing||(t.pause(),q(),t.play())}function o(){t.ads_playing||(t.pause(),q(),t.play())}function p(){t.ads_playing||(t.pause(),q(),t.play())}function q(){var a=t.play;t.play=function(){if(arguments.length){var b=t.currentTime();if(0===b)return}t.off("timeupdate",t.play),t.play=a;try{t.adTagXML?s=null:v.vastUrl?s=decodeURIComponent(v.vastUrl):g.prototype.admicroADS&&(s=g.prototype.admicroADS.call(t,{}))}catch(c){}(s||t.adTagXML)&&j(),t.play()},t.on("timeupdate",t.play)}function r(){function a(){if(!u&&g.prototype.admicroAPI){u=!0;try{g.prototype.admicroAPI.call(t,{})}catch(a){}}}a(),t.one("updateMediaInfo",a),t.one("admicroloaded",a)}if(a!==!1){var s,t=this,u=!1,v=t.options().querry||{},w=t.options().rtime||"123456",x=t.options().noneAds||v.ads===!1||t._adBlock||v.control===!1,y=5e3,z=v.verbosity||-1,A=(parseFloat(v.midroll),v.skipads),B=v.admutedp;if(v.adsurl)k();else if(r(),x)return;t.on("start-midroll",n),t.on("prepare-adTagXML",l),t.on("start-preroll",o),t.on("start-postroll",p),t.one("adBlockDetected",b),t.on("endedcontent",e),v.onlyAds?(t.addClass("vjs-onlyAd"),l(function(){q()})):q(),A===!1&&t.addClass("none-skip-ad"),B===!1&&t.addClass("hide-mute-ad")}};f["default"].plugin("adsSetup",j)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],155:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=(a.options().querry,a.options().agent),c=a.VideoSource.html5;b.isMobile&&0!==c.length||(c=a.VideoSource.mhtml5,0===c.length&&0!==a.VideoSource.html5.length&&(c=a.VideoSource.html5)),c.length||(c=a.VideoSource.mp4),c.length?!function(){{var b=a.currentTime();a.paused()}a.src(c).one("loadedmetadata",function(){a.currentTime(b),a.play()})}():a.error({message:"Video hin cha sn sng.",display:!0,log:!0})}function f(a){var b=a.options().querry,c=a.options().agent;if(!a.firtSourceInit&&a.VideoSource&&!a.hasClass("vjs-ad-playing")){if(a.firtSourceInit=!0,c.isMobile){if(b.hlsjs===!1||c.isFireFox){if(a.VideoSource.mhtml5.length)return a.src(a.VideoSource.mhtml5)}else if(a.VideoSource.mfull.length)return a.src(a.VideoSource.mfull)}else if(b.hlsjs===!1){if(a.VideoSource.html5.length)return a.src(a.VideoSource.html5)}else if(a.VideoSource.full.length)return a.src(a.VideoSource.full);return a.VideoSource.mp4.length?a.src(a.VideoSource.mp4):void a.error({message:"Video hin cha sn sng!",display:!0,log:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),c.sourceInit=void 0;var g=a("babel-runtime/helpers/typeof"),h=d(g),i="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,j=d(i),k=function(a){function b(a){g.VideoSource||{};switch(a.type){case"fillComplete":k=!0,f(g);break;case"updateVideoSource":j&&f(g);break;case"resetVideoSource":f(g);break;case"filling":j=!0,f(g);break;case"updateMediaInfo":if(!i.eplcode)return;try{c(g)}catch(b){}return;case"notPlayHlsJs":return console.log("notPlayHlsJs"),void e(g);case"notPlayHlsHtml5":return console.log("notPlayHlsHtml5"),void e(g);case"notPlayingHlsJs":return console.log("notPlayingHlsJs"),void e(g)}k&&g.firtSourceInit&&g.play()}function c(){var a=void 0;try{a=d()}catch(c){console.warn("Config epl sai")}a&&(g.off("updateVideoSource",b),g.off("updateMediaInfo",b),g.off("fillComplete",b),g.off("filling",b),g.off("notPlayHlsJs",b),g.off("notPlayHlsHtml5",b),g.off("notPlayingHlsJs",b),g.reset(),g.addClass("expired-epl"),g.error({message:"V l do bn quyn video s khng c pht trong thi gian ny!",img:"http://vcplayer.mediacdn.vn/public/image/640_novid.png",display:!0,log:!1}))}function d(){var a=g.mediaInfo.config;if(a&&a.length){var b=function(){var b={is_epl:!1};return a.map(function(a){switch(a.Type){case 2:b.is_epl="1"===a.Value;break;case 3:var c=a.Value.split(/-|\s|%20|:/),d=new Date(c[0],parseInt(c[1])-1,c[2],c[3],c[4],c[5]),e=new Date;e.getTime()-d.getTime()>=0&&(b.is_exprired=!0)}}),b.is_epl&&b.is_exprired?{v:!0}:void 0}();if("object"===("undefined"==typeof b?"undefined":h["default"](b)))return b.v}return!1}if(a!==!1){var g=this,i=g.options().querry,j=(g.options().agent,!1),k=!1,l=g.play,m=g.pause;g.play=function(){try{l.call(g)}catch(a){}},g.pause=function(){try{m.call(g)}catch(a){}},g.on("updateVideoSource",b),g.on("resetVideoSource",b),g.on("updateMediaInfo",b),g.on("fillComplete",b),g.one("filling",b),g.one("notPlayHlsJs",b),g.one("notPlayHlsHtml5",b),g.one("notPlayingHlsJs",b)}};c.sourceInit=f,j["default"].plugin("betaQuality",k)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/typeof":21}],156:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}function c(){function a(){}function b(){c.trigger("adBlockDetected"),c._adBlock=!0}var c=this,d=function(a){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==a&&this.setOption(a);var b=this,d=function(){setTimeout(function(){b._options.checkOnLoad===!0&&(b._options.debug===!0&&b._log("onload->eventCallback","A check loading is launched"),null===b._var.bait&&b._creatBait(),setTimeout(function(){b.check()},1))},1)};c.one("ready",d)};d.prototype._options=null,d.prototype._var=null,d.prototype._bait=null,d.prototype._log=function(){},d.prototype.setOption=function(a,b){if(void 0!==b){var c=a;a={},a[c]=b}for(var d in a)this._options[d]=a[d],this._options.debug===!0&&this._log("setOption",'The option "'+d+'" he was assigned to "'+a[d]+'"');return this},d.prototype._creatBait=function(){var a=document.createElement("div");a.setAttribute("class",this._options.baitClass),a.setAttribute("style",this._options.baitStyle),this._var.bait=window.document.body.appendChild(a),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,this._options.debug===!0&&this._log("_creatBait","Bait has been created")},d.prototype._destroyBait=function(){window.document.body.removeChild(this._var.bait),this._var.bait=null,this._options.debug===!0&&this._log("_destroyBait","Bait has been removed")},d.prototype.check=function(a){if(void 0===a&&(a=!0),this._options.debug===!0&&this._log("check","An audit was requested "+(a===!0?"with a":"without")+" loop"),this._var.checking===!0)return this._options.debug===!0&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var b=this;return this._var.loopNumber=0,a===!0&&(this._var.loop=setInterval(function(){b._checkBait(a)},this._options.loopCheckTime)),setTimeout(function(){b._checkBait(a)},1),this._options.debug===!0&&this._log("check","A check is in progress ..."),!0},d.prototype._checkBait=function(a){var b=!1;if(null===this._var.bait&&this._creatBait(),(null!==window.document.body.getAttribute("abp")||null===this._var.bait.offsetParent||0===this._var.bait.offsetHeight||0===this._var.bait.offsetLeft||0===this._var.bait.offsetTop||0===this._var.bait.offsetWidth||0===this._var.bait.clientHeight||0===this._var.bait.clientWidth)&&(b=!0),void 0!==window.getComputedStyle){var c=window.getComputedStyle(this._var.bait,null);!c||"none"!==c.getPropertyValue("display")&&"hidden"!==c.getPropertyValue("visibility")||(b=!0)}this._options.debug===!0&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(b===!0?"positive":"negative")),a===!0&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),b===!0?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),a===!0&&(this._var.checking=!1)):(null===this._var.loop||a===!1)&&(this._destroyBait(),this.emitEvent(!1),a===!0&&(this._var.checking=!1))},d.prototype._stopLoop=function(){clearInterval(this._var.loop),this._var.loop=null,this._var.loopNumber=0,this._options.debug===!0&&this._log("_stopLoop","A loop has been stopped")},d.prototype.emitEvent=function(a){this._options.debug===!0&&this._log("emitEvent","An event with a "+(a===!0?"positive":"negative")+" detection was called");var b=this._var.event[a===!0?"detected":"notDetected"];for(var c in b)this._options.debug===!0&&this._log("emitEvent","Call function "+(parseInt(c)+1)+"/"+b.length),b.hasOwnProperty(c)&&b[c]();return this._options.resetOnEnd===!0&&this.clearEvent(),this},d.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],this._options.debug===!0&&this._log("clearEvent","The event list has been cleared")},d.prototype.on=function(a,b){return this._var.event[a===!0?"detected":"notDetected"].push(b),this._options.debug===!0&&this._log("on",'A type of event "'+(a===!0?"detected":"notDetected")+'" was added'),this},d.prototype.onDetected=function(a){return this.on(!0,a)},d.prototype.onNotDetected=function(a){return this.on(!1,a)};var e=new d({checkOnLoad:!0,resetOnEnd:!0});e.onDetected(b),e.onNotDetected(a)}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,e=b(d);e["default"].plugin("checkAdBlock",c)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],157:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../components/VideoInfo.js"),g=(c(f),function(a){function b(a){console.log("HTML5 event type: "+a.type,e.currentTime(),", ads playing: ",e.hasClass("vjs-ad-playing"))}function c(a){console.log("HTML5 event type: "+a.type,e.volume())}function d(a){console.log("HTML5 event type: "+a.type,e.volume())}if(a!==!1){var e=this,f=e.options().querry,g=f.consoleLog;g&&(e.on("abort",b),e.on("canplay",b),e.on("canplaythrough",b),e.on("durationchange",b),e.on("emptied",b),e.on("ended",b),e.on("error",b),e.on("loadeddata",b),e.on("loadedmetadata",b),e.on("loadstart",b),e.on("pause",b),e.on("play",d),e.on("playing",b),e.on("ratechange",b),e.on("seeked",b),e.on("seeking",b),e.on("stalled",b),e.on("suspend",b),e.on("volumechange",c),e.on("waiting",b))}});e["default"].plugin("checkHTML5",g)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/VideoInfo.js":150}],158:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=function(){function a(){var d=c.src(),e=/.(m3u8)$/i.test(d);e&&(c.off("play",a),b=setInterval(function(){if(!c.vast||!c.vast.adUnit){clearInterval(b);var a=c.currentTime();a||c.trigger("notPlayHlsHtml5")}},5e3))}var b,c=this,d=c.options().agent,e=d.isSafari,f=d.isEdge,g=d.isiPad,h=c.options(),i=h.querry;i.live||e||f||g||c.on("play",a)};d["default"].plugin("controlHlsHTML5",e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],159:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../components/VideoInfo.js"),g=(c(f),function(a){function b(){var a=e.controlBar;a.addChild("videoInfoDuration"),a.on("mouseover",c),a.on("mouseout",d)}function c(){e.userActive(!0)}function d(a){var b=this.player(),c=b.el_.clientWidth,d=b.el_.clientHeight;a.y>0&&a.y<d&&a.x>0&&a.x<c||b.userActive(!1)}if(a!==!1){var e=this,f=e.options().reactskin;f||(e.one("ready",b),e.one("dispose",function(){var a=e.controlBar;a.off("mouseover",c),a.off("mouseout",d)}))}});e["default"].plugin("customizeControlBar",g)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/VideoInfo.js":150}],160:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../components/VideoInfo.js"),g=(c(f),function(){function a(){c.addClass("vjs-waiting"),d=c.currentTime(),c.off("timeupdate",b),c.off("progress",b),c.on("timeupdate",b),c.on("progress",b)}function b(){var a=c.currentTime();a!==d&&(c.off("timeupdate",b),c.off("progress",b),c.removeClass("vjs-waiting"),c.removeClass("vjs-seeking"))}var c=this,d=0,e=c.options(),f=e.querry;if(!f.live){var g=c.options().reactskin;g||(c.on("waiting",a),c.on("seeking",a),c.on("play",b))}});e["default"].plugin("customizeLoading",g)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/VideoInfo.js":150}],161:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../components/VideoInfo.js"),g=(c(f),a("../util/format-time.js")),h=c(g),i=(e["default"].getComponent("Slider"),e["default"].getComponent("SeekBar"),e["default"].getComponent("MouseTimeDisplay")),j=e["default"].getComponent("PlayProgressBar"),k=e["default"].getComponent("Player");k.prototype.hasStarted=function(a){return void 0!==a?(this.hasStarted_!==a&&(this.hasStarted_=a,a&&(this.addClass("vjs-has-started"),this.trigger("firstplay"))),this):!!this.hasStarted_},i.prototype.update=function(a,b){var c=h["default"](a,this.player().duration());this.el().style.width=b+"px",this.el().setAttribute("data-current-time",c)},j.prototype.updateDataAttr=function(){var a=this.player();if(!a.paused()){var b=a.scrubbing()?a.getCache().currentTime:a.currentTime();this.el().setAttribute("data-current-time",h["default"](b,a.duration()))}},j.prototype.update=function(a){var b=this.player().duration(),c=a/b;this.el().style.width=(100*c).toFixed(2)+"%"}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/VideoInfo.js":150,"../util/format-time.js":192}],162:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){i["default"].spinner_white&&(a=i["default"].colors.white);var b=a.replace("rgb","rgba").replace(")",", 0.6)");return j.isWebKit?".vjs-loading-spinner:after{\n			background: "+a+";\n			background: -webkit-linear-gradient(90deg, "+a+", "+b+");\n			background: linear-gradient(180deg, "+a+", "+b+");\n			-webkit-background-clip: text;\n			-webkit-text-fill-color: transparent;\n		}":".vjs-loading-spinner:after{\n			color: "+a+";\n			background: none;\n		}"}function e(){var a=arguments.length<=0||void 0===arguments[0]?"#FFF":arguments[0];a="#FFF";var b=d(a),c=".video-js .vjs-control-bar .vjs-play-progress { color: "+a+";}\n				.vjs-control-bar .vjs-play-control:hover, \n				.vjs-control-bar .vjs-fullscreen-control:hover \n				{ color: "+a+";}\n				.video-js .vjs-play-progress {background-color: "+a+"}\n				.video-js .vjs-volume-level {background-color: "+a+"}\n				.video-info-duration:before {color: "+a+"}\n				.vjs-live .vjs-progress-control{background-color: "+a+"}\n				"+b,e=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",f.styleSheet?f.styleSheet.cssText=c:f.appendChild(document.createTextNode(c)),e.appendChild(f)}var f="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,g=c(f),h=a("..\\config"),i=c(h),j={},k=function(a){if(a!==!1){var b=this,c=b.options().reactskin;if(!c){var d=b.options(),f=d.agent,g=d.querry;j=f;var h=i["default"].colors,k=g.skin_color?"#"+g.skin_color:h[g._site];k=k||h.soha;var l=g._site||"soha";if(g.control===!1)return void b.addClass("hide-control");e(k),f.isMobile&&b.addClass("vjs-mobile"),b.addClass("vjs-site-skin-"+l)}}};g["default"].plugin("customizeSkin",k)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"..\\config":153}],163:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=function(a){function b(a){{var b=c.VideoSource||{};c.options().querry}switch(a.type){case"fillComplete":e=!0,b.dash&&(d=!0,c.src(b.dash));break;case"updateVideoSource":e&&!d&&c.src(b.dash)}}if(a!==!1){var c=this,d=!1,e=!1,f=c.options().querry,g=(new Date,decodeURIComponent(f.dash));if(g&&"undefined"!==g&&!f.live){var h={src:g,type:"application/dash+xml"};c.VideoSource={dash:h},c.on("updateVideoSource",b),c.one("fillComplete",b)}}};d["default"].plugin("dash",e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],164:[function(a){(function(b){"use strict";function c(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function d(a){return a&&a.__esModule?a:{"default":a}}var e="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,f=d(e),g=a("../util/media-type"),h=(c(g),a("./BetaQuality"),{1:"Bn vui lng ci t cc multimedia plugin"}),i=function(a){function b(a){var b=this.error_;if(b&&!b.display){{c.currentSrc(),c.currentTime(),c.options().querry}switch(console.log("handle error",a),b.message){case"No compatible source was found for this video.":d.isFireFox&&d.isLinux&&c.error({message:h[1],display:!0})}}}if(a!==!1){var c=this,d=c.options().agent,e=c.options().querry;e.live||c.on("error",b)}};f["default"].plugin("errorHandle",i)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/media-type":194,"./BetaQuality":155}],165:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=a("../components/VideoInfo.js"),t=(d(s),r["default"].getComponent("ClickableComponent")),u=(r["default"].getComponent("Button"),r["default"].getComponent("Component"),function(a){function b(a,c){function d(){g.autoplay&&a.trigger("fillComplete")}h["default"](this,b);var e=l["default"](this,f["default"](b).call(this,a,c)),g=a.options().querry||{},i=a.options().agent;return e.startIn=2,e.firstPlay=!1,i.isMobile&&e.addClass("mobile"),g.currentTime&&a.one("play",function(){a.one("canplaythrough",function(){var b=a.mediaInfo.boxVideoID;window.parent.postMessage({event:"canplaythrough",boxVideoID:b},"*")}),a.currentTime(parseFloat(g.currentTime))}),e.one(a,"clickPlayButton",e.handlePlayNow),g.filler===!1&&e.one(a,"autofill",e.handlePlayNow),i.isMobile||g.filler===!1&&!g.autoplay?(e.one(a,"ready",d),l["default"](e)):(a.one("ready",function(){var a=this.player().el_.clientWidth,b=this.player().el_.clientHeight;(200>=a||200>=b)&&d()}),g.autoplay?e.one(a,"ready",e.onMouseEnterHandle):(e.on("mouseenter",e.onMouseEnterHandle),e.on("mouseleave",e.onMouseLeaveHandle),e.one(a,"autofill",e.onMouseEnterHandle)),e)}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"fill-play-button",innerHTML:'<span class="fill-play-border"></span><span class="fill-play-content"></span><span  class="video-play-timer"></span>'})}},{key:"handlePlayNow",value:function(){var a=this.player();this.off("mouseenter"),this.off("mouseleave"),a.trigger("filling"),this.handleClick()}},{key:"onMouseEnterHandle",value:function(){var a=this.player().options().querry||{};this.removeClass("reset"),this.addClass("filling"),this.clearInterval(this.timeout),this.startIn=2,this.player().trigger("filling"),this.timeout=this.setInterval(this.onIntervalHandle,750),a.autoplay&&(this.el().getElementsByClassName("video-play-timer")[0].textContent="Video play in "+this.startIn),this.startIn--}},{key:"onMouseLeaveHandle",value:function(){this.clearInterval(this.timeout),this.removeClass("filling"),this.addClass("reset"),this.startIn=2}},{key:"onIntervalHandle",value:function(){var a=this.player(),b=a.options().querry||{};return a.trigger("filling"),0===this.startIn?void this.handleClick():(b.autoplay&&(this.el().getElementsByClassName("video-play-timer")[0].textContent="Video play in "+this.startIn),void this.startIn--)}},{key:"handleClick",value:function(){var a=this.player();a.trigger("fillComplete"),this.dispose(),a.removeChild("fillPlayButton"),a.addClass("vjs-has-started")}},{key:"dispose",value:function(){n["default"](f["default"](b.prototype),"dispose",this).call(this),this.handleBlur()}}]),b}(t));u.prototype.options_={children:{videoInfo:{}}},r["default"].registerComponent("FillPlayButton",u),c["default"]=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/VideoInfo.js":150,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],166:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/core-js/object/get-prototype-of"),e=c(d),f=a("babel-runtime/helpers/classCallCheck"),g=c(f),h=a("babel-runtime/helpers/createClass"),i=c(h),j=a("babel-runtime/helpers/possibleConstructorReturn"),k=c(j),l=a("babel-runtime/helpers/get"),m=c(l),n=a("babel-runtime/helpers/inherits"),o=c(n),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=c(p),r=a("store"),s=c(r),t=a("../components/QuickMuteToogle"),u=(c(t),q["default"].getComponent("Component")),v=q["default"].getComponent("VolumeBar"),w=q["default"].getComponent("Popup"),x=q["default"].getComponent("VolumeMenuButton"),y=q["default"].getComponent("ClickableComponent");x.prototype.createPopup=function(){var a=new w(this.player_,{contentElType:"div"}),b=new v(this.player_,this.options_.volumeBar);return a.addChild(b),a.addChild("divide"),this.volumeBar=b,this.popup=a,this.attachVolumeBarEvents(),a},x.prototype.attachVolumeBarEvents=function(){this.on(this.popup,["mousedown","touchdown"],this.handleMouseDown)};var z=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c)),f=void 0;return d.on(a,"volumechange",function(){var b=a.volume();a.muted()&&(b=0),this.addClass("volume-change"),this.el().innerHTML=window.Math.round(100*b)+" %",this.clearTimeout(f),f=this.setTimeout(function(){this.removeClass("volume-change")},1e3)}),d}return o["default"](b,a),i["default"](b,[{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"volume-level-label"})}}]),b}(u);u.registerComponent("VolumeLevelLabel",z);var A=function(a){function b(a,c){g["default"](this,b);var d=k["default"](this,e["default"](b).call(this,a,c));return d.on(a,"volumechange",d.update),a.options().agent.isMobile||(d.on("mouseover",d.onMouseOver),d.on("mouseout",d.onMouseout)),a.tech_&&a.tech_.featuresVolumeControl===!1&&d.addClass("vjs-hidden"),d.on(a,"loadstart",function(){this.update(),a.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),d}return o["default"](b,a),i["default"](b,[{key:"onMouseOver",value:function(){this.children_[0].userHover(!0),this.addClass("user-hover")}},{key:"onMouseout",value:function(){
this.children_[0].userHover(!1),this.removeClass("user-hover")}},{key:"handleClick",value:function(){var a=this.player_.muted();if(this.player_.muted(a?!1:!0),a){var b=this.player_.volume();if(0!==b)return;this.player_.volume(.6)}}},{key:"update",value:function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:.33>a?b=1:.67>a&&(b=2);for(var c=0;4>c;c++)this.removeClass("vjs-vol-"+c);this.addClass("vjs-vol-"+b),this.active()}},{key:"active",value:function(){if(this.checkInactive(),!this._active){this._active=!0,this.show();var a=this;this.setTimeout(function(){a.addClass("active")},100)}}},{key:"checkInactive",value:function(){var a=this;this.clearTimeout(this._inactiveTimeout),this.clearTimeout(this._hideTimeout),this._inactiveTimeout=this.setTimeout(function(){a.removeClass("active"),this._active=!1,a._hideTimeout=a.setTimeout(function(){a.hide()},2e3)},1500)}},{key:"createEl",value:function(){return m["default"](e["default"](b.prototype),"createEl",this).call(this,"div",{className:"volume-level-toggle vjs-hidden",innerHTML:'<div class="volume-level-toggle-icon"></div><div class="volume-level-toggle-over"></div>'})}}]),b}(y);A.prototype.options_={children:["volumeLevelLabel"]},u.registerComponent("VolumeLevelToggle",A);var B=function(a){function b(a){var b=g.volume.bind(g);if(g.volume=function(){return arguments.length&&(clearInterval(e),e=null,h=!0,g.volume=b,c()),b.apply(void 0,arguments)},.3>=a)g.volume(a);else{if(g.fillingVolume_=!0,g.addClass("filling-volume"),e)return;e=setInterval(function(){return f+=.01,g.muted()?(c(),clearInterval(e)):(f>=a&&(clearInterval(e),e=null,f=a,h=!0,c()),void b(f))},100)}}function c(){g.fillingVolume_=!1,g.removeClass("filling-volume"),g.trigger("stop-fill-volume")}function d(a,b){if("vertical"===b.type){var c=g.el().clientWidth/3;switch(a.type){case"panstart":r=g.volume();break;case"pan":var d=r-b.ydiff/c;g.volume(d)}}}if(a!==!1){var e,f=.1,g=this,h=!1,i=g.options().querry,j=g.options().agent,k=(i.autoplay,i._site),l=s["default"].get(k+":volume"),m=s["default"].get(k+":mute")===!0?!0:!1,n=void 0===l?l:l.toString(),o=i.mute?!0:m,p=window.parseFloat(i.volume||n||.5);i.volume&&!i.mute&&(o=!1);var q=o?0:p;if(j.isMobile&&(q=1,o=!1),g.options({volume:q,muted:o}),g.one("ready",function(){try{var a=g.controlBar.volumeMenuButton.volumeBar;g.volume(q),a.update()}catch(b){g.volume(q)}}),g.on("pan",d),g.on("panstart",d),!j.isMobile){g.addChild("quickMuteToogle",{},3),g.addChild("quickMuteToogleProgress",{},4);var r=void 0;g.on("loadedmetadata",function(){function a(){return g.hasClass("vjs-vpaid-flash-ad")?void 0:h&&g.__session_mute?void g.muted(g.__session_mute):h&&g.__session_volume?(g.muted(!1),void g.volume(g.__session_volume)):void(o?(h=!0,g.volume(0),g.muted(!0),c()):(g.muted(!1),b(p)))}g.one("play",a),g.one("playing",a)})}}};q["default"].plugin("fillVolume",B)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/QuickMuteToogle":147,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19,store:135}],167:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=function(a){if(a!==!1){var b=this;b.addClass("full-screen-embed"),b.on("ended",function(){b.hasClass("vjs-ad-playing")||b.exitFullscreen()})}};d["default"].plugin("fullScreenEmbed",e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],168:[function(a){(function(b){"use strict";function c(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function d(a){return a&&a.__esModule?a:{"default":a}}var e="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,f=d(e),g=a("../util/media-type"),h=(c(g),a("./BetaQuality"),function(a){function b(){var a=this.error_;console.log("error",a)}if(a!==!1){var c=this,d=(c.options().agent,c.options().querry);d.live&&c.on("error",b)}});f["default"].plugin("handleErrorLive",h)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/media-type":194,"./BetaQuality":155}],169:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../components/HotKeys"),g=(c(f),e["default"].getComponent("PlayProgressBar"),function(a){if(a!==!1){var b=this;b.addChild("hotKeys");var c={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!0},d=e["default"].mergeOptions||e["default"].util.mergeOptions;a=d(c,a||{});var f=a.volumeStep,g=a.seekStep,h=a.enableMute,i=a.enableFullscreen,j=a.enableNumbers,k=a.enableJogStyle,l=a.alwaysCaptureHotkeys;b.el().hasAttribute("tabIndex")||b.el().setAttribute("tabIndex","-1"),l&&b.one("play",function(){b.el().focus()}),b.on("play",function(){var a=b.el().querySelector(".iframeblocker");a&&""===a.style.display&&(a.style.display="block",a.style.bottom="39px")});var m=function(a){var c,d,e=a.which;try{d=b.controlBar.progressControl.seekBar.playProgressBar}catch(m){}if(b.controls()){var n=document.activeElement;if(l||n===b.el()||n===b.el().querySelector(".vjs-tech")||n===b.el().querySelector(".vjs-control-bar")||n===b.el().querySelector(".vjs-transform-button")||n===b.el().querySelector(".iframeblocker")||-1!==n.className.indexOf("react-skin"))switch(e){case 37:if(a.preventDefault(),b.hasClass("vjs-ad-playing"))return;c=b.currentTime()-g,b.currentTime()<=g&&(c=0),d&&d.update(c),b.currentTime(c);break;case 39:if(a.preventDefault(),b.hasClass("vjs-ad-playing"))return;d&&d.update(b.currentTime()+g),b.currentTime(b.currentTime()+g);break;case 40:a.preventDefault(),k?(c=b.currentTime()-1,b.currentTime()<=1&&(c=0),b.currentTime(c)):b.volume(b.volume()-f);break;case 38:a.preventDefault(),k?b.currentTime(b.currentTime()+1):b.volume(b.volume()+f);break;case 77:h&&b.muted(b.muted()?!1:!0);break;case 70:i&&(b.isFullscreen()?b.exitFullscreen():b.requestFullscreen());break;default:if((e>47&&59>e||e>95&&106>e)&&j){var o=48;e>95&&(o=96);var p=e-o;a.preventDefault(),b.currentTime(b.duration()*p*.1)}}}};return b.on("keydown",m),this}});e["default"].plugin("hotKeys",g)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/HotKeys":139}],170:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d,e=a("babel-runtime/core-js/object/get-prototype-of"),f=c(e),g=a("babel-runtime/helpers/classCallCheck"),h=c(g),i=a("babel-runtime/helpers/createClass"),j=c(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=c(k),m=a("babel-runtime/helpers/get"),n=c(m),o=a("babel-runtime/helpers/inherits"),p=c(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=c(q),s=(a("./ShareTool"),r["default"].getComponent("ClickableComponent")),t=r["default"].getComponent("Button"),u=r["default"].getComponent("Component"),v=navigator.userAgent.match(/(?!.*Chrome).*Version\/(\d+).*Safari/i),w=v?v[1]:null;v&&6>w&&(d=!0);var x=function(a){function b(a,c){h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return d.on(a,"endedcontent",d.onShowListSuggest),d.on(a,"replaycontent",function(){this.hide()}),d}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-finish-play-bar vjs-hidden"})}},{key:"onShowListSuggest",value:function(){this.show()}}]),b}(s);r["default"].registerComponent("_ListSuggest",x),x.prototype.options_={children:{FinishPlayHeader:{},ListWallSuggestBaner:{}}};var y=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-finish-play-header"})}},{key:"buildCSSClass",value:function(){return"vjs-finish-play-header"}}]),b}(u);r["default"].registerComponent("FinishPlayHeader",y),y.prototype.options_={};var z=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-logo-site ",innerHTML:'<div \n            	class="vjs-logo-image" \n            	tabindex="-1" \n            	style="\n            		background: url(//vcplayer.mediacdn.vn/public/image/logo_vtv.png) no-repeat; \n            		background-size: cover;\n            		width: inherit;\n            		height: inherit;"\n            </div>'})}},{key:"buildCSSClass",value:function(){return"vjs-replay-button"}}]),b}(u);r["default"].registerComponent("LogoSite",z);var A=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"buildCSSClass",value:function(){return"vjs-line-vertical"}}]),b}(u);r["default"].registerComponent("VerticalBar",A);var B=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-replay-button ",innerHTML:'<div class="img-replay"></div><div class="text-replay">Xem Li</div>'})}},{key:"buildCSSClass",value:function(){return"vjs-replay-button"}},{key:"handleClick",value:function(){var a=this.player();a.trigger("replaycontent"),a.currentTime(0),a.play()}}]),b}(t);r["default"].registerComponent("ReplayButton",B);var C=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-finish-share-bar"})}},{key:"buildCSSClass",value:function(){return"vjs-finish-share-bar"}}]),b}(u);r["default"].registerComponent("FinishShareBar",C),C.prototype.options_={children:{TextShareFinish:{},ContentShareBar:{}}};var D=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-text-share-finish",innerHTML:"<span>Chia s</span>"})}},{key:"buildCSSClass",value:function(){return"vjs-text-share-finish"}}]),b}(u);r["default"].registerComponent("TextShareFinish",D);var E=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-list-wall-suggest-banner",innerHTML:'<div class="vjs-line-horizontal"></div>'})}},{key:"buildCSSClass",value:function(){return"vjs-list-wall-suggest-banner"}}]),b}(u);r["default"].registerComponent("ListWallSuggestBaner",E),E.prototype.options_={children:{ListWallSuggest:{}}};var F=function(a){function b(a,c){h["default"](this,b);var d=l["default"](this,f["default"](b).call(this,a,c));return d.state_="IDE",d.on(a,"updatelist",d.updatelist),d.on(a,"ended",d.handleEnded),d}return p["default"](b,a),j["default"](b,[{key:"createEl",value:function(){return n["default"](f["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-list-wall-suggest"})}},{key:"buildCSSClass",value:function(){return"vjs-list-wall-suggest"}},{key:"handleEnded",value:function(){var a=this,b=this.player(),c=b.options(),d=c.querry._listsuggest;if((!b.vast||!b.vast.adUnit)&&d&&"IDE"===a.state_){var e=new XMLHttpRequest;e.open("GET",decodeURIComponent(d),!0),e.send(),e.onload=function(){4===this.readyState&&200===this.status&&"INIT"!==a.state_&&(a.state_="INIT",window.addEventListener("resize",r["default"].bind(a,a.onResize)),b.trigger({type:"updatelist",data:this.response}))}}}},{key:"updatelist",value:function(a){var b=this,c=this.player(),d=b.xmlToJson(b.parseXml(a.data)).videolist.video;if(d.length){d=d.splice(0,6);var e=b.setInterval(function(){b.onResize(),b.firstResize&&b.clearInterval(e)},200)}for(var f=0;f<d.length;f++){var g=d[f].name,h=d[f].author||"",i=d[f].duration,j=d[f].link,k=encodeURI(d[f].thumb),l=d[f].vid;/^00:(.*)\./.test(i)&&(i=i.match(/^00:(.*)\./)[1]),this.addChild(new G(c,{el:r["default"].createEl("div",{className:"vjs-brick-of-wall-suggest",innerHTML:'<a vid="'+l+'" id="vjs-brick-container-item-link-'+f+'" class="vjs-brick-container-item-link" href="'+j+'" target="_parent"><div class="vjs-brick-container-item-thumb" style="background: url('+k+') no-repeat; background-size: cover;"></div><div class="vjs-brick-container-item-text"><div class="vjs-brick-container-item-text-title"><br>'+g+'</div><div class="vjs-brick-container-item-text-meta">'+h+"<br>"+i+"</div></div></a>"})}))}}},{key:"parseXml",value:function(a){if(window.DOMParser)return(new window.DOMParser).parseFromString(a,"text/xml");if("undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){var b=new window.ActiveXObject("Microsoft.XMLDOM");return b.async=!1,b.loadXML(a),b}return null}},{key:"xmlToJson",value:function(a){var b=this,c={};if(1===a.nodeType){if(a.attributes.length>0)for(var d=0;d<a.attributes.length;d++){var e=a.attributes.item(d);c[e.nodeName]=e.nodeValue}}else 3===a.nodeType&&(c=a.nodeValue);if(a.hasChildNodes())for(var f=0;f<a.childNodes.length;f++){var g=a.childNodes.item(f),h=g.nodeName;if("undefined"==typeof c[h])c[h]=b.xmlToJson(g);else{if("undefined"==typeof c[h].push){var i=c[h];c[h]=[],c[h].push(i)}c[h].push(b.xmlToJson(g))}}return c}},{key:"onResize",value:function(){var a,b=this,c=(b.player(),b.children());if(!d)return void(b.firstResize=!0);b.el().style.height=b.el().parentElement.clientHeight-130+"px",c.length&&(b.firstResize=!0);for(var e in c)a=c[e].el(),a.style.height=b.el().clientHeight/2-2+"px",a.style.width=b.el().clientWidth/3-5+"px"}}]),b}(u);r["default"].registerComponent("ListWallSuggest",F),F.prototype.options_={uri:"http://s.autopro.com.vn/handlers/video/ListVideoXML.ashx?_videoId=4455"};var G=function(a){function b(a,c){return h["default"](this,b),l["default"](this,f["default"](b).call(this,a,c))}return p["default"](b,a),b}(u);r["default"].registerComponent("BrickOfWallSuggest",G);var H=function(a){var b=this,c=b.options().querry,d=(c._listsuggest,c._site);a===!1||c.replay||("vtv"===d?b.addChild("_ListSuggest",{children:{FinishPlayHeader:{children:{LogoSite:{},VerticalBar:{},FinishShareBar:{},ReplayButton:{}}},ListWallSuggestBaner:{}}}):b.addChild("_ListSuggest",{children:{FinishPlayHeader:{children:{ReplayButton:{},VerticalBar:{},FinishShareBar:{}}},ListWallSuggestBaner:{}}}))};r["default"].plugin("listSuggest",H)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ShareTool":177,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],171:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../tech/VcHls/Hls"),g=c(f),h=function(){function a(){c?b.currentTime(0):c=!0}if(g["default"].supportsNativeHls){var b=this,c=!1;b.on("play",a)}},i=function(a){function b(){d.addClass("vjs-live-started")}function c(a,b){var c=b.action,e=b.data;switch(e=e||{},c){case"reset_source":var f=e,g=f.url;g&&(d.VideoSource={hls:{src:g,type:"application/x-mpegURL"}},d.src(d.VideoSource.hls));break;case"reset_error":d.error(),d.src(d.VideoSource.hls),d.play()}}if(a!==!1){var d=this,e=d.options().querry,f=(d.options().agent,new Date,[]),g=[];if(e.mp4){var i=decodeURIComponent(e.mp4);g.push({src:i})}else if(e.m3u8){var j=decodeURIComponent(e.m3u8);f.push({src:j,type:"application/x-mpegURL"})}else if(e.live){var k=decodeURIComponent(e.live);f.push({src:k,type:"application/x-mpegURL"}),d.one("play",b)}else if(e.rtmp){var l=decodeURIComponent(e.rtmp);g.push({src:l,type:"rtmp/mp4"})}var m=f.concat(g);0!==m.length&&(d.VideoSource={full:m,hls:f,mhls:f,html5:g,mhtml5:g,mfull:m,mp4:g},d.trigger("updateVideoSource"),d.on("recieve_message",c),h.call(d))}};e["default"].plugin("live",i)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tech/VcHls/Hls":185}],172:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(){function a(){c.addClass("ads-midroll"),g.disableupdate=!0,h.off(c,"timeupdate",h.updateContent),i.off(c,"timeupdate",i.updateContent),i.off(c,"loadedmetadata",i.updateContent)}function b(){c.one("play",function(){c.removeClass("ads-midroll")}),g.disableupdate=!1,h.on(c,"timeupdate",h.updateContent),i.on(c,"timeupdate",i.updateContent),i.on(c,"loadedmetadata",i.updateContent)}var c=this,d=c.options().querry.midroll||"",e=c.options().querry||{},f=c.options().noneAds;if(!f&&e.ads!==!1){var g=void 0,h=void 0,i=void 0;try{g=c.controlBar.getChild("progressControl").getChild("seekBar"),h=c.controlBar.getChild("currentTimeDisplay"),i=c.controlBar.getChild("durationDisplay")}catch(j){return}if(g&&!c._adBlock){var k=d.match(/(0\.\d+)/g),l=d.match(/(\d+)(?=s)/g);for(var m in k)g.addChild("midrollMarker",{percent:k[m]});for(var n in l)g.addChild("midrollMarker",{seconds:l[n]});g.addChild("midrollLable"),c.on("vast.adStart",a),c.on("start-midroll",a),c.on("restorePlayer",b),c.controlBar.addChild("midrollRemain")}}}var e="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,f=c(e),g=a("../components/MidrollMarker"),h=(c(g),a("../components/MidrollLable")),i=(c(h),a("../components/MidrollRemain")),j=(c(i),function(){var a=this;a.one("ready",d)});f["default"].plugin("midroll",j)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/MidrollLable":141,"../components/MidrollMarker":142,"../components/MidrollRemain":143}],173:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/helpers/typeof"),e=c(d),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,g=c(f),h=/nld|weball|kinghub|admicro|tuoitre|cnnd|channelvn|soha|adi|dantri|mediacdn|kenh14|family|channelvn|localhost|wechoice|autopro|vtv|gamek|genk|192\.168|123.31|10.3|local/i,i=function(a){function b(){window.addEventListener?window.addEventListener("message",function(a){d(a)},!1):window.attachEvent&&window.attachEvent("onmessage",function(a){d(a)}),c({action:"ready"})}function c(a){var b=arguments.length<=1||void 0===arguments[1]?"*":arguments[1],c=g.mediaInfo.boxVideoID;a.boxVideoID=c;try{window.parent.postMessage(a,b)}catch(d){}}function d(a){var b=a.origin.replace("http://","").replace("www.","");if(h.test(b))try{setTimeout(function(){var b=a.message?"message":"data",c=a[b];f(c)},0)}catch(c){console.log("VCPlayer: don' receive message from "+b)}}function f(a){if("string"==typeof a)switch(!0){case/admSetReff/.test(a):var b=a.match(/admSetReff\("(.*)"\)/);b&&b[1]&&g.trigger("adm-set-reff",b[1]);break;case/admSetUId/.test(a):var d=a.match(/admSetUId\("(.*)"\)/);d&&d[1]&&g.trigger("adm-set-uid",d[1])}var f=a.action,h=function(){switch(f){case"play":if(!g.paused())return{v:void 0};i?(g.play(),g.trigger("playstatechange",{state:"play"})):g.trigger("autofill");break;case"pause":if(g.paused())return{v:void 0};g.pause(),g.trigger("playstatechange",{state:"pause"});break;case"transferData":var b=a.data||{};if(b.shareUrl)return g.options({shareUrl:b.shareUrl}),{v:void 0};g.trigger({type:"transferData",data:b});break;case"setShareUrl":var d=a.data||{};if(d.shareUrl)return g.options({shareUrl:d.shareUrl}),{v:void 0};break;case"error":var e=a.data.message;if(e){g.reset();{new Error(e)}g.error({display:!0,message:e})}break;case"setPoster":var h=a.data.poster;h&&g.poster(h);break;case"request":var k=a.cid,l=a.args,m=a.method;"[object Array]"!==Object.prototype.toString.call(l)&&(l=[]);var n=l[0],o=function(){c({rid:k,method:m,event:n})};switch(m){case"on":g.on(n,o),j[n]=j[n]||[],j[n].push(o);break;case"one":g.one(n,o),j[n]=j[n]||[],j[n].push(o);break;case"off":var p=j[n];if(p&&p.length){for(var q=0;q<p.length;q++)g.off(n,p[q]);delete p[n]}break;case"play":i?(g.play(),g.trigger("playstatechange",{state:"play"})):g.trigger("clickPlayButton");break;default:try{var r=g[m].apply(g,l);c({rid:k,method:m,data:r})}catch(s){}}break;default:g.trigger("recieve_message",a)}}();return"object"===("undefined"==typeof h?"undefined":e["default"](h))?h.v:void 0}if(a!==!1){var g=this,i=!1,j={};g.one("ready",b),g.one(["play","playing"],function(){c({action:"play"}),i=!0})}};g["default"].plugin("postMessageIframe",i)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/typeof":21}],174:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=(d["default"].getComponent("Player"),function(a){function b(){return c.ads_playing?void 0:(d.replay===!0&&d.control===!1&&(c.currentTime(0),c.play()),d.postroll&&"postroll"!==c.ads_type&&e?(e=!1,void c.trigger("start-postroll")):void c.trigger("endedcontent"))}if(a!==!1){var c=this,d=c.options().querry;d.replay&&c.addClass("vjs-loop");var e=!0,f=!1;c.on("replaycontent",function(){e=!0,f=!1}),c.on("endedcontent",function(){e=!1,f=!0}),c.on("ended",b)}});d["default"].plugin("replay",e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],175:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("store"),g=c(f),h=function(a){if(a!==!1){var b=this,c=b.options().querry,d=c._site;b.on("volumechange",function(){var a=b.volume(),e=b.muted();0===a&&b.__session_mute===!0&&e===!1&&b.volume(.6),b.__session_volume=a,b.__session_mute=e,c.nonVol||b.fillingVolume_||(g["default"].set(d+":volume",a),g["default"].set(d+":mute",e))})}};e["default"].plugin("saveVolume",h)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{store:135}],176:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=d["default"].getComponent("Player");e.prototype.poster=function(a){return void 0===a?this.poster_:(a||(a=""),this.poster_=a,this.trigger("posterchange"),this)};var f=function(a){function b(){var a=c.mediaInfo||{},b=c.VideoSource||{},e=c.options().querry,g=e.poster||a.img||b.thumb_url;g&&"string"==typeof g&&(g=decodeURIComponent(g),/thumb_w/.test(g)||(/video-thumbs.mediacdn.vn/.test(g)?g=g.replace(/mediacdn.vn\//,"mediacdn.vn/thumb_w/"+f+"/"):/video-thumbs.vcmedia.vn/.test(g)&&(g=g.replace(/vcmedia.vn\//,"vcmedia.vn/thumb_w/"+f+"/"))),d?c.poster(g):c.options({poster:g}))}if(a!==!1){var c=this,d=!1,e=c.options().agent,f=600;e.isMobile&&(f=480),c.on("updateMediaInfo",b),c.one("ready",function(){d=!0,b()}),c.one("vast.adEnd",function(){c.posterImage.hide()}),b()}};d["default"].plugin("setPoster",f)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],177:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d,e,f,g=a("babel-runtime/core-js/object/get-prototype-of"),h=c(g),i=a("babel-runtime/helpers/classCallCheck"),j=c(i),k=a("babel-runtime/helpers/createClass"),l=c(k),m=a("babel-runtime/helpers/possibleConstructorReturn"),n=c(m),o=a("babel-runtime/helpers/get"),p=c(o),q=a("babel-runtime/helpers/inherits"),r=c(q),s="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,t=c(s),u=t["default"].getComponent("ClickableComponent"),v=t["default"].getComponent("Button"),w=t["default"].getComponent("Component"),x=navigator.userAgent.match(/(?!.*Chrome).*Version\/(\d+).*Safari/i),y=x?x[1]:null;x&&6>y&&(f=!0);var z=function(a){function b(a,c){j["default"](this,b);var d=n["default"](this,h["default"](b).call(this,a,c));return d.on(a,"shareClick",d.onShareClickHandle),d.on(a,"closeShare",d.onCloseShareClickHandle),d.one(a,"shareClick",d.onResize),d.on(a,"play",function(){this.hide(),e=!1}),d}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-share-bar vjs-hidden"})}},{key:"buildCSSClass",value:function(){return"vjs-share-bar"}},{key:"onShareClickHandle",value:function(){this.show(),e=!0}},{key:"onCloseShareClickHandle",value:function(){this.hide(),e=!1,d||this.player().play()}},{key:"onResize",value:function(){var a=this;f&&this.el().parentElement&&(a.el().style.top=(a.el().parentElement.clientHeight-55)/2-84+"px")}}]),b}(w);z.prototype.controlText_="ShareTool Bar",w.registerComponent("ShareToolBar",z),z.prototype.options_={children:{TitleShareBar:{},ContentShareBar:{}}};var A=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-title-share-bar"})}},{key:"buildCSSClass",value:function(){return"vjs-title-share-bar"}}]),b}(w);A.prototype.controlText_="TitleShareBar",w.registerComponent("TitleShareBar",A),A.prototype.options_={children:{TitleTextShareBar:{},CloseShareBar:{}}};var B=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-title-text-share-bar",innerHTML:'<span class="title-share">Chia s</span>',"aria-label":"title text shareBar"})}},{key:"buildCSSClass",value:function(){return"vjs-title-text-share-bar"}}]),b}(w);B.prototype.controlText_="TitleTextShareBar",w.registerComponent("TitleTextShareBar",B);var C=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-close-share-bar",innerHTML:'<span class="close-share-bar">x</span>'})}},{key:"buildCSSClass",value:function(){return"vjs-close-share-bar"}},{key:"handleClick",value:function(){var a=this,b=a.player();b.trigger("closeShare")}}]),b}(v);C.prototype.controlText_="CloseShareBar",w.registerComponent("CloseShareBar",C);var D=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-content-share-bar"})}},{key:"buildCSSClass",value:function(){return"vjs-content-share-bar"}}]),b}(w);D.prototype.controlText_="ContentShareBar",w.registerComponent("ContentShareBar",D),D.prototype.options_={children:{ButtonShareBar:{},ClipBoardText:{}}};var E=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-button-share"})}},{key:"buildCSSClass",value:function(){return"vjs-button-share"}}]),b}(w);E.prototype.controlText_="ButtonShareBar",w.registerComponent("ButtonShareBar",E),E.prototype.options_={children:{FacebookShare:{},ShareLink:{},ShareEmbed:{}}};var F=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-share-facebook share-button vjs-control",innerHTML:'<span class="share-facebook"></span><span class="title-share title-share-facebook">Facebook</span>'})}},{key:"buildCSSClass",value:function(){return"vjs-share-facebook"}},{key:"handleClick",value:function(){var a;try{a=this.player().options().shareUrl||document.referrer||window.top.location.href||window.location.href}catch(b){return}var c=0,d=0;"undefined"!=typeof window.screenLeft?(c=window.screenLeft,d=window.screenTop):"undefined"!=typeof window.screenX&&(c=window.screenX,d=window.screenY);var e=600,f=260;c+=(window.screen.width-e)/2,d+=(window.screen.height-f)/2;window.open("https://www.facebook.com/sharer/sharer.php?u="+a,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+f+",width="+e+",top="+d+",left="+c)}}]),b}(v);F.prototype.controlText_="FacebookShare",w.registerComponent("FacebookShare",F);var G=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-share-sharelink share-button vjs-control",innerHTML:'<span class="share-link"></span><span class="title-share title-share-link">Link</span>'})}},{key:"buildCSSClass",value:function(){return"vjs-share-sharelink"}},{key:"handleClick",value:function(){var a,b=this,c=b.player();try{a=this.player().options().shareUrl||document.referrer||window.top.location.href||window.location.href}catch(d){return}c.trigger({type:"setclipboardtext",value:a})}}]),b}(v);G.prototype.controlText_="ShareLink",w.registerComponent("ShareLink",G);var H=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-share-shareembed share-button vjs-control",innerHTML:'<span class="share-embed"></span><span class="title-share title-share-embed">Embed</span>'})}},{key:"buildCSSClass",value:function(){return"vjs-share-shareembed"}},{key:"handleClick",value:function(){var a,b=this,c=b.player();try{a=this.player().options().shareUrl||document.referrer||window.top.location.href||window.location.href}catch(d){return}var e;try{var f=window.location.href;-1===f.indexOf("urlParent")&&a&&(f+="&urlParent="+a),e="<iframe width="+window.innerWidth+" height="+window.innerHeight+" src="+f+' data-type="video-iframe" frameborder="0" scrolling="no" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" oallowfullscreen="" msallowfullscreen=""></iframe>';

}catch(d){e=a}c.trigger({type:"setclipboardtext",value:e})}}]),b}(v);H.prototype.controlText_="ShareEmbed",w.registerComponent("ShareEmbed",H);var I=function(a){function b(a,c){j["default"](this,b);var d=n["default"](this,h["default"](b).call(this,a,c));return d.on(a,"setclipboardtext",d.onSetClipboardText),d}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-clipboard-share",innerHTML:'<input class="vjs-clipboard-text"><div class="vjs-clipboard-text-copy"> copy</div>'})}},{key:"buildCSSClass",value:function(){return"vjs-clipboard-share"}},{key:"onSetClipboardText",value:function(a){this.el().firstChild.value=a.value,this.el().firstChild.select();try{var b;document.createRange&&(b=document.execCommand("copy")),b&&(this.el().lastChild.style.display="block",this.timeoutCopy=setTimeout(t["default"].bind(this,function(){this.el().lastChild.style.display="none"}),1e3))}catch(c){}}}]),b}(w);I.prototype.controlText_="ClipBoardText",w.registerComponent("ClipBoardText",I);var J=function(a){function b(a,c){j["default"](this,b);var d=n["default"](this,h["default"](b).call(this,a,c));return d.one(a,"play",function(){this.show(),this.on("mouseenter",function(){this.el_.firstChild.style.display="block"}),this.on("mouseleave",function(){clearTimeout(this.timeoutHover),this.el_.firstChild.style.display="none"})}),d}return r["default"](b,a),l["default"](b,[{key:"onUserActive",value:function(){this.show()}},{key:"onUserInactive",value:function(){this.hide()}},{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-share-toggle",innerHTML:'<span class="vjs-share-toggle-hover" style="display: none;">Chia s</span>'})}},{key:"handleClick",value:function(){var a=this,b=a.player();e||(d=b.paused(),d||b.pause(),b.trigger("shareClick"))}}]),b}(v);t["default"].registerComponent("ShareToolToggle",J);var K=function(a){function b(a,c){return j["default"](this,b),n["default"](this,h["default"](b).call(this,a,c))}return r["default"](b,a),l["default"](b,[{key:"createEl",value:function(){return p["default"](h["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-share"})}}]),b}(u);t["default"].registerComponent("_ShareTool",K),K.prototype.options_={children:{ShareToolBar:{},ShareToolToggle:{}}};var L=function(a){if(a!==!1){var b=this;b.addChild("_ShareTool",a)}};t["default"].plugin("shareTool",L)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],178:[function(){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}var c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,d=b(c),e=function(a){if(a!==!1){var b=this,c=b.mediaInfo||{},d=function(a){b.trigger("have-ads-data",{vast:{url:a}})},e=function(){var a=b.mediaInfo||{};a.tag&&d("http://123.31.11.105/public/vast/vast.xml")};c.tag?d("http://123.31.11.105/public/vast/vast.xml"):b.one("play",function(){b.off("updateMediaInfo",e)})}};d["default"].plugin("testAdmicro",e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],179:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/helpers/extends"),e=c(d),f=a("babel-runtime/helpers/typeof"),g=c(f),h="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,i=c(h),j=a("../util/format-time"),k=(c(j),a("../tech/VcHls/Ranges")),l=(c(k),{"afamily.vn":1,"autopro.com.vn":2,"cafef.vn":3,"dantri.com.vn":4,"gamek.vn":5,"genk.vn":6,"kenh14.vn":7,"soha.vn":8,"giadinh.net.vn":9,"nld.com.vn":10,"lazada.vn":11,"bds.rongbay.com":12,"muachung.vn":13,"6giosang.com":14,"m.dantri.com.vn":16,"cafebiz.vn":17,"m.kenh14.vn":18,"vccloud.vn":19,"m.soha.vn":20,"m.gamek.vn":21,"m.genk.vn":22,"m.autopro.com.vn":23,"m.afamily.vn":24,"m.cafebiz.vn":25,"m.cafef.vn":26,"m.giadinh.net.vn":27,"vneconomy.vn":28,"m.vneconomy.vn":29,"analytics.admicro.vn":30,"m.nld.com.vn":31,"nguyenkim.com":32,"publisher-website":35,vc:36,"suckhoedoisong.vn":38,"muare.vn":39,"tratu.soha.vn":40,"socnhi.com":41,"enbac.com":42,"ttvnol.com":43,"linkhay.com":44,"f319.com":45,"vtv.vn":46,"rongbay.com":47,"rongbay.vn":48,"m.vtv.vn":49,"m.linkhay.com":50,"m.enbac.com":51,"plaza.muachung.vn":52,"all.enbac.com":53,"oto.enbac.com":54,"waf.afamily.vn":55,"vntm.kenh14.vn":56,"herewego.kenh14.vn":59,"laodong.com.vn":60,"m.laodong.com.vn":61,"thanhnien.vn":62,"tuoitre.vn":63,"nemo.vn":64,"marketingit.admicro.vn":65,"nextgen.kenh14.vn":66,"quizz.kenh14.vn":67,"phimchat.net":69,"sannhac.com":70,"wechoice.vn":71,"card.sacombank.com.vn":73,"admicro1-3.thanhnien.vn":77,"thanhnien-other.thanhnien.vn":78,"eva.vn":79,"m.eva.vn":80,"m.thanhnien.vn":81,"thethao.thanhnien.vn":82}),m={0:0,144:1,240:2,360:3,480:4,720:5,1080:6},n=function(a){function b(a){var b=arguments.length<=1||void 0===arguments[1]?a:arguments[1];a=0>a?0:a;{var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60);Math.floor(b/3600)}return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=(10>e?"0"+e:e)+":",d=((e||f>=10)&&10>d?"0"+d:d)+":",c=10>c?"0"+c:c,e+d+c}function c(a){function b(a,b){var c=f[a];c.tracked||d(c,b)&&(c.tracked=!0,I({evt:A[a]}))}if(f){var c=f.firstQuartile,e=f.midpoint,g=f.thirdQuartile;c.tracked||b("firstQuartile",a),e.tracked||b("midpoint",a),g.tracked||b("thirdQuartile",a)}}function d(a,b){var c=a.time;return b>=c&&c+5e3>=b}if(a!==!1){var f,h,i="-1",j="-1",k="-1",n="//lg1.logging.admicro.vn/video_track?",o=this,p=o.options().querry,q=o.options().info,r=o.options().agent,s=r.isMobile,t=(o.mediaInfo,p.ref?decodeURIComponent(p.ref):document.referrer),u=t.match(/(http[s]?:\/\/)?([^\/\s]+)(\/.*)/),v=0,w=p._info||"-1",x=p.vtype||"-1",y=p.onlyAds?0:p.live?2:1;u&&u.length&&(i=u[3],j=u[2],k=l[j]||"-1");var z=q.pid,A={load:1,play:2,replay:3,pause:4,resume:5,fullscreen:6,normalscreen:7,firstQuartile:8,midpoint:9,thirdQuartile:10,endedcontent:11,changeQuality:12,poll:14,close:15,user_change_quality:16,auto_change_quality:17,current_resolution_change:18,error:20,waiting:21,adstart:22,"bit-receive":23},B={preroll:1,midroll:2,postroll:3,interactive:4},C={key:w,dmn:j,dmnid:k,path:i,vtype:x,vtarget:y,ref:"-1",bw:"-1",pid:z,vdu:"-1",ctime:"-1",guid:"-1"};o.one("adm-set-uid",function(a,b){C.guid=b});try{window.parent.postMessage("admGetUid","*")}catch(D){}p.ref&&(C.ref=t);var E,F,G=function ia(a,b){var c,d=[];for(c in a)if(a.hasOwnProperty(c)){var e=b?b+"["+c+"]":c,f=a[c];d.push(null!==f&&"object"===("undefined"==typeof f?"undefined":g["default"](f))?ia(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return d.join("&")},H=!1,I=function(a){var b=!H&&1!==a.evt&&20!==a.evt;if(!b){var c=e["default"]({},C,a,{pdu:Math.ceil(v)}),d=G(c),f=new Image;f.src=n+d}},J=function(){C.bw=Math.ceil(o.VideoSource.BANDWIDTH)},K=function(){{var a=o.duration();b(a)}"-1"!==C.vdu&&a>0&&a!==1/0&&(C.vdu=b(a)),f={firstQuartile:{tracked:!1,time:Math.round(25*a*1e3)/100},midpoint:{tracked:!1,time:Math.round(50*a*1e3)/100},thirdQuartile:{tracked:!1,time:Math.round(75*a*1e3)/100}}},L=function(){o.setTimeout(function(){var a=o.currentTime();o.paused()||0!==a||o.trigger("trackerror",2)},1e4)},M=function(){H=!0;var a=[],b=[];try{b=o.VideoSource.qualities}catch(c){}b&&b.length&&b.forEach(function(b){var c=m[b];a.push(c)}),a=a.join(),I({evt:A.play,qua:a})},N=function(){return E>=1080?1080:E>=720?720:E>=480?480:E>=360?360:E>=240?240:144},O=function(){var a=o.currentTime(),b=1e3*a;C.ctime=Math.ceil(a),P(b);try{var c=document.getElementById("video_html5_api")||document.getElementById("video_Html5_api"),d=c.videoHeight;if(E===d)return;E=d;var e=N(),f=m[e];if(!f)return;I({evt:A.current_resolution_change,cqua:f})}catch(g){}},P=function(a){c(a)},Q=function(){I({evt:A.endedcontent})},R=function(){var a=o.isFullscreen(),b="fullscreen";a||(b="normalscreen"),I({evt:A[b]})},S=function(){var a;try{a=o.vast.vastResponse}catch(b){}if(a&&a.ads&&0!==a.ads.length){var c=a.ads[0].id,d=B[o.ads_type];I({evt:A.adstart,bid:c,atype:d})}},T=function(){var a=o.paused(),b="pause";a||(b="resume"),I({evt:A[b]})},U=function(){var a=Math.ceil(100*o.volume()),b=o.muted(),c=a+":0";b||(c="0:"+a),I({vlm:c})},V=function(a,b){var c=m[b];I({evt:A.user_change_quality,cqua:c})},W=function(a,b){try{var c=b.playlist,d=b.bandwidth,e=c.attributes.RESOLUTION.height,f=m[e];if(C.bw=Math.ceil(d),o.paused())return void(F=f);F&&F===f||(F=f,I({evt:A.auto_change_quality,cqua:f}))}catch(g){}},X=function(a,b){var c=b.bit,d=b.roundTrip,e=c;d>1e3&&(e=1e3*c/d),I({evt:A["bit-receive"],bw:Math.ceil(e)})},Y=0,Z=function(){var a=o.currentTime();if(Y>=a)return void(Y=a);var b=a-Y;v+=b,Y=a},$=function(){o.off("timeupdate",Z),o.one("seeked",function(){Y=o.currentTime(),o.on("timeupdate",Z)})},_=function(){var a=o.currentTime();C.ctime=Math.ceil(a),I({evt:A.waiting})},aa=function(){o.one("timeupdate",function(){I({evt:A.replay})})},ba=function(){var a=Math.ceil(o.currentTime());o.one("seeked",function(){var b=Math.ceil(o.currentTime());I({stime:a+":"+b})})};window.onbeforeunload=function(){var a=o.currentTime();I({evt:A.close,lvt:a})};var ca=function(){h&&da(),h=setInterval(function(){var a=N(),b=m[a],c=0,d=0;try{var e=o.buffered(),f=o.currentTime();c=e.end(e.length-1)-f,c=c>=0?Math.floor(c):0}catch(g){}try{d=o.tech_.el_.webkitDroppedFrameCount?o.tech_.el_.webkitDroppedFrameCount:o.tech_.el_.getVideoPlaybackQuality().droppedVideoFrames}catch(g){}I({evt:A.poll,cqua:b,bft:c,drf:d})},6e3)},da=function(){clearInterval(h)};o.one("play",M),o.one("play",L),o.one("updateVideoSource",J),o.one("loadedmetadata",K),o.on("timeupdate",O),o.one("endedcontent",Q),o.on("fullscreenchange",R),o.on("changeRes",V),o.on("auto-playlist-selected",W),o.on("bit-receive",X),o.on("waiting",_),o.on("timeupdate",Z),o.on("seeking",$),o.on("endedcontent",aa),o.on("vast.adStart",S);var ea=function(){o.off("play",ca),o.off("timeupdate",Z),da()},fa=function(){o.on("timeupdate",Z),o.on("play",ca)},ga=function(a,b){C.ref=b},ha=function(a,b){I({evt:A.error,err:b})};o.on("play",ca),o.on("pause",da),o.on("ended",da),o.on("vast.adStart",ea),o.on("restorePlayer",fa),o.on("adm-set-reff",ga),o.on("trackerror",ha),I({evt:A.load}),o.one("ready",function(){var a=void 0,b=void 0,c=void 0,d=void 0,e=void 0,f=void 0;if(a=o.getChild("OverPlayer"),o.controlBar&&(b=o.controlBar.getChild("playToggle"),c=o.controlBar.getChild("progressControl"),d=o.controlBar.getChild("volumeMenuButton"),e=d?d.volumeBar:null,f=c?c.seekBar:null),a&&a.on("click",T),b&&b.on("click",T),f&&f.on("slideractive",ba),!s){d&&d.on("click",U),e&&e.on("slideractive",function(){var a=Math.ceil(100*o.volume()),b=o.muted();b&&(a=0),e.one("sliderinactive",function(){var b=Math.ceil(100*o.volume());I({vlm:a+":"+b})})});try{window.parent.postMessage("admGetReff","*")}catch(g){}}})}};i["default"].plugin("tracking",n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tech/VcHls/Ranges":186,"../util/format-time":192,"babel-runtime/helpers/extends":16,"babel-runtime/helpers/typeof":21}],180:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/helpers/get"),e=c(d),f=a("babel-runtime/core-js/object/get-prototype-of"),g=c(f),h=a("babel-runtime/helpers/classCallCheck"),i=c(h),j=a("babel-runtime/helpers/createClass"),k=c(j),l=a("babel-runtime/helpers/possibleConstructorReturn"),m=c(l),n=a("babel-runtime/helpers/inherits"),o=c(n),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=c(p),r=a("object.assign"),s=(c(r),q["default"].getComponent("ClickableComponent"),q["default"].getComponent("Button")),t=q["default"].getComponent("Component"),u=function(a){function b(){return i["default"](this,b),m["default"](this,g["default"](b).apply(this,arguments))}return o["default"](b,a),k["default"](b,[{key:"buildCSSClass",value:function(){return"transform-play"}}]),b}(s);u.prototype.controlText_="transform play",t.registerComponent("TransformPlayButton",u);var v=function(a){function b(){return i["default"](this,b),m["default"](this,g["default"](b).apply(this,arguments))}return o["default"](b,a),k["default"](b,[{key:"buildCSSClass",value:function(){return"transform-pause"}}]),b}(s);v.prototype.controlText_="transform pause",t.registerComponent("TransformPauseButton",v);var w=function(a){function b(a,c){return i["default"](this,b),m["default"](this,g["default"](b).call(this,a,c))}return o["default"](b,a),k["default"](b,[{key:"buildCSSClass",value:function(){return"vjs-transform-button"}},{key:"createEl",value:function(){return e["default"](g["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-transform-button",innerHTML:"<div class='transform-shadow'></div>"})}}]),b}(t);w.prototype.controlText_="transform button",w.prototype.options_={children:["transformPlayButton","transformPauseButton"]};var x=function(a){function b(a,c){i["default"](this,b);var d=m["default"](this,g["default"](b).call(this,a,c));return a.options().agent.isMobile?(d.emitTapEvents(),d.emitSwipeEvents(),d.on(a,"useractive",d.addHandleEvent),d.on(a,"userinactive",d.removeHandleEvent)):(d.on("click",d.handleClick),d.on("mouseout",d.onMouseout),d.on(a,"keydown",d.handleKeyPress),d.on(a,"playstatechange",d._onPlayStateChange)),d}return o["default"](b,a),k["default"](b,[{key:"buildCSSClass",value:function(){return"vjs-overplayer"}},{key:"createEl",value:function(){return e["default"](g["default"](b.prototype),"createEl",this).call(this,"div",{className:"vjs-overplayer"})}},{key:"onMouseout",value:function(a){var b=this.player(),c=b.el_.clientWidth,d=b.el_.clientHeight;a.pageY>0&&a.pageY<d&&a.pageX>0&&a.pageX<c||b.userActive(!1)}},{key:"addHandleEvent",value:function(){this.isHandleEvent||(this.isHandleEvent=!0,this.timeoutInitTapID=this.setTimeout(function(){this.on("tap",this.handleClick),this.on("swipe",this.handleSwipe),this.on("pan",this.handlePan),this.on("panstart",this.handlePan),this.on("panstop",this.handlePan)},100))}},{key:"removeHandleEvent",value:function(){this.player().paused()||(this.isHandleEvent=!1,this.clearTimeout(this.timeoutInitTapID),this.off("tap",this.handleClick),this.off("swipe",this.handleSwipe),this.off("pan",this.handlePan),this.off("panstart",this.handlePan),this.off("panstop",this.handlePan))}},{key:"handleSwipe",value:function(a,b){var c=this.player(),d=c.currentTime(),e=c.volume();switch(b){case"left":c.currentTime(d-30);break;case"right":c.currentTime(d+30);break;case"up":c.volume(e+.1);break;case"down":c.volume(e-.1)}}},{key:"handlePan",value:function(a,b){this.player().trigger(a.type,b)}},{key:"emitSwipeEvents",value:function(){var a=0,b=0,c=0,d=0,e=void 0,f=void 0,g=0,h=null,i=!1,j=this.player(),k=50,l=300,m=void 0,n=function(){return g>1?"horizotial":"vertical"};this.on("touchstart",function(c){b=0,i=j.hasClass("vjs-fullscreen")?!0:j.userActive(),1===c.touches.length&&(h={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},a=(new Date).getTime(),m=!0)}),this.on("touchmove",function(k){if(i&&j.hasClass("vjs-fullscreen"))if(k.preventDefault(),k.touches.length>1)m=!1;else if(h){c=k.touches[0].pageX-h.pageX,d=k.touches[0].pageY-h.pageY,b=Math.sqrt(c*c+d*d),g=Math.abs(c/d);var o=(new Date).getTime()-a;e||(e=n()),o>l&&(f?this.trigger("pan",{type:e,xdiff:c,ydiff:d}):(f=!0,this.trigger("panstart",{type:e,xdiff:c,ydiff:d})))}});var o=function(){m=!1},p=function(){h=null,e=null,f=null};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(f){var h=(new Date).getTime()-a;return h>l?(this.trigger("panstop",{type:e,xdiff:c,ydiff:d}),p()):(p(),void(m===!0&&(k>b||(f.preventDefault(),g>1?c>0?this.trigger("swipe","right"):this.trigger("swipe","left"):d>0?this.trigger("swipe","down"):this.trigger("swipe","up")))))})}},{key:"_onPlayStateChange",value:function(a,b){var c=b.state,d=this,e=d.player();switch(e.TransformButton.removeClass("vjs-paused"),e.TransformButton.removeClass("vjs-playing"),c){case"play":this.timeoutPlay=this.setTimeout(function(){e.TransformButton.addClass("vjs-playing")},10);break;case"pause":this.timeoutPause=this.setTimeout(function(){e.TransformButton.addClass("vjs-paused")},10)}}},{key:"handleClick",value:function(){var a=this,b=a.player();b.TransformButton.removeClass("vjs-paused"),b.TransformButton.removeClass("vjs-playing"),b.paused()?(b.play(),this.timeoutPlay=this.setTimeout(function(){b.TransformButton.addClass("vjs-playing")},10)):(b.pause(),this.timeoutPause=this.setTimeout(function(){b.TransformButton.addClass("vjs-paused")},10)),this.hasClick&&this.handleDbClick(),this.clearTimeout(this.hasClickTimeout),this.hasClick=!0,this.hasClickTimeout=this.setTimeout(function(){this.hasClick=!1},400)}},{key:"handleDbClick",value:function(){var a=this.player();this.clearTimeout(this.timeoutPlay),this.clearTimeout(this.timeoutPause),a.isFullscreen()?a.exitFullscreen():a.requestFullscreen()}},{key:"handleKeyPress",value:function(a){32===a.which||13===a.which?(a.preventDefault(),this.handleClick(a)):e["default"](g["default"](b.prototype),"handleKeyPress",this)&&e["default"](g["default"](b.prototype),"handleKeyPress",this).call(this,a)}}]),b}(t);q["default"].registerComponent("TransformButton",w),q["default"].registerComponent("OverPlayer",x);var y=function(a){if(a!==!1){var b=this,c=b.options().reactskin;c||(b.TransformButton=b.addChild("TransformButton",a,1),b.addChild("OverPlayer",{},3))}};q["default"].plugin("transform",y)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19,"object.assign":132}],181:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("../util/jsonp"),g=(c(f),function(a){if(a!==!1){var b=this;b.options().querry}});e["default"].plugin("videoAutoPlay",g)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/jsonp":193}],182:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/helpers/typeof"),e=c(d),f=a("babel-runtime/core-js/promise"),g=c(f),h="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,i=c(h),j=a("../setting"),k=a("../util/jsonp"),l=c(k),m=function(a){function b(){return new g["default"](function(a,b){return p?void l["default"](p,{},function(c,d){d?a(d):b(c)}):void a(null)})}function c(){return new g["default"](function(a,b){if(!n)return void a(null);var c=n.replace(/^\w*\//,""),d="//api.kinghub.vn/video/api/v1/detailVideoByGet?FileName="+c;i["default"].xhr.get(d,function(c,d,f){if(200===d.statusCode&&"string"==typeof f)try{if(f=JSON.parse(f),"object"===("undefined"==typeof f?"undefined":e["default"](f)))return a(f);b(f)}catch(c){b(c)}else b(c)})})}if(a!==!1){var d=this,f=d.options().info||{},h=d.options().querry||{},k=d.options().agent,m=h._site,n=h.vid,o="tuoitre"===m?"https://p1micro.tuoitre.vn/v1/video-api/info/":h.new_info_domain?"//p1.cnnd.vn/v1/video-api/info/":"//vscc-hosting.mediacdn.vn/json/",p=h._info?o+h._info:h._info;d.mediaInfo={},d.mediaInfo=i["default"].mergeOptions(d.mediaInfo,k),d.mediaInfo=i["default"].mergeOptions(d.mediaInfo,f),c()["catch"](function(){return null}).then(function(a){return a?a:b()}).then(function(a){a&&(d.mediaInfo=i["default"].mergeOptions(d.mediaInfo,a),d.mediaInfo=i["default"].mergeOptions(d.mediaInfo,f),-1!==j.noneTitle.indexOf(m)&&(d.mediaInfo.title=""),d.trigger("updateMediaInfo"))})}};i["default"].plugin("videoMediaInfo",m)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../setting":184,"../util/jsonp":193,"babel-runtime/core-js/promise":11,"babel-runtime/helpers/typeof":21}],183:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d=a("babel-runtime/core-js/json/stringify"),e=c(d),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,g=c(f),h=a("../util/jsonp"),i=(c(h),{144:16e4,240:213333,360:506666,480:1e6,720:1693333}),j=function(a){function b(a){var b=[],c=[],e=[],g=[],k=[];if(f=(new Date).getTime(),h=36*a.length*1024/(f-d),a=JSON.parse(a),a.hls&&-1!==a.hls.indexOf(".m3u8")&&b.push({src:a.hls,type:"application/x-mpegURL"}),a.mhls&&-1!==a.hls.indexOf(".m3u8")&&c.push({src:a.mhls,type:"application/x-mpegURL"}),a.mp4&&/\.mp4/i.test(a.mp4)&&k.push({src:a.mp4,type:"video/mp4"}),a.html5&&0!==a.html5.length){a.html5.sort(function(a,b){try{var c=parseInt(a.match(/_(\d*)p\.(mp4)$/i)[1]),d=parseInt(b.match(/_(\d*)p\.(mp4)$/i)[1]);return"undefined"==typeof c?-1:c-d}catch(e){return-1}});for(var m=0;m<a.html5.length;m++)try{var n=parseInt(a.html5[m].match(/_(\d*)p\.(mp4)$/i)[1]),o={src:a.html5[m],type:"video/mp4","data-res":n};l.push(n),360>=n?(e.unshift(o),g.unshift(o)):i[n]<h?e.unshift(o):e.push(o)}catch(p){}}j.VideoSource={full:b.concat(e),hls:b,mhls:c,html5:e,mhtml5:g,mfull:c.concat(g),mp4:k,thumb_url:a.thumb_url,BANDWIDTH:h,qualities:l},j.trigger("updateVideoSource")}function c(){d=(new Date).getTime(),g["default"].xhr({uri:q,method:"GET",timeout:1e4},function(a,d,f){if(200===d.statusCode)b(f);else if(k){var g=new Error(e["default"]({vid:m.vid,body:f}));j.error({message:"Video hin cha sn sng",display:!0,log:!0,url:q}),j.trigger("trackerror",1),Raven&&"function"==typeof Raven.captureException&&Raven.captureException(g)}else k=!0,c()})}if(a!==!1){var d,f,h,j=this,k=!1,l=[],m=j.options().querry,n=new Date,o=m.onlyAds?"vinteractive/non_content.mp4":m.vid,p=m.stgdmn?m.stgdmn:"hls.mediacdn.vn",q=o?"//"+p+"/"+m.vid+".json?r="+n.getTime():o;q&&(!(m.live||m.m3u8||m.mp4||m.rtmp)||m.onlyAds)&&c()}};g["default"].plugin("videoSource",j)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/jsonp":193,"babel-runtime/core-js/json/stringify":3}],184:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.noneTitle=["vtv"],c.colors={kenh14:"rgb(255, 84, 0)",dantri:"rgb(0, 65, 117)",vtv:"rgb(183, 0, 2)",livevtv:"rgb(202, 24, 0)",afamily:"rgb(235, 75, 101)",soha:"rgb(51, 153, 144)",sohanews:"rgb(51, 153, 144)",gamek:"rgb(237, 72, 72)",genk:"rgb(219, 32, 38)",autopro:"rgb(202, 0, 2)",cafef:"rgb(204, 0, 0)",nld:"rgb(152, 0, 0)",suckhoedoisong:"rgb(152, 0, 0)",giadinhnet:"rgb(194, 26, 92)",giadinh:"rgb(194, 26, 92)","beta.autopro":"rgb(202, 0, 2)",ttvn:"rgb(0, 127, 116)","toilangnghe.kenh14.vn":"rgb(0, 165, 230)"}},{}],185:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/promise"),f=d(e),g="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,h=d(g),i=a("../../util/agent"),j=(h["default"].getComponent("Html5"),h["default"].getComponent("Flash"),1.2),k=h["default"].Hls,l=function(a,b){var c=void 0;return a?(c=window.getComputedStyle(a),c?c[b]:""):""};k.supportsNativeHls=function(){var a=document.createElement("video");if("Win32"===navigator.platform&&i.agent.isMobile)return!1;if(!h["default"].getComponent("Html5").isSupported())return!1;if(!(i.agent.isChrome||i.agent.isSafari||i.agent.isEdge))return!1;if(i.agent.isChrome&&i.agent.version<50)return!1;var b=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return b.some(function(b){return/maybe|probably/i.test(a.canPlayType(b))})}(),k.STANDARD_PLAYLIST_SELECTOR=function(){var a=void 0,b=this.playlists.master.playlists.slice(),c=[],d=+new Date,e=void 0,f=void 0,g=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=h["default"]("video");try{var s=this.masterPlaylistController_.mainSegmentLoader_,t=s.bandwidth*s.roundTrip/1e3;r.trigger("bit-receive",{bit:t,roundTrip:s.roundTrip})}catch(u){}if(b.sort(k.comparePlaylistBandwidth),b=b.filter(function(a){return"undefined"!=typeof a.excludeUntil?d>=a.excludeUntil:!0}),this.currentLevel>=0)return b[this.currentLevel];for(e=b.length;e--;)f=b[e],f.attributes&&f.attributes.BANDWIDTH&&(a=f.attributes.BANDWIDTH*j,a<this.bandwidth&&(c.push(f),g||(g=f)));for(e=c.length,c.sort(k.comparePlaylistResolution),f=null,p=parseInt(l(this.tech_.el(),"width"),10),q=parseInt(l(this.tech_.el(),"height"),10),i.agent.isMobile||(p=640>p?640:p,q=480>q?480:q);e--;)if(f=c[e],f.attributes&&f.attributes.RESOLUTION&&f.attributes.RESOLUTION.width&&f.attributes.RESOLUTION.height){var v=f.attributes.RESOLUTION;if(v.width===p&&v.height===q){m=null,o=f;break}if(v.width<p&&v.height<q)break;(!m||v.width<n.width&&v.height<n.height)&&(m=f,n=m.attributes.RESOLUTION)}return m=m||o||g||b[0],r.trigger("auto-playlist-selected",{playlist:m,bandwidth:this.bandwidth}),m},k.ping=function(){return new f["default"](function(a,b){var c=k.xhr({uri:"/ping"},function(d){return c?d?b(d):void a():void 0})})},c["default"]=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util/agent":190,"babel-runtime/core-js/promise":11}],186:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/slicedToArray"),f=d(e),g="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,h=d(g),i=1/30,j=function(a,b){var c=f["default"](b,2),d=c[0],e=c[1];return Math.min(Math.max(d,a),e)},k=function(a,b){var c=[],d=void 0;if(a&&a.length)for(d=0;d<a.length;d++)b(a.start(d),a.end(d))&&c.push([a.start(d),a.end(d)]);return h["default"].createTimeRanges(c)},l=function(a,b){return k(a,function(a,c){return b>=a-i&&c+i>=b})},m=function(a,b){return k(a,function(a){return a-i>=b})},n=function(a,b){return k(a,function(a,c){return b>=c-i})},o=function(a,b){var c=void 0,d=void 0,e=void 0,f=[],g=[],h=function(a){return a[0]<=e&&a[1]>=e};if(a)for(c=0;c<a.length;c++)d=a.start(c),e=a.end(c),g.push([d,e]);if(b)for(c=0;c<b.length;c++)d=b.start(c),e=b.end(c),g.some(h)||f.push(e);return 1!==f.length?null:f[0]},p=function(a,b){var c=null,d=null,e=0,f=[],g=[];if(!(a&&a.length&&b&&b.length))return h["default"].createTimeRange();for(var i=a.length;i--;)f.push({time:a.start(i),type:"start"}),f.push({time:a.end(i),type:"end"});for(i=b.length;i--;)f.push({time:b.start(i),type:"start"}),f.push({time:b.end(i),type:"end"});for(f.sort(function(a,b){return a.time-b.time}),i=0;i<f.length;i++)"start"===f[i].type?(e++,2===e&&(c=f[i].time)):"end"===f[i].type&&(e--,1===e&&(d=f[i].time)),null!==c&&null!==d&&(g.push([c,d]),c=null,d=null);return h["default"].createTimeRanges(g)},q=function(a,b,c,d){for(var e=b.end(0)-b.start(0),f=a.end(0)-a.start(0),g=e-f,h=p(a,d),i=p(b,d),j=0,k=0,l=h.length;l--;)j+=h.end(l)-h.start(l),h.start(l)===c&&(j+=g);for(l=i.length;l--;)k+=i.end(l)-i.start(l);return Math.max(j,k)/e*100},r=function(a,b,c,d){var e=a+b,f=h["default"].createTimeRanges([[a,e]]),g=h["default"].createTimeRanges([[j(a,[c,e]),e]]);if(g.start(0)===g.end(0))return 0;var i=q(g,f,c,d);return isNaN(i)||i===1/0||i===-(1/0)?0:i};c["default"]={findRange:l,findNextRange:m,findBackRange:n,findSoleUncommonTimeRangesEnd:o,getSegmentBufferedPercent:r,TIME_FUDGE_FACTOR:i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/slicedToArray":20}],187:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("..\\..\\..\\..\\sub_modules\\videojs-hls\\src\\master-playlist-controller"),f=(d(e),a("./Hls")),g=d(f),h={},i=void 0,j=1e3,k=void 0,l=0,m=void 0;h.blacklistCurrentPlaylist=function(){var a=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],this);a.off("updateConnectState"),a.on("updateConnectState",function(){switch(k){case"connecting":h.retry.call(a);break;case"reconnect":console.log("reconnect"),h.reload.call(a);break;case"lost connect":console.log("lost connect")}}),h.checkNetWork.call(a)},h.reload=function(){var a=this;a.mainSegmentLoader_.error_&&a.load(),a.masterPlaylistLoader_.error&&(a.masterPlaylistLoader_.error=null,a.masterPlaylistLoader_.state="HAVE_METADATA",a.masterPlaylistLoader_.load())},h.retry=function(){var a=this;a.mainSegmentLoader_.error_&&(m!==a.mainSegmentLoader_.error_.xhr.url?(m=a.mainSegmentLoader_.error_.xhr.url,l=0):l++,l>=2&&(l=0,a.mainSegmentLoader_.incrementTimeCorrection_(a.mainSegmentLoader_.playlist_.targetDuration+2,1/0)),a.load()),a.masterPlaylistLoader_.error&&(a.masterPlaylistLoader_.error=null,a.masterPlaylistLoader_.state="HAVE_METADATA",a.masterPlaylistLoader_.load())},h.play=function(){if(!this.setupFirstPlay()&&(this.load(),this.tech_.duration()===1/0)){var a=this.tech_.seekable().start(0)+.01;if(this.tech_.currentTime()<a)return this.tech_.setCurrentTime(a)}},h.checkNetWork=function(){var a=this;window.clearTimeout(i),j=j>=8e3?8e3:2*j,i=setTimeout(function(){g["default"].ping().then(function(){switch(j=1e3,k){case"lost connect":k="reconnect",a.trigger("updateConnectState");break;default:k="connecting",a.trigger("updateConnectState")}})["catch"](function(){k="lost connect",a.trigger("updateConnectState"),h.checkNetWork.call(a)})},j)},c["default"]=h},{"..\\..\\..\\..\\sub_modules\\videojs-hls\\src\\master-playlist-controller":356,"./Hls":185}],188:[function(a){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}var d="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,e=c(d),f=a("./vc-hls-handle"),g=c(f),h=a("./Hls"),i=c(h),j=a("../../util/agent"),k=a("../../util/querry"),l=e["default"].MediaSource,m=function n(a){return{canHandleSource:function(b){if(e["default"].options.hls&&e["default"].options.hls.mode&&e["default"].options.hls.mode!==a)return!1;switch(a){case"html5":if(!(j.agent.isChrome||j.agent.isEdge||j.agent.isFireFox||j.agent.isOpera))return!1;if(k.querry.live&&(j.agent.isIE||"IE 11"===j.agent.version))return!1}return n.canPlayType(b.type)},handleSource:function(b,c,d){"flash"===a&&c.setTimeout(function(){c.trigger("loadstart")},1);var f=e["default"].mergeOptions(d,{hls:{mode:a}});return c.hls=new g["default"](b,c,f),c.hls.xhr=i["default"].xhr,e["default"].Hls.xhr.beforeRequest&&(c.hls.xhr.beforeRequest=e["default"].Hls.xhr.beforeRequest),c.hls.src(b.src),c.hls},canPlayType:function(a){return n.canPlayType(a)?"maybe":""}}};m.canPlayType=function(a){var b=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!e["default"].options.hls.overrideNative&&i["default"].supportsNativeHls?!1:b.test(a)},l.supportsNativeMediaSources()&&(e["default"].getComponent("Html5").sourceHandlers.shift(),e["default"].getComponent("Html5").registerSourceHandler(m("html5"),0)),window.Uint8Array&&e["default"].getComponent("Flash").registerSourceHandler(m("flash"),0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util/agent":190,"../../util/querry":195,"./Hls":185,"./vc-hls-handle":189}],189:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,r=d(q),s=a("./Ranges"),t=d(s),u=a("./master-playlist-controller"),v=d(u),w=r["default"].HlsHandler,x=function(a){
function b(a,c,d){h["default"](this,b);var e=l["default"](this,f["default"](b).call(this,a,c,d));if(c.options_&&c.options_.playerId){var g=r["default"](c.options_.playerId);e.player_=g,e.on(g,"vcplayerchangequality",e.handleQualityChange),e.on(g,"canplay",e.handlePlay),e.on(g,"ended",e.handleEnded),e.on(e.tech_,"seeked",e.handleSeeked),e.on(e.tech_,"canplaythrough",e.checkEnded),e.on(e.tech_,"waiting",e.checkEnded),e.on(e.tech_,"stalled",e.checkEnded)}return e.countStalled=0,e}return p["default"](b,a),j["default"](b,[{key:"off",value:function(a,c,d){this.el_&&n["default"](f["default"](b.prototype),"off",this).call(this,a,c,d)}},{key:"handlePlay",value:function(){var a=this.player_;this.handleEnded(),this.on(a,"timeupdate",this.handleTimeupdate),this.on(this.tech_,"canplaythrough",this.checkEnded),this.on(this.tech_,"waiting",this.checkEnded),this.on(this.tech_,"stalled",this.checkEnded)}},{key:"handleEnded",value:function(){var a=this.player_;this.off(a,"timeupdate",this.handleTimeupdate),this.off(this.tech_,"canplaythrough",this.checkEnded),this.off(this.tech_,"waiting",this.checkEnded),this.off(this.tech_,"stalled",this.checkEnded)}},{key:"play",value:function(){try{n["default"](f["default"](b.prototype),"play",this).call(this)}catch(a){}}},{key:"src",value:function(a){if(n["default"](f["default"](b.prototype),"src",this).call(this,a),a){var c=this.playlists;this.masterPlaylistController_.blacklistCurrentPlaylist=r["default"].bind(this.masterPlaylistController_,v["default"].blacklistCurrentPlaylist),this.masterPlaylistController_.play=r["default"].bind(this.masterPlaylistController_,v["default"].play),c.on("loadedplaylist",r["default"].bind(this,this.handleLoadedplaylist))}}},{key:"flushBuffer",value:function(){var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0],b=arguments.length<=1||void 0===arguments[1]?1/0:arguments[1];console.log("Flush buffer",a,b),a=a>=0?a:0,this.masterPlaylistController_.mainSegmentLoader_.sourceUpdater_.remove(a,b)}},{key:"handleSeeked",value:function(){var a=this.player(),b=a.videoHeight(),c=this.masterPlaylistController_.masterPlaylistLoader_.media(),d=void 0;try{d=c.attributes.RESOLUTION.height}catch(e){return}var f=this.tech_.currentTime();if(b!==d){if(this.maxResolution===d&&b>d)return;this.flushBuffer(f-5)}else{var g=t["default"].findNextRange(this.tech_.buffered(),f+1);if(g&&g.length){var h=g.start();this.flushBuffer(h)}}}},{key:"handleStalled",value:function(){this.checkEnded()}},{key:"handleLoadedplaylist",value:function(){var a=this.player(),b=this.sortedPlaylists();try{this.maxResolution=b[b.length-1].attributes.RESOLUTION.height,a.trigger("playlist-hls",b),a.on("get-playlist-hls",function(){b=this.sortedPlaylists(),a.trigger("playlist-hls",b)})}catch(c){}}},{key:"sortedPlaylists",value:function(){var a=this.playlists.master.playlists.slice();return a.sort(r["default"].Hls.comparePlaylistBandwidth),a}},{key:"handleQualityChange",value:function(a,b){if(this.currentLevel!==b&&(this.currentLevel=b,!(this.currentLevel<0))){var c=this.masterPlaylistController_,d=c.masterPlaylistLoader_,e=c.mainSegmentLoader_,f=this.player(),g=this.tech_.currentTime(),h=f.paused();h||f.pause(),e.abort(),"WAITING"===e.state&&(e.state="INIT"),this.flushBuffer(g-5);var i=this.masterPlaylistController_.selectPlaylist();d.media(i),i=d.media(),e.abort(),e.playlist(i),e.load(),f.currentTime(g),h||f.play()}}},{key:"handleTimeupdate",value:function(){var a=this.masterPlaylistController_,b=(a.masterPlaylistLoader_,a.mainSegmentLoader_),c=this.tech_.currentTime(),d=this.player();if(this.countNotChange=this.countNotChange?this.countNotChange:0,!(b.xhr_&&b.xhr_.segmentXhr||d.paused())){if(this.lastTime!==c)return this.countNotChange=0,void(this.lastTime=c);if(this.countNotChange<10)return this.countNotChange>5?d.trigger("waiting"):null,void this.countNotChange++;var e=this.tech_.duration();if(this.lastSeekTime===c&&e!==1/0)return void d.trigger("notPlayingHlsJs");if(this.countNotChange=0,!this.checkEnded()){var f=this.tech_.buffered(),g=t["default"].findRange(f,c);if(g.length)return d.currentTime(c);var h=t["default"].findNextRange(f,c);if(h.length&&e===1/0)return d.currentTime(h.start(h.length-1));var i=t["default"].findBackRange(f,c);if(i.length&&e===1/0)return d.currentTime(i.end(i.length-1));if(e===1/0){var j=this.tech_.seekable().start(0)+.01;return void(this.tech_.currentTime()<j&&this.tech_.setCurrentTime(j))}0===g.length&&h.length&&d.trigger("notPlayHlsJs")}}}},{key:"setCurrentTime",value:function(a){this.checkEnded()||(this.lastSeekTime=a,this.masterPlaylistController_.setCurrentTime(a))}},{key:"checkEnded",value:function(){var a=this.player(),b=a.duration(),c=this.tech_.currentTime();return b?c>=b-.5?(a.autoplay(!1),this.tech_.trigger("ended"),!0):!1:void 0}},{key:"timeRangesToString",value:function(a){for(var b="",c=0;c<a.length;c++)b+=" ["+a.start(c)+", "+a.end(c)+"]";return b}},{key:"player",value:function(){return this.player_}}]),b}(w);c["default"]=x}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Ranges":186,"./master-playlist-controller":187,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/helpers/classCallCheck":14,"babel-runtime/helpers/createClass":15,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19}],190:[function(a,b,c){"use strict";function d(){var a=/Chrome/i.test(navigator.userAgent),b=/MSIE/i.test(navigator.userAgent),c=/Edge/i.test(navigator.userAgent),d=/Firefox/i.test(navigator.userAgent),g=/Safari/i.test(navigator.userAgent),h=/op/i.test(navigator.userAgent);return a&&g&&(g=!1),a&&h&&(a=!1),{isMobile:f(),isIEMobile:/IEMobile/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isiPad:/iPad/i.test(navigator.userAgent),isIE:b,isFireFox:d,isChrome:a,isSafari:g,isSony:/(Xperia| (C|D|E)\d{4}|CMD|SO|SGP|Z3)(.*?)Build/i.test(navigator.userAgent),isWebKit:/AppleWebKit/i.test(navigator.userAgent),isEdge:c,isLinux:/Linux/i.test(navigator.userAgent),version:e()}}function e(){var a,b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(a=/\brv[ :]+(\d+)/g.exec(b)||[],"IE "+(a[1]||"")):"Chrome"===c[1]&&(a=b.match(/\b(OPR|Edge)\/(\d+)/),null!=a)?a.slice(1).join(" ").replace("OPR","Opera"):(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=b.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),c[1])}function f(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}Object.defineProperty(c,"__esModule",{value:!0});c.agent=d()},{}],191:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(b&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d});{var d=function(){var a=function(){},b={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(OPR)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(Edge)/(\\d+)\\.(\\d+)",family_replacement:"Edge"},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.4|Windows NT 10\\.0)",os_replacement:"Windows 10"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",
device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]};a.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],a.types=["browser","os","device"],a.regexes=b||function(){var b={};return a.parsers.map(function(a){b[a]=[]}),b}(),a.families=function(){var b={};return a.types.map(function(a){b[a]=[]}),b}();var c=Array.prototype,d=(Object.prototype,Function.prototype,c.forEach,c.indexOf,function(a,b){for(var c={},d=0;d<b.length&&!(c=b[d](a));d++);return c}),e=function(a){return!(!a||"undefined"==typeof a||null==a)},f=function(a){var b="";return a=a||{},e(a)&&e(a.major)&&(b+=a.major,e(a.minor)&&(b+="."+a.minor,e(a.patch)&&(b+="."+a.patch))),b},g=function(a){a=a||{};var b=f(a);return b&&(b=" "+b),a&&e(a.family)?a.family+b:""};return a.parse=function(b){var c=function(b){return a.regexes[b+"_parsers"].map(function(a){function c(b){var c=b.match(d);if(!c)return null;var g={};return g.family=(e?e.replace("$1",c[1]):c[1])||"other",g.major=parseInt(f?f:c[2])||null,g.minor=c[3]?parseInt(c[3]):null,g.patch=c[4]?parseInt(c[4]):null,g.tablet=a.tablet,g.man=a.manufacturer||null,g}var d=new RegExp(a.regex),e=a[("browser"===b?"family":b)+"_replacement"],f=a.major_version_replacement;return c})},h=function(){},i=c("browser"),j=c("os"),k=c("device"),l=new h;l.source=b,l.browser=d(b,i),e(l.browser)?(l.browser.name=g(l.browser),l.browser.version=f(l.browser)):l.browser={},l.os=d(b,j),e(l.os)?(l.os.name=g(l.os),l.os.version=f(l.os)):l.os={},l.device=d(b,k),e(l.device)?(l.device.name=g(l.device),l.device.version=f(l.device)):l.device={tablet:!1,family:"Other"};{var m={};a.regexes.mobile_browser_families.map(function(a){m[a]=!0}),a.regexes.mobile_os_families.map(function(a){m[a]=!0})}return l.device.type="Spider"===l.browser.family?"Spider":l.browser.tablet||l.os.tablet||l.device.tablet?"Tablet":m.hasOwnProperty(l.browser.family)?"Mobile":"Desktop",l.device.manufacturer=l.browser.man||l.os.man||l.device.man||null,l},a}();c.ua=d.parse(navigator.userAgent||navigator.vendor||window.opera)}},{}],192:[function(a,b,c){"use strict";function d(a){var b=arguments.length<=1||void 0===arguments[1]?a:arguments[1];a=0>a?0:a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&10>d?"0"+d:d)+":",c=10>c?"0"+c:c,e+d+c}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d},{}],193:[function(a,b,c){"use strict";function d(){}function e(a,b,c){function e(){h.parentNode&&h.parentNode.removeChild(h),window[k]=d,i&&clearTimeout(i)}function g(){window[k]&&e()}"function"==typeof b&&(c=b,b={}),b||(b={});var h,i,j=b.prefix||"__jp",k=b.name||j+f++,l=b.param||"callback",m=null!=b.timeout?b.timeout:6e4,n=encodeURIComponent,o=document.getElementsByTagName("script")[0]||document.head;return m&&(i=setTimeout(function(){e(),c&&c(new Error("Timeout"))},m)),window[k]=function(a){e(),c&&c(null,a)},a+=(~a.indexOf("?")?"&":"?")+l+"="+n(k),a=a.replace("?&","?"),h=document.createElement("script"),h.src=a,o.parentNode.insertBefore(h,o),g}Object.defineProperty(c,"__esModule",{value:!0});var f=0;c["default"]=e},{}],194:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=a.match(/.(mp4|m3u8)$/i)||[],c=i["default"](b[1]||"");return c}function f(a){return/\.m3u8$/i.test(a)}function g(a){return/\.mp4$/i.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.isMp4=c.isM3u8=void 0;var h=a("./to-title-case"),i=d(h);c.isM3u8=f,c.isMp4=g,c["default"]=e},{"./to-title-case":196}],195:[function(a,b,c){(function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}function d(){for(var a,b=/[?&]([^=#]+)=([^&#]*)/g,c=location.href;a=b.exec(c);){var d=a[2];if("false"===d)d=!1;else if("true"===d)d=!0;else if("undefined"===d)continue;f[a[1]]=d,g[a[1]]=a[2]}f.mp4=f.mp4||f.file;try{var e=f.urlParent||document.referrer.replace(/(http(s?)):\/\//,"");f.domain=(e.match(/(.*?)(\/.*)/)||[])[1]||"",f.pathname=(e.match(/(.*?)(\/.*)/)||[])[2]||"",g.domain=f.domain,g.pathname=f.pathname}catch(h){}}Object.defineProperty(c,"__esModule",{value:!0}),c.info=c.querry=void 0;var e="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,f=(b(e),{}),g={};d(),c.querry=f,c.info=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],196:[function(a,b,c){"use strict";function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d},{}],197:[function(b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(){var a=arguments.length<=0||void 0===arguments[0]?"video":arguments[0],b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2],d=videojs(a,b,function(){this.techCall_("setControls",!1)}),e=b.querry;return e.HideInfo&&d.addClass("hide-info"),videojs(a,b,c),d}Object.defineProperty(d,"__esModule",{value:!0});{var g=b("babel-runtime/helpers/typeof"),h=e(g),i=b("./util/agent"),j=b("./util/querry"),k=b("./components/Component"),l=(e(k),b("./components/clickable-components")),m=(e(l),b("./components/Seek-Bar")),n=(e(m),b("./components/mute-toggle")),o=(e(n),b("./components/ErrorDisplay")),p=(e(o),b("./components/QualitySelectorButtonMenu")),q=(e(p),b("./components/ProgressControl")),r=(e(q),b("./components/Divide")),s=(e(r),b("./components/LoadingKenh14")),t=(e(s),b("./components/ReplayCountDown"));e(t)}b("./components/Player");{var u=b("./plugin/FillPlay"),v=(e(u),b("./plugin/VideoMediaInfo")),w=(e(v),b("./plugin/VideoSource")),x=(e(w),b("./plugin/VideoAutoPlay"));e(x)}b("./plugin/TestAdmicro");var y=b("./plugin/FullScreenEmbed"),z=(e(y),b("./plugin/Transform")),A=(e(z),b("./plugin/CustomizeSkin")),B=(e(A),b("./plugin/ShareTool")),C=(e(B),b("./plugin/ListSuggest")),D=(e(C),b("./plugin/SaveVolume")),E=(e(D),b("./plugin/FillVolume")),F=(e(E),b("./plugin/PostMessageIframe")),G=(e(F),b("./plugin/ControlHlsHTML5")),H=(e(G),b("./plugin/HotKeys")),I=(e(H),b("./plugin/SetPoster")),J=(e(I),b("./plugin/BetaQuality")),K=(e(J),b("./plugin/AdsSetup")),L=(e(K),b("./plugin/CustomizeControlBar")),M=(e(L),b("./plugin/CustomizeProgressControl")),N=(e(M),b("./plugin/CustomizeLoading")),O=(e(N),b("./plugin/ErrorHandle")),P=(e(O),b("./plugin/HandleErrorLive")),Q=(e(P),b("./plugin/Live")),R=(e(Q),b("./plugin/Dash")),S=(e(R),b("./plugin/CheckHTML5")),T=(e(S),b("./plugin/Tracking")),U=(e(T),b("./plugin/Replay")),V=(e(U),b("./plugin/Midroll")),W=(e(V),b("./plugin/CheckAdBlock")),X=(e(W),b("./setting")),Y=b("./tech/VcHls/vc-contrib-hls"),Z=(e(Y),{agent:i.agent,colors:X.colors,querry:j.querry,info:j.info,flash:{swf:"dist/VCPlayerFlash.swf"},plugins:{videoMediaInfo:{},videoSource:{},videoAutoPlay:{},fullScreenEmbed:{},transform:{},customizeSkin:{},shareTool:{},listSuggest:{},hotKeys:{},setPoster:{},betaQuality:{},adsSetup:{},customizeControlBar:{},customizeLoading:{},saveVolume:{},fillVolume:{},controlHlsHTML5:{},live:{},dash:{},errorHandle:{},handleErrorLive:{},postMessageIframe:{},replay:{},midroll:{},checkAdBlock:{},checkHTML5:{},tracking:{}},controlBar:{children:["playToggle","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","customControlSpacer","qualitySelectorButtonMenu","volumeMenuButton","fullscreenToggle"],qualitySelectorButtonMenu:{children:["qualityDisplay","divide"]}},children:["mediaLoader","posterImage","loadingKenh14","replayCountDown","fillPlayButton","controlBar","errorDisplay"],maxBufferLength:300,"vtt.js":"../../public/vtt.min.js"}),$=function(a,b,c){if("object"!==("undefined"==typeof b?"undefined":h["default"](b)))throw new Error("options is required object");var d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)});return Z.info.pid=d,b.querry=b.query,b=videojs.mergeOptions(Z,b),b.plugins.fullScreenEmbed=b.width?!1:{},b.querry.mobile&&(b.agent.isMobile=!0),b.agent.isMobile&&(b.plugins.hotKeys=!1,b.controlBar.children.splice(8,1)),f(a,b,c)};"function"==typeof a&&a.amd?a("InitVCPlayer",[],function(){return $}):"object"===("undefined"==typeof d?"undefined":h["default"](d))&&"object"===("undefined"==typeof c?"undefined":h["default"](c))&&(c.exports=$),d["default"]=$},{"./components/Component":136,"./components/Divide":137,"./components/ErrorDisplay":138,"./components/LoadingKenh14":140,"./components/Player":144,"./components/ProgressControl":145,"./components/QualitySelectorButtonMenu":146,"./components/ReplayCountDown":148,"./components/Seek-Bar":149,"./components/clickable-components":151,"./components/mute-toggle":152,"./plugin/AdsSetup":154,"./plugin/BetaQuality":155,"./plugin/CheckAdBlock":156,"./plugin/CheckHTML5":157,"./plugin/ControlHlsHTML5":158,"./plugin/CustomizeControlBar":159,"./plugin/CustomizeLoading":160,"./plugin/CustomizeProgressControl":161,"./plugin/CustomizeSkin":162,"./plugin/Dash":163,"./plugin/ErrorHandle":164,"./plugin/FillPlay":165,"./plugin/FillVolume":166,"./plugin/FullScreenEmbed":167,"./plugin/HandleErrorLive":168,"./plugin/HotKeys":169,"./plugin/ListSuggest":170,"./plugin/Live":171,"./plugin/Midroll":172,"./plugin/PostMessageIframe":173,"./plugin/Replay":174,"./plugin/SaveVolume":175,"./plugin/SetPoster":176,"./plugin/ShareTool":177,"./plugin/TestAdmicro":178,"./plugin/Tracking":179,"./plugin/Transform":180,"./plugin/VideoAutoPlay":181,"./plugin/VideoMediaInfo":182,"./plugin/VideoSource":183,"./setting":184,"./tech/VcHls/vc-contrib-hls":188,"./util/agent":190,"./util/querry":195,"babel-runtime/helpers/typeof":21}],198:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){var a=[[[],[],[],[],[]],[[],[],[],[],[]]],b=a[0],c=a[1],d=b[4],e=c[4],f=void 0,g=void 0,h=void 0,i=[],j=[],k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0;for(f=0;256>f;f++)j[(i[f]=f<<1^283*(f>>7))^f]=f;for(g=h=0;!d[g];g^=k||1,h=j[h]||1)for(n=h^h<<1^h<<2^h<<3^h<<4,n=n>>8^255&n^99,d[g]=n,e[n]=g,m=i[l=i[k=i[g]]],p=16843009*m^65537*l^257*k^16843008*g,o=257*i[n]^16843008*n,f=0;4>f;f++)b[f][g]=o=o<<24^o>>>8,c[f][n]=p=p<<24^p>>>8;for(f=0;5>f;f++)b[f]=b[f].slice(0),c[f]=c[f].slice(0);return a},g=null,h=function(){function a(b){d(this,a),g||(g=f()),this._tables=[[g[0][0].slice(),g[0][1].slice(),g[0][2].slice(),g[0][3].slice(),g[0][4].slice()],[g[1][0].slice(),g[1][1].slice(),g[1][2].slice(),g[1][3].slice(),g[1][4].slice()]];var c=void 0,e=void 0,h=void 0,i=void 0,j=void 0,k=this._tables[0][4],l=this._tables[1],m=b.length,n=1;if(4!==m&&6!==m&&8!==m)throw new Error("Invalid aes key size");for(i=b.slice(0),j=[],this._key=[i,j],c=m;4*m+28>c;c++)h=i[c-1],(c%m===0||8===m&&c%m===4)&&(h=k[h>>>24]<<24^k[h>>16&255]<<16^k[h>>8&255]<<8^k[255&h],c%m===0&&(h=h<<8^h>>>24^n<<24,n=n<<1^283*(n>>7))),i[c]=i[c-m]^h;for(e=0;c;e++,c--)h=i[3&e?c:c-4],j[e]=4>=c||4>e?h:l[0][k[h>>>24]]^l[1][k[h>>16&255]]^l[2][k[h>>8&255]]^l[3][k[255&h]]}return e(a,[{key:"decrypt",value:function(a,b,c,d,e,f){var g=this._key[1],h=a^g[0],i=d^g[1],j=c^g[2],k=b^g[3],l=void 0,m=void 0,n=void 0,o=g.length/4-2,p=void 0,q=4,r=this._tables[1],s=r[0],t=r[1],u=r[2],v=r[3],w=r[4];for(p=0;o>p;p++)l=s[h>>>24]^t[i>>16&255]^u[j>>8&255]^v[255&k]^g[q],m=s[i>>>24]^t[j>>16&255]^u[k>>8&255]^v[255&h]^g[q+1],n=s[j>>>24]^t[k>>16&255]^u[h>>8&255]^v[255&i]^g[q+2],k=s[k>>>24]^t[h>>16&255]^u[i>>8&255]^v[255&j]^g[q+3],q+=4,h=l,i=m,j=n;for(p=0;4>p;p++)e[(3&-p)+f]=w[h>>>24]<<24^w[i>>16&255]<<16^w[j>>8&255]<<8^w[255&k]^g[q++],l=h,h=i,i=j,j=k,k=l}}]),a}();c["default"]=h,b.exports=c["default"]},{}],199:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./stream"),j=d(i),k=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,j["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return f(b,a),g(b,[{key:"processJob_",value:function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null}},{key:"push",value:function(a){this.jobs.push(a),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),b}(j["default"]);c["default"]=k,b.exports=c["default"]},{"./stream":202}],200:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./aes"),h=d(g),i=a("./async-stream"),j=d(i),k=a("pkcs7"),l=function(a){return a<<24|(65280&a)<<8|(16711680&a)>>8|a>>>24},m=function(a,b,c){var d=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2),e=new h["default"](Array.prototype.slice.call(b)),f=new Uint8Array(a.byteLength),g=new Int32Array(f.buffer),i=void 0,j=void 0,k=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0;for(i=c[0],j=c[1],k=c[2],m=c[3],r=0;r<d.length;r+=4)n=l(d[r]),o=l(d[r+1]),p=l(d[r+2]),q=l(d[r+3]),e.decrypt(n,o,p,q,g,r),g[r]=l(g[r]^i),g[r+1]=l(g[r+1]^j),g[r+2]=l(g[r+2]^k),g[r+3]=l(g[r+3]^m),i=n,j=o,k=p,m=q;return f};c.decrypt=m;var n=function(){function a(b,c,d,f){e(this,a);var g=a.STEP,h=new Int32Array(b.buffer),i=new Uint8Array(b.byteLength),m=0;for(this.asyncStream_=new j["default"],this.asyncStream_.push(this.decryptChunk_(h.subarray(m,m+g),c,d,i)),m=g;m<h.length;m+=g)d=new Uint32Array([l(h[m-4]),l(h[m-3]),l(h[m-2]),l(h[m-1])]),this.asyncStream_.push(this.decryptChunk_(h.subarray(m,m+g),c,d,i));this.asyncStream_.push(function(){f(null,k.unpad(i))})}return f(a,[{key:"decryptChunk_",value:function(a,b,c,d){return function(){var e=m(a,b,c);d.set(e,a.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),a}();c.Decrypter=n,c["default"]={Decrypter:n,decrypt:m}},{"./aes":198,"./async-stream":199,pkcs7:351}],201:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./decrypter"),f=a("./async-stream"),g=d(f);c["default"]={decrypt:e.decrypt,Decrypter:e.Decrypter,AsyncStream:g["default"]},b.exports=c["default"]},{"./async-stream":199,"./decrypter":200}],202:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.listeners={}}return e(a,[{key:"on",value:function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)}},{key:"off",value:function(a,b){var c=void 0;return this.listeners[a]?(c=this.listeners[a].indexOf(b),this.listeners[a].splice(c,1),c>-1):!1}},{key:"trigger",value:function(a){var b=void 0,c=void 0,d=void 0,e=void 0;if(b=this.listeners[a])if(2===arguments.length)for(d=b.length,c=0;d>c;++c)b[c].call(this,arguments[1]);else for(e=Array.prototype.slice.call(arguments,1),d=b.length,c=0;d>c;++c)b[c].apply(this,e)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(a){this.on("data",function(b){a.push(b)})}}]),a}();c["default"]=f,b.exports=c["default"]},{}],203:[function(a,b,c){arguments[4][1][0].apply(c,arguments)},{"core-js/library/fn/get-iterator":218,dup:1}],204:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{"core-js/library/fn/is-iterable":219,dup:2}],205:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"core-js/library/fn/object/create":220,dup:5}],206:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{"core-js/library/fn/object/define-property":221,dup:6}],207:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"core-js/library/fn/object/get-prototype-of":222,dup:8}],208:[function(a,b,c){arguments[4][9][0].apply(c,arguments)},{"core-js/library/fn/object/keys":223,dup:9}],209:[function(a,b,c){arguments[4][10][0].apply(c,arguments)},{"core-js/library/fn/object/set-prototype-of":224,dup:10}],210:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"core-js/library/fn/symbol":225,dup:12}],211:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"core-js/library/fn/symbol/iterator":226,dup:13}],212:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],213:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"../core-js/object/define-property":206,dup:15}],214:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{"../core-js/object/create":205,"../core-js/object/set-prototype-of":209,"../helpers/typeof":217,dup:18}],215:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{"../helpers/typeof":217,dup:19}],216:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"../core-js/get-iterator":203,"../core-js/is-iterable":204,dup:20}],217:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{"../core-js/symbol":210,"../core-js/symbol/iterator":211,dup:21}],218:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"../modules/core.get-iterator":287,"../modules/es6.string.iterator":296,"../modules/web.dom.iterable":300,dup:22}],219:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{"../modules/core.is-iterable":288,"../modules/es6.string.iterator":296,"../modules/web.dom.iterable":300,dup:23}],220:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"../../modules/_core":233,"../../modules/es6.object.create":290,dup:26}],221:[function(a,b,c){arguments[4][27][0].apply(c,arguments)},{"../../modules/_core":233,"../../modules/es6.object.define-property":291,dup:27}],222:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"../../modules/_core":233,"../../modules/es6.object.get-prototype-of":292,dup:29}],223:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"../../modules/_core":233,"../../modules/es6.object.keys":293,dup:30}],224:[function(a,b,c){arguments[4][31][0].apply(c,arguments)},{"../../modules/_core":233,"../../modules/es6.object.set-prototype-of":294,dup:31}],225:[function(a,b,c){arguments[4][33][0].apply(c,arguments)},{"../../modules/_core":233,"../../modules/es6.object.to-string":295,"../../modules/es6.symbol":297,"../../modules/es7.symbol.async-iterator":298,"../../modules/es7.symbol.observable":299,dup:33}],226:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"../../modules/_wks-ext":284,"../../modules/es6.string.iterator":296,"../../modules/web.dom.iterable":300,dup:34}],227:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],228:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{dup:36}],229:[function(a,b,c){arguments[4][38][0].apply(c,arguments)},{"./_is-object":249,dup:38}],230:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{"./_to-index":276,"./_to-iobject":278,"./_to-length":279,dup:39}],231:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./_cof":232,"./_wks":285,dup:40}],232:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{dup:41}],233:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42}],234:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{"./_a-function":227,dup:43}],235:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],236:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{"./_fails":241,dup:45}],237:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{"./_global":242,"./_is-object":249,dup:46}],238:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],239:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{"./_object-gops":263,"./_object-keys":266,"./_object-pie":267,dup:48}],240:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{"./_core":233,"./_ctx":234,"./_global":242,"./_hide":244,dup:49}],241:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{dup:50}],242:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{dup:52}],243:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{dup:53}],244:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{"./_descriptors":236,"./_object-dp":258,"./_property-desc":269,dup:54}],245:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"./_global":242,dup:55}],246:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{"./_descriptors":236,"./_dom-create":237,"./_fails":241,dup:56}],247:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{"./_cof":232,dup:58}],248:[function(a,b,c){arguments[4][60][0].apply(c,arguments)},{"./_cof":232,dup:60}],249:[function(a,b,c){arguments[4][61][0].apply(c,arguments)},{dup:61}],250:[function(a,b,c){arguments[4][63][0].apply(c,arguments)},{"./_hide":244,"./_object-create":257,"./_property-desc":269,"./_set-to-string-tag":272,"./_wks":285,dup:63}],251:[function(a,b,c){arguments[4][64][0].apply(c,arguments)},{"./_export":240,"./_has":243,"./_hide":244,"./_iter-create":250,"./_iterators":253,"./_library":255,"./_object-gpo":264,"./_redefine":270,"./_set-to-string-tag":272,"./_wks":285,dup:64}],252:[function(a,b,c){arguments[4][66][0].apply(c,arguments)},{dup:66}],253:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{dup:67}],254:[function(a,b,c){arguments[4][68][0].apply(c,arguments)},{"./_object-keys":266,"./_to-iobject":278,dup:68}],255:[function(a,b,c){arguments[4][69][0].apply(c,arguments)},{dup:69}],256:[function(a,b,c){arguments[4][70][0].apply(c,arguments)},{"./_fails":241,"./_has":243,"./_is-object":249,"./_object-dp":258,"./_uid":282,dup:70}],257:[function(a,b,c){arguments[4][73][0].apply(c,arguments)},{"./_an-object":229,"./_dom-create":237,"./_enum-bug-keys":238,"./_html":245,"./_object-dps":259,"./_shared-key":273,dup:73}],258:[function(a,b,c){arguments[4][74][0].apply(c,arguments)},{"./_an-object":229,"./_descriptors":236,"./_ie8-dom-define":246,"./_to-primitive":281,dup:74}],259:[function(a,b,c){arguments[4][75][0].apply(c,arguments)},{"./_an-object":229,"./_descriptors":236,"./_object-dp":258,"./_object-keys":266,dup:75}],260:[function(a,b,c){arguments[4][76][0].apply(c,arguments)},{"./_descriptors":236,"./_has":243,"./_ie8-dom-define":246,"./_object-pie":267,"./_property-desc":269,"./_to-iobject":278,"./_to-primitive":281,dup:76}],261:[function(a,b,c){arguments[4][77][0].apply(c,arguments)},{"./_object-gopn":262,"./_to-iobject":278,dup:77}],262:[function(a,b,c){arguments[4][78][0].apply(c,arguments)},{"./_enum-bug-keys":238,"./_object-keys-internal":265,dup:78}],263:[function(a,b,c){arguments[4][79][0].apply(c,arguments)},{dup:79}],264:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{"./_has":243,"./_shared-key":273,"./_to-object":280,dup:80}],265:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{"./_array-includes":230,"./_has":243,"./_shared-key":273,"./_to-iobject":278,dup:81}],266:[function(a,b,c){arguments[4][82][0].apply(c,arguments)},{"./_enum-bug-keys":238,"./_object-keys-internal":265,dup:82}],267:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{dup:83}],268:[function(a,b,c){arguments[4][84][0].apply(c,arguments)},{"./_core":233,"./_export":240,"./_fails":241,dup:84}],269:[function(a,b,c){arguments[4][85][0].apply(c,arguments)},{dup:85}],270:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{"./_hide":244,dup:87}],271:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{"./_an-object":229,"./_ctx":234,"./_is-object":249,"./_object-gopd":260,dup:88}],272:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{"./_has":243,"./_object-dp":258,"./_wks":285,dup:90}],273:[function(a,b,c){arguments[4][91][0].apply(c,arguments)},{"./_shared":274,"./_uid":282,dup:91}],274:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{"./_global":242,dup:92}],275:[function(a,b,c){arguments[4][94][0].apply(c,arguments)},{"./_defined":235,"./_to-integer":277,dup:94}],276:[function(a,b,c){arguments[4][96][0].apply(c,arguments)},{"./_to-integer":277,dup:96}],277:[function(a,b,c){arguments[4][97][0].apply(c,arguments)},{dup:97}],278:[function(a,b,c){arguments[4][98][0].apply(c,arguments)},{"./_defined":235,"./_iobject":247,dup:98}],279:[function(a,b,c){arguments[4][99][0].apply(c,arguments)},{"./_to-integer":277,dup:99}],280:[function(a,b,c){arguments[4][100][0].apply(c,arguments)},{"./_defined":235,dup:100}],281:[function(a,b,c){arguments[4][101][0].apply(c,arguments)},{"./_is-object":249,dup:101}],282:[function(a,b,c){arguments[4][102][0].apply(c,arguments)},{dup:102}],283:[function(a,b,c){arguments[4][103][0].apply(c,arguments)},{"./_core":233,"./_global":242,"./_library":255,"./_object-dp":258,"./_wks-ext":284,dup:103}],284:[function(a,b,c){arguments[4][104][0].apply(c,arguments)},{"./_wks":285,dup:104}],285:[function(a,b,c){arguments[4][105][0].apply(c,arguments)},{"./_global":242,"./_shared":274,"./_uid":282,dup:105}],286:[function(a,b,c){arguments[4][106][0].apply(c,arguments)},{"./_classof":231,"./_core":233,"./_iterators":253,"./_wks":285,dup:106}],287:[function(a,b,c){arguments[4][107][0].apply(c,arguments)},{"./_an-object":229,"./_core":233,"./core.get-iterator-method":286,dup:107}],288:[function(a,b,c){arguments[4][108][0].apply(c,arguments)},{"./_classof":231,"./_core":233,"./_iterators":253,"./_wks":285,dup:108}],289:[function(a,b,c){arguments[4][109][0].apply(c,arguments)},{"./_add-to-unscopables":228,"./_iter-define":251,"./_iter-step":252,"./_iterators":253,"./_to-iobject":278,dup:109}],290:[function(a,b,c){arguments[4][111][0].apply(c,arguments)},{"./_export":240,"./_object-create":257,dup:111}],291:[function(a,b,c){arguments[4][112][0].apply(c,arguments)},{"./_descriptors":236,"./_export":240,"./_object-dp":258,dup:112}],292:[function(a,b,c){arguments[4][114][0].apply(c,arguments)},{"./_object-gpo":264,"./_object-sap":268,"./_to-object":280,dup:114}],293:[function(a,b,c){arguments[4][115][0].apply(c,arguments)},{"./_object-keys":266,"./_object-sap":268,"./_to-object":280,dup:115}],294:[function(a,b,c){arguments[4][116][0].apply(c,arguments)},{"./_export":240,"./_set-proto":271,dup:116}],295:[function(a,b,c){arguments[4][117][0].apply(c,arguments)},{dup:117}],296:[function(a,b,c){arguments[4][119][0].apply(c,arguments)},{"./_iter-define":251,"./_string-at":275,dup:119}],297:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"./_an-object":229,"./_descriptors":236,"./_enum-keys":239,"./_export":240,"./_fails":241,"./_global":242,"./_has":243,"./_hide":244,"./_is-array":248,"./_keyof":254,"./_library":255,"./_meta":256,"./_object-create":257,"./_object-dp":258,"./_object-gopd":260,"./_object-gopn":262,"./_object-gopn-ext":261,"./_object-gops":263,"./_object-keys":266,"./_object-pie":267,"./_property-desc":269,"./_redefine":270,"./_set-to-string-tag":272,"./_shared":274,"./_to-iobject":278,"./_to-primitive":281,"./_uid":282,"./_wks":285,"./_wks-define":283,"./_wks-ext":284,dup:120}],298:[function(a,b,c){arguments[4][121][0].apply(c,arguments)},{"./_wks-define":283,dup:121}],299:[function(a,b,c){arguments[4][122][0].apply(c,arguments)},{"./_wks-define":283,dup:122}],300:[function(a,b,c){arguments[4][123][0].apply(c,arguments)},{"./_global":242,"./_hide":244,"./_iterators":253,"./_wks":285,"./es6.array.iterator":289,dup:123}],301:[function(a,b){(function(a){b.exports="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],302:[function(a,b){function c(a,b){if("function"!=typeof a)throw new TypeError(d);return b=e(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,f=e(c.length-b,0),g=Array(f);++d<f;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var d="Expected a function",e=Math.max;b.exports=c},{}],303:[function(a,b){function c(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=c},{}],304:[function(a,b){function c(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=c},{}],305:[function(a,b){function c(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=c},{}],306:[function(a,b){var c=a("./createBaseFor"),d=c();b.exports=d},{"./createBaseFor":313}],307:[function(a,b){function c(a,b){return d(a,b,e)}var d=a("./baseFor"),e=a("../object/keysIn");b.exports=c},{"../object/keysIn":334,"./baseFor":306}],308:[function(a,b){function c(a,b,l,m,n){if(!h(a))return a;var o=g(b)&&(f(b)||j(b)),p=o?void 0:k(b);return d(p||b,function(d,f){if(p&&(f=d,d=b[f]),i(d))m||(m=[]),n||(n=[]),e(a,b,f,c,l,m,n);else{var g=a[f],h=l?l(g,d,f,a,b):void 0,j=void 0===h;j&&(h=d),void 0===h&&(!o||f in a)||!j&&(h===h?h===g:g!==g)||(a[f]=h)}}),a}var d=a("./arrayEach"),e=a("./baseMergeDeep"),f=a("../lang/isArray"),g=a("./isArrayLike"),h=a("../lang/isObject"),i=a("./isObjectLike"),j=a("../lang/isTypedArray"),k=a("../object/keys");b.exports=c},{"../lang/isArray":325,"../lang/isObject":328,"../lang/isTypedArray":331,"../object/keys":333,"./arrayEach":304,"./baseMergeDeep":309,"./isArrayLike":316,"./isObjectLike":321}],309:[function(a,b){function c(a,b,c,k,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,g(p)&&(f(p)||i(p))?r=f(q)?q:g(q)?d(q):[]:h(p)||e(p)?r=e(q)?j(q):h(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=k(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var d=a("./arrayCopy"),e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isArrayLike"),h=a("../lang/isPlainObject"),i=a("../lang/isTypedArray"),j=a("../lang/toPlainObject");b.exports=c},{"../lang/isArguments":324,"../lang/isArray":325,"../lang/isPlainObject":329,"../lang/isTypedArray":331,"../lang/toPlainObject":332,"./arrayCopy":303,"./isArrayLike":316}],310:[function(a,b){function c(a){return function(b){return null==b?void 0:d(b)[a]}}var d=a("./toObject");b.exports=c},{"./toObject":323}],311:[function(a,b){
function c(a,b,c){if("function"!=typeof a)return d;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var d=a("../utility/identity");b.exports=c},{"../utility/identity":337}],312:[function(a,b){function c(a){return f(function(b,c){var f=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=d(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&e(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++f<g;){var k=c[f];k&&a(b,k,h)}return b})}var d=a("./bindCallback"),e=a("./isIterateeCall"),f=a("../function/restParam");b.exports=c},{"../function/restParam":302,"./bindCallback":311,"./isIterateeCall":319}],313:[function(a,b){function c(a){return function(b,c,e){for(var f=d(b),g=e(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}var d=a("./toObject");b.exports=c},{"./toObject":323}],314:[function(a,b){var c=a("./baseProperty"),d=c("length");b.exports=d},{"./baseProperty":310}],315:[function(a,b){function c(a,b){var c=null==a?void 0:a[b];return d(c)?c:void 0}var d=a("../lang/isNative");b.exports=c},{"../lang/isNative":327}],316:[function(a,b){function c(a){return null!=a&&e(d(a))}var d=a("./getLength"),e=a("./isLength");b.exports=c},{"./getLength":314,"./isLength":320}],317:[function(a,b){var c=function(){try{Object({toString:0}+"")}catch(a){return function(){return!1}}return function(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}}();b.exports=c},{}],318:[function(a,b){function c(a,b){return a="number"==typeof a||d.test(a)?+a:-1,b=null==b?e:b,a>-1&&a%1==0&&b>a}var d=/^\d+$/,e=9007199254740991;b.exports=c},{}],319:[function(a,b){function c(a,b,c){if(!f(c))return!1;var g=typeof b;if("number"==g?d(c)&&e(b,c.length):"string"==g&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var d=a("./isArrayLike"),e=a("./isIndex"),f=a("../lang/isObject");b.exports=c},{"../lang/isObject":328,"./isArrayLike":316,"./isIndex":318}],320:[function(a,b){function c(a){return"number"==typeof a&&a>-1&&a%1==0&&d>=a}var d=9007199254740991;b.exports=c},{}],321:[function(a,b){function c(a){return!!a&&"object"==typeof a}b.exports=c},{}],322:[function(a,b){function c(a){for(var b=i(a),c=b.length,j=c&&a.length,l=!!j&&g(j)&&(e(a)||d(a)||h(a)),m=-1,n=[];++m<c;){var o=b[m];(l&&f(o,j)||k.call(a,o))&&n.push(o)}return n}var d=a("../lang/isArguments"),e=a("../lang/isArray"),f=a("./isIndex"),g=a("./isLength"),h=a("../lang/isString"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=c},{"../lang/isArguments":324,"../lang/isArray":325,"../lang/isString":330,"../object/keysIn":334,"./isIndex":318,"./isLength":320}],323:[function(a,b){function c(a){if(f.unindexedChars&&e(a)){for(var b=-1,c=a.length,g=Object(a);++b<c;)g[b]=a.charAt(b);return g}return d(a)?a:Object(a)}var d=a("../lang/isObject"),e=a("../lang/isString"),f=a("../support");b.exports=c},{"../lang/isObject":328,"../lang/isString":330,"../support":336}],324:[function(a,b){function c(a){return e(a)&&d(a)&&g.call(a,"callee")&&!h.call(a,"callee")}var d=a("../internal/isArrayLike"),e=a("../internal/isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable;b.exports=c},{"../internal/isArrayLike":316,"../internal/isObjectLike":321}],325:[function(a,b){var c=a("../internal/getNative"),d=a("../internal/isLength"),e=a("../internal/isObjectLike"),f="[object Array]",g=Object.prototype,h=g.toString,i=c(Array,"isArray"),j=i||function(a){return e(a)&&d(a.length)&&h.call(a)==f};b.exports=j},{"../internal/getNative":315,"../internal/isLength":320,"../internal/isObjectLike":321}],326:[function(a,b){function c(a){return d(a)&&g.call(a)==e}var d=a("./isObject"),e="[object Function]",f=Object.prototype,g=f.toString;b.exports=c},{"./isObject":328}],327:[function(a,b){function c(a){return null==a?!1:d(a)?k.test(i.call(a)):f(a)&&(e(a)?k:g).test(a)}var d=a("./isFunction"),e=a("../internal/isHostObject"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=c},{"../internal/isHostObject":317,"../internal/isObjectLike":321,"./isFunction":326}],328:[function(a,b){function c(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=c},{}],329:[function(a,b){function c(a){var b;if(!g(a)||l.call(a)!=i||f(a)||e(a)||!k.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return h.ownLast?(d(a,function(a,b,d){return c=k.call(d,b),!1}),c!==!1):(d(a,function(a,b){c=b}),void 0===c||k.call(a,c))}var d=a("../internal/baseForIn"),e=a("./isArguments"),f=a("../internal/isHostObject"),g=a("../internal/isObjectLike"),h=a("../support"),i="[object Object]",j=Object.prototype,k=j.hasOwnProperty,l=j.toString;b.exports=c},{"../internal/baseForIn":307,"../internal/isHostObject":317,"../internal/isObjectLike":321,"../support":336,"./isArguments":324}],330:[function(a,b){function c(a){return"string"==typeof a||d(a)&&g.call(a)==e}var d=a("../internal/isObjectLike"),e="[object String]",f=Object.prototype,g=f.toString;b.exports=c},{"../internal/isObjectLike":321}],331:[function(a,b){function c(a){return e(a)&&d(a.length)&&!!C[E.call(a)]}var d=a("../internal/isLength"),e=a("../internal/isObjectLike"),f="[object Arguments]",g="[object Array]",h="[object Boolean]",i="[object Date]",j="[object Error]",k="[object Function]",l="[object Map]",m="[object Number]",n="[object Object]",o="[object RegExp]",p="[object Set]",q="[object String]",r="[object WeakMap]",s="[object ArrayBuffer]",t="[object Float32Array]",u="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",y="[object Uint8Array]",z="[object Uint8ClampedArray]",A="[object Uint16Array]",B="[object Uint32Array]",C={};C[t]=C[u]=C[v]=C[w]=C[x]=C[y]=C[z]=C[A]=C[B]=!0,C[f]=C[g]=C[s]=C[h]=C[i]=C[j]=C[k]=C[l]=C[m]=C[n]=C[o]=C[p]=C[q]=C[r]=!1;var D=Object.prototype,E=D.toString;b.exports=c},{"../internal/isLength":320,"../internal/isObjectLike":321}],332:[function(a,b){function c(a){return d(a,e(a))}var d=a("../internal/baseCopy"),e=a("../object/keysIn");b.exports=c},{"../internal/baseCopy":305,"../object/keysIn":334}],333:[function(a,b){var c=a("../internal/getNative"),d=a("../internal/isArrayLike"),e=a("../lang/isObject"),f=a("../internal/shimKeys"),g=a("../support"),h=c(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||("function"==typeof a?g.enumPrototypes:d(a))?f(a):e(a)?h(a):[]}:f;b.exports=i},{"../internal/getNative":315,"../internal/isArrayLike":316,"../internal/shimKeys":322,"../lang/isObject":328,"../support":336}],334:[function(a,b){function c(a){if(null==a)return[];j(a)||(a=Object(a));var b=a.length;b=b&&i(b)&&(f(a)||e(a)||k(a))&&b||0;for(var c=a.constructor,d=-1,m=g(c)&&c.prototype||x,n=m===a,o=Array(b),q=b>0,r=l.enumErrorProps&&(a===w||a instanceof Error),t=l.enumPrototypes&&g(a);++d<b;)o[d]=d+"";for(var C in a)t&&"prototype"==C||r&&("message"==C||"name"==C)||q&&h(C,b)||"constructor"==C&&(n||!z.call(a,C))||o.push(C);if(l.nonEnumShadows&&a!==x){var D=a===y?u:a===w?p:A.call(a),E=B[D]||B[s];for(D==s&&(m=x),b=v.length;b--;){C=v[b];var F=E[C];n&&F||(F?!z.call(a,C):a[C]===m[C])||o.push(C)}}return o}var d=a("../internal/arrayEach"),e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../lang/isFunction"),h=a("../internal/isIndex"),i=a("../internal/isLength"),j=a("../lang/isObject"),k=a("../lang/isString"),l=a("../support"),m="[object Array]",n="[object Boolean]",o="[object Date]",p="[object Error]",q="[object Function]",r="[object Number]",s="[object Object]",t="[object RegExp]",u="[object String]",v=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],w=Error.prototype,x=Object.prototype,y=String.prototype,z=x.hasOwnProperty,A=x.toString,B={};B[m]=B[o]=B[r]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},B[n]=B[u]={constructor:!0,toString:!0,valueOf:!0},B[p]=B[q]=B[t]={constructor:!0,toString:!0},B[s]={constructor:!0},d(v,function(a){for(var b in B)if(z.call(B,b)){var c=B[b];c[a]=z.call(c,a)}}),b.exports=c},{"../internal/arrayEach":304,"../internal/isIndex":318,"../internal/isLength":320,"../lang/isArguments":324,"../lang/isArray":325,"../lang/isFunction":326,"../lang/isObject":328,"../lang/isString":330,"../support":336}],335:[function(a,b){var c=a("../internal/baseMerge"),d=a("../internal/createAssigner"),e=d(c);b.exports=e},{"../internal/baseMerge":308,"../internal/createAssigner":312}],336:[function(a,b){var c=Array.prototype,d=Error.prototype,e=Object.prototype,f=e.propertyIsEnumerable,g=c.splice,h={};!function(a){var b=function(){this.x=a},c={0:a,length:a},e=[];b.prototype={valueOf:a,y:a};for(var i in new b)e.push(i);h.enumErrorProps=f.call(d,"message")||f.call(d,"name"),h.enumPrototypes=f.call(b,"prototype"),h.nonEnumShadows=!/valueOf/.test(e),h.ownLast="x"!=e[0],h.spliceObjects=(g.call(c,0,1),!c[0]),h.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),b.exports=h},{}],337:[function(a,b){function c(a){return a}b.exports=c},{}],338:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./line-stream"),f=d(e),g=a("./parse-stream"),h=d(g),i=a("./parser"),j=d(i);c["default"]={LineStream:f["default"],ParseStream:h["default"],Parser:j["default"]},b.exports=c["default"]},{"./line-stream":339,"./parse-stream":340,"./parser":341}],339:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./stream"),j=d(i),k=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.buffer=""}return f(b,a),g(b,[{key:"push",value:function(a){var b=void 0;for(this.buffer+=a,b=this.buffer.indexOf("\n");b>-1;b=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,b)),this.buffer=this.buffer.substring(b+1)}}]),b}(j["default"]);c["default"]=k,b.exports=c["default"]},{"./stream":342}],340:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},j=a("./stream"),k=d(j),l=function(){var a="[^=]*",b='"[^"]*"|[^,]*',c="(?:"+a+")=(?:"+b+")";return new RegExp("(?:^|,)("+c+")")},m=function(a){for(var b=a.split(l()),c=b.length,d={},e=void 0;c--;)""!==b[c]&&(e=/([^=]*)=(.*)/.exec(b[c]).slice(1),e[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),d[e[0]]=e[1]);return d},n=function(a){function b(){e(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this)}return f(b,a),h(b,[{key:"push",value:function(a){var b=void 0,c=void 0;if(a=a.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==a.length){if("#"!==a[0])return void this.trigger("data",{type:"uri",uri:a});if(0!==a.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:a.slice(1)});if(a=a.replace("\r",""),b=/^#EXTM3U/.exec(a))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(b=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a))return c={type:"tag",tagType:"inf"},b[1]&&(c.duration=parseFloat(b[1])),b[2]&&(c.title=b[2]),void this.trigger("data",c);if(b=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"targetduration"},b[1]&&(c.duration=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"totalduration"},b[1]&&(c.duration=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"version"},b[1]&&(c.version=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"media-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"discontinuity-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void this.trigger("data",c);if(b=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a))return c={type:"tag",tagType:"playlist-type"},b[1]&&(c.playlistType=b[1]),void this.trigger("data",c);if(b=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"byterange"},b[1]&&(c.length=parseInt(b[1],10)),b[2]&&(c.offset=parseInt(b[2],10)),void this.trigger("data",c);if(b=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a))return c={type:"tag",tagType:"allow-cache"},b[1]&&(c.allowed=!/NO/.test(b[1])),void this.trigger("data",c);if(b=/^#EXT-X-MAP:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"map"},b[1]){var d=m(b[1]);if(d.URI&&(c.uri=d.URI),d.BYTERANGE){var e=d.BYTERANGE.split("@"),f=g(e,2),h=f[0],i=f[1];c.byterange={},h&&(c.byterange.length=parseInt(h,10)),i&&(c.byterange.offset=parseInt(i,10))}}return void this.trigger("data",c)}if(b=/^#EXT-X-STREAM-INF:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"stream-inf"},b[1]){if(c.attributes=m(b[1]),c.attributes.RESOLUTION){var j=c.attributes.RESOLUTION.split("x"),k={};j[0]&&(k.width=parseInt(j[0],10)),j[1]&&(k.height=parseInt(j[1],10)),c.attributes.RESOLUTION=k}c.attributes.BANDWIDTH&&(c.attributes.BANDWIDTH=parseInt(c.attributes.BANDWIDTH,10)),c.attributes["PROGRAM-ID"]&&(c.attributes["PROGRAM-ID"]=parseInt(c.attributes["PROGRAM-ID"],10))}return void this.trigger("data",c)}return(b=/^#EXT-X-MEDIA:?(.*)$/.exec(a))?(c={type:"tag",tagType:"media"},b[1]&&(c.attributes=m(b[1])),void this.trigger("data",c)):(b=/^#EXT-X-ENDLIST/.exec(a))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(b=/^#EXT-X-DISCONTINUITY/.exec(a))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(b=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(a))?(c={type:"tag",tagType:"date-time"},b[1]&&(c.dateTimeString=b[1],c.dateTimeObject=new Date(b[1])),void this.trigger("data",c)):(b=/^#EXT-X-KEY:?(.*)$/.exec(a))?(c={type:"tag",tagType:"key"},b[1]&&(c.attributes=m(b[1]),c.attributes.IV&&("0x"===c.attributes.IV.substring(0,2).toLowerCase()&&(c.attributes.IV=c.attributes.IV.substring(2)),c.attributes.IV=c.attributes.IV.match(/.{8}/g),c.attributes.IV[0]=parseInt(c.attributes.IV[0],16),c.attributes.IV[1]=parseInt(c.attributes.IV[1],16),c.attributes.IV[2]=parseInt(c.attributes.IV[2],16),c.attributes.IV[3]=parseInt(c.attributes.IV[3],16),c.attributes.IV=new Uint32Array(c.attributes.IV))),void this.trigger("data",c)):void this.trigger("data",{type:"tag",data:a.slice(4,a.length)})}}}]),b}(k["default"]);c["default"]=n,b.exports=c["default"]},{"./stream":342}],341:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},i=a("./stream"),j=d(i),k=a("./line-stream"),l=d(k),m=a("./parse-stream"),n=d(m),o=a("lodash-compat/object/merge"),p=d(o),q=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.lineStream=new l["default"],this.parseStream=new n["default"],this.lineStream.pipe(this.parseStream);var a=this,c=[],d={},f=void 0,g=void 0,i=function(){},j={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},k=0;this.manifest={allowCache:!0,discontinuityStarts:[]},this.parseStream.on("data",function(b){var e=void 0,h=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=b.allowed,"allowed"in b||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function l(){var l={};"length"in b&&(d.byterange=l,l.length=b.length,"offset"in b||(this.trigger("info",{message:"defaulting offset to zero"}),b.offset=0)),"offset"in b&&(d.byterange=l,l.offset=b.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),b.duration>0&&(d.duration=b.duration),0===b.duration&&(d.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=c},key:function(){return b.attributes?"NONE"===b.attributes.METHOD?void(g=null):b.attributes.URI?(b.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),g={method:b.attributes.METHOD||"AES-128",uri:b.attributes.URI},void("undefined"!=typeof b.attributes.IV&&(g.iv=b.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(b.number)?void(this.manifest.mediaSequence=b.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+b.number})},"discontinuity-sequence":function(){return isFinite(b.number)?(this.manifest.discontinuitySequence=b.number,void(k=b.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+b.number})},"playlist-type":function(){return/VOD|EVENT/.test(b.playlistType)?void(this.manifest.playlistType=b.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+b.playlist})},map:function(){f={},b.uri&&(f.uri=b.uri),b.byterange&&(f.byterange=b.byterange)},"stream-inf":function(){return this.manifest.playlists=c,this.manifest.mediaGroups=this.manifest.mediaGroups||j,b.attributes?(d.attributes||(d.attributes={}),void(d.attributes=p["default"](d.attributes,b.attributes))):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||j,!(b.attributes&&b.attributes.TYPE&&b.attributes["GROUP-ID"]&&b.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var a=this.manifest.mediaGroups[b.attributes.TYPE];a[b.attributes["GROUP-ID"]]=a[b.attributes["GROUP-ID"]]||{},e=a[b.attributes["GROUP-ID"]],h={"default":/yes/i.test(b.attributes.DEFAULT)},h.autoselect=h["default"]?!0:/yes/i.test(b.attributes.AUTOSELECT),b.attributes.LANGUAGE&&(h.language=b.attributes.LANGUAGE),b.attributes.URI&&(h.uri=b.attributes.URI),b.attributes["INSTREAM-ID"]&&(h.instreamId=b.attributes["INSTREAM-ID"]),e[b.attributes.NAME]=h},discontinuity:function(){k+=1,d.discontinuity=!0,this.manifest.discontinuityStarts.push(c.length)},"date-time":function(){this.manifest.dateTimeString=b.dateTimeString,this.manifest.dateTimeObject=b.dateTimeObject},targetduration:function(){return!isFinite(b.duration)||b.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+b.duration}):void(this.manifest.targetDuration=b.duration)},totalduration:function(){return!isFinite(b.duration)||b.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+b.duration}):void(this.manifest.totalDuration=b.duration)}})[b.tagType]||i).call(a)},uri:function(){d.uri=b.uri,c.push(d),!this.manifest.targetDuration||"duration"in d||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),d.duration=this.manifest.targetDuration),g&&(d.key=g),d.timeline=k,f&&(d.map=f),d={}},comment:function(){}})[b.type].call(a)})}return f(b,a),g(b,[{key:"push",value:function(a){this.lineStream.push(a)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),b}(j["default"]);c["default"]=q,b.exports=c["default"]},{"./line-stream":339,"./parse-stream":340,"./stream":342,"lodash-compat/object/merge":335}],342:[function(a,b,c){arguments[4][202][0].apply(c,arguments)},{dup:202}],343:[function(a,b){"use strict";var c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],d=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},e=function(a,b,c){var d,e="";for(d=b;c>d;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},f=function(a,b,c){return unescape(e(a,b,c))},g=function(a,b){var c=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9],d=a[b+5],e=(16&d)>>4;return e?c+20:c+10},h=function(a,b){var c=(224&a[b+5])>>5,d=a[b+4]<<3,e=6144&a[b+3];return e|d|c},i=function(a,b){return a[b]==="I".charCodeAt(0)&&a[b+1]==="D".charCodeAt(0)&&a[b+2]==="3".charCodeAt(0)?"timed-metadata":a[b]&!0&&240===(240&a[b+1])?"audio":null},j=function(a){for(var b=0;b+5<a.length;){if(255===a[b]&&240===(246&a[b+1]))return c[(60&a[b+2])>>>2];b++}return null},k=function(a){var b,c,e,g;b=10,64&a[5]&&(b+=4,b+=d(a.subarray(10,14)));do{if(c=d(a.subarray(b+4,b+8)),1>c)return null;if(g=String.fromCharCode(a[b],a[b+1],a[b+2],a[b+3]),"PRIV"===g){e=a.subarray(b+10,b+c+10);for(var h=0;h<e.byteLength;h++)if(0===e[h]){var i=f(e,0,h);if("com.apple.streaming.transportStreamTimestamp"===i){var j=e.subarray(h+1),k=(1&j[3])<<30|j[4]<<22|j[5]<<14|j[6]<<6|j[7]>>>2;return k*=4,k+=3&j[7]}break}}b+=10,b+=c}while(b<a.byteLength);return null};b.exports={parseId3TagSize:g,parseAdtsSize:h,parseType:i,parseSampleRate:j,parseAacTimestamp:k}},{}],344:[function(a,b){"use strict";var c=a("./stream-types.js"),d=function(a){var b=31&a[1];return b<<=8,b|=a[2]},e=function(a){return!!(64&a[1])},f=function(a){var b=0;return(48&a[3])>>>4>1&&(b+=a[4]+1),b},g=function(a,b){var c=d(a);return 0===c?"pat":c===b?"pmt":b?"pes":null},h=function(a){var b=e(a),c=4+f(a);return b&&(c+=a[c]+1),(31&a[c+10])<<8|a[c+11]},i=function(a){var b={},c=e(a),d=4+f(a);if(c&&(d+=a[d]+1),1&a[d+5]){var g,h,i;g=(15&a[d+1])<<8|a[d+2],h=3+g-4,i=(15&a[d+10])<<8|a[d+11];for(var j=12+i;h>j;){var k=d+j;b[(31&a[k+1])<<8|a[k+2]]=a[k],j+=((15&a[k+3])<<8|a[k+4])+5}return b}},j=function(a,b){var e=d(a),f=b[e];switch(f){case c.H264_STREAM_TYPE:return"video";case c.ADTS_STREAM_TYPE:return"audio";case c.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},k=function(a){var b=e(a);if(!b)return null;var c,d=4+f(a),g={};return c=a[d+7],192&c&&(g.pts=(14&a[d+9])<<27|(255&a[d+10])<<20|(254&a[d+11])<<12|(255&a[d+12])<<5|(254&a[d+13])>>>3,g.pts*=4,g.pts+=(6&a[d+13])>>>1,g.dts=g.pts,64&c&&(g.dts=(14&a[d+14])<<27|(255&a[d+15])<<20|(254&a[d+16])<<12|(255&a[d+17])<<5|(254&a[d+18])>>>3,g.dts*=4,g.dts+=(6&a[d+18])>>>1)),g},l=function(a){switch(a){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},m=function(a){for(var b,c=4+f(a),d=a.subarray(c),e=0,g=0,h=!1;g<d.byteLength-3;g++)if(1===d[g+2]){e=g+5;break}for(;e<d.byteLength;)switch(d[e]){case 0:if(0!==d[e-1]){e+=2;break}if(0!==d[e-2]){e++;break}g+3!==e-2&&(b=l(31&d[g+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(h=!0));do e++;while(1!==d[e]&&e<d.length);g=e-2,e+=3;break;case 1:if(0!==d[e-1]||0!==d[e-2]){e+=3;break}b=l(31&d[g+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(h=!0),g=e-2,e+=3;break;default:e+=3}return d=d.subarray(g),e-=g,g=0,d&&d.byteLength>3&&(b=l(31&d[g+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(h=!0)),h};b.exports={parseType:g,parsePat:h,parsePmt:i,parsePayloadUnitStartIndicator:e,parsePesType:j,parsePesTime:k,videoPacketContainsKeyFrame:m}},{"./stream-types.js":345}],345:[function(a,b){"use strict";b.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],346:[function(a,b){"use strict";var c=a("../utils/stream"),d=8589934592,e=4294967296,f=function(a,b){var c=1;for(a>b&&(c=-1);Math.abs(b-a)>e;)a+=c*d;return a},g=function(a){var b,c;g.prototype.init.call(this),this.type_=a,this.push=function(a){a.type===this.type_&&(void 0===c&&(c=a.dts),a.dts=f(a.dts,c),a.pts=f(a.pts,c),b=a.dts,this.trigger("data",a))},this.flush=function(){c=b,this.trigger("done")}};g.prototype=new c,b.exports={TimestampRolloverStream:g,handleRollover:f}},{"../utils/stream":349}],347:[function(a,b){"use strict";var c,d,e,f;c=function(a,b){var e,f,g,h,i,j=[];if(!b.length)return null;for(e=0;e<a.byteLength;)f=a[e]<<24,f|=a[e+1]<<16,f|=a[e+2]<<8,f|=a[e+3],g=d(a.subarray(e+4,e+8)),h=f>1?e+f:a.byteLength,g===b[0]&&(1===b.length?j.push(a.subarray(e+8,h)):(i=c(a.subarray(e+8,h),b.slice(1)),i.length&&(j=j.concat(i)))),e=h;return j},d=function(a){var b="";return b+=String.fromCharCode(a[0]),b+=String.fromCharCode(a[1]),b+=String.fromCharCode(a[2]),b+=String.fromCharCode(a[3])},e=function(a){var b={},d=c(a,["moov","trak"]);return d.reduce(function(a,b){var d,e,f,g,h;return(d=c(b,["tkhd"])[0])?(e=d[0],f=0===e?12:20,g=d[f]<<24|d[f+1]<<16|d[f+2]<<8|d[f+3],(h=c(b,["mdia","mdhd"])[0])?(e=h[0],f=0===e?12:20,a[g]=h[f]<<24|h[f+1]<<16|h[f+2]<<8|h[f+3],a):null):null},b)},f=function(a,b){var d,e,f;return d=c(b,["moof","traf"]),e=[].concat.apply([],d.map(function(b){return c(b,["tfhd"]).map(function(d){var e,f,g;return e=d[4]<<24|d[5]<<16|d[6]<<8|d[7],f=a[e]||9e4,g=c(b,["tfdt"]).map(function(a){var b,c;return b=a[0],c=a[4]<<24|a[5]<<16|a[6]<<8|a[7],1===b&&(c*=Math.pow(2,32),c+=a[8]<<24|a[9]<<16|a[10]<<8|a[11]),c})[0],g=g||1/0,g/f})})),f=Math.min.apply(null,e),isFinite(f)?f:0},b.exports={parseType:d,timescale:e,startTime:f}},{}],348:[function(a,b){"use strict";var c=a("../m2ts/stream-types.js"),d=a("../m2ts/timestamp-rollover-stream.js").handleRollover,e={};e.ts=a("../m2ts/probe.js"),e.aac=a("../aac/probe.js");var f=9e4,g=188,h=71,i=function(a){return a[0]==="I".charCodeAt(0)&&a[1]==="D".charCodeAt(0)&&a[2]==="3".charCodeAt(0)?!0:!1},j=function(a,b){for(var c,d,f=0,i=g;i<a.byteLength;)if(a[f]!==h||a[i]!==h)f++,i++;else{switch(c=a.subarray(f,i),d=e.ts.parseType(c,b.pid)){case"pat":b.pid||(b.pid=e.ts.parsePat(c));break;case"pmt":b.table||(b.table=e.ts.parsePmt(c))}if(b.pid&&b.table)return;f+=g,i+=g}},k=function(a,b,c){for(var d,f,i,j,k,l=0,m=g,n=!1;m<a.byteLength;)if(a[l]!==h||a[m]!==h)l++,m++;else{switch(d=a.subarray(l,m),f=e.ts.parseType(d,b.pid)){case"pes":i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"audio"===i&&j&&(k=e.ts.parsePesTime(d),k.type="audio",c.audio.push(k),n=!0)}if(n)break;l+=g,m+=g}for(m=a.byteLength,l=m-g,n=!1;l>=0;)if(a[l]!==h||a[m]!==h)l--,m--;else{switch(d=a.subarray(l,m),f=e.ts.parseType(d,b.pid)){case"pes":i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"audio"===i&&j&&(k=e.ts.parsePesTime(d),k.type="audio",c.audio.push(k),n=!0)}if(n)break;l-=g,m-=g}},l=function(a,b,c){for(var d,f,i,j,k,l,m,n,o=0,p=g,q=!1,r={data:[],size:0};p<a.byteLength;)if(a[o]!==h||a[p]!==h)o++,p++;else{switch(d=a.subarray(o,p),f=e.ts.parseType(d,b.pid)){case"pes":if(i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"video"===i&&(j&&!q&&(k=e.ts.parsePesTime(d),k.type="video",c.video.push(k),q=!0),!c.firstKeyFrame)){if(j&&0!==r.size){for(l=new Uint8Array(r.size),m=0;r.data.length;)n=r.data.shift(),l.set(n,m),m+=n.byteLength;e.ts.videoPacketContainsKeyFrame(l)&&(c.firstKeyFrame=e.ts.parsePesTime(l),c.firstKeyFrame.type="video"),r.size=0}r.data.push(d),r.size+=d.byteLength}}if(q&&c.firstKeyFrame)break;o+=g,p+=g}for(p=a.byteLength,o=p-g,q=!1;o>=0;)if(a[o]!==h||a[p]!==h)o--,p--;else{switch(d=a.subarray(o,p),f=e.ts.parseType(d,b.pid)){case"pes":i=e.ts.parsePesType(d,b.table),j=e.ts.parsePayloadUnitStartIndicator(d),"video"===i&&j&&(k=e.ts.parsePesTime(d),k.type="video",c.video.push(k),q=!0)}if(q)break;o-=g,p-=g}},m=function(a,b){if(a.audio&&a.audio.length){var c=b;"undefined"==typeof c&&(c=a.audio[0].dts),a.audio.forEach(function(a){a.dts=d(a.dts,c),a.pts=d(a.pts,c),a.dtsTime=a.dts/f,a.ptsTime=a.pts/f})}if(a.video&&a.video.length){var e=b;if("undefined"==typeof e&&(e=a.video[0].dts),a.video.forEach(function(a){a.dts=d(a.dts,e),a.pts=d(a.pts,e),a.dtsTime=a.dts/f,a.ptsTime=a.pts/f}),a.firstKeyFrame){var g=a.firstKeyFrame;g.dts=d(g.dts,e),g.pts=d(g.pts,e),g.dtsTime=g.dts/f,g.ptsTime=g.dts/f}}},n=function(a){for(var b,c=!1,d=0,g=null,h=null,i=0,j=0;a.length-j>=3;){var k=e.aac.parseType(a,j);switch(k){case"timed-metadata":if(a.length-j<10){c=!0;break}if(i=e.aac.parseId3TagSize(a,j),i>a.length){c=!0;break}null===h&&(b=a.subarray(j,j+i),h=e.aac.parseAacTimestamp(b)),j+=i;break;case"audio":if(a.length-j<7){c=!0;break}if(i=e.aac.parseAdtsSize(a,j),i>a.length){c=!0;break}null===g&&(b=a.subarray(j,j+i),g=e.aac.parseSampleRate(b)),d++,j+=i;break;default:j++}if(c)return null}if(null===g||null===h)return null;var l=f/g,m={audio:[{type:"audio",dts:h,pts:h},{type:"audio",dts:h+1024*d*l,pts:h+1024*d*l}]};return m},o=function(a){var b={pid:null,table:null},d={};j(a,b);for(var e in b.table)if(b.table.hasOwnProperty(e)){
var f=b.table[e];switch(f){case c.H264_STREAM_TYPE:d.video=[],l(a,b,d),0===d.video.length&&delete d.video;break;case c.ADTS_STREAM_TYPE:d.audio=[],k(a,b,d),0===d.audio.length&&delete d.audio}}return d},p=function(a,b){var c,d=i(a);return c=d?n(a):o(a),c&&(c.audio||c.video)?(m(c,b),c):null};b.exports={inspect:p}},{"../aac/probe.js":343,"../m2ts/probe.js":344,"../m2ts/stream-types.js":345,"../m2ts/timestamp-rollover-stream.js":346}],349:[function(a,b){"use strict";var c=function(){this.init=function(){var a={};this.on=function(b,c){a[b]||(a[b]=[]),a[b]=a[b].concat(c)},this.off=function(b,c){var d;return a[b]?(d=a[b].indexOf(c),a[b]=a[b].slice(),a[b].splice(d,1),d>-1):!1},this.trigger=function(b){var c,d,e,f;if(c=a[b])if(2===arguments.length)for(e=c.length,d=0;e>d;++d)c[d].call(this,arguments[1]);else{for(f=[],d=arguments.length,d=1;d<arguments.length;++d)f.push(arguments[d]);for(e=c.length,d=0;e>d;++d)c[d].apply(this,f)}},this.dispose=function(){a={}}}};c.prototype.pipe=function(a){return this.on("data",function(b){a.push(b)}),this.on("done",function(b){a.flush(b)}),a},c.prototype.push=function(a){this.trigger("data",a)},c.prototype.flush=function(a){this.trigger("done",a)},b.exports=c},{}],350:[function(a,b){"use strict";var c;b.exports=function(a){var b=c[a.byteLength%16||0],d=new Uint8Array(a.byteLength+b.length);return d.set(a),d.set(b,a.byteLength),d},c=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],351:[function(a,b,c){"use strict";c.pad=a("./pad.js"),c.unpad=a("./unpad.js")},{"./pad.js":350,"./unpad.js":352}],352:[function(a,b){"use strict";b.exports=function(a){return a.subarray(0,a.byteLength-a[a.byteLength-1])}},{}],353:[function(b,c,d){!function(b){var e={buildAbsoluteURL:function(a,b){if(b=b.trim(),/^[a-z]+:/i.test(b))return b;var c=null,d=null,f=/^([^#]*)(.*)$/.exec(b);f&&(d=f[2],b=f[1]);var g=/^([^\?]*)(.*)$/.exec(b);g&&(c=g[2],b=g[1]);var h=/^([^#]*)(.*)$/.exec(a);h&&(a=h[1]);var i=/^([^\?]*)(.*)$/.exec(a);i&&(a=i[1]);var j=/^(([a-z]+:)?\/\/[a-z0-9\.\-_~]+(:[0-9]+)?)?(\/.*)$/i.exec(a);if(!j)throw new Error("Error trying to parse base URL.");var k=j[2]||"",l=j[1]||"",m=j[4],n=null;return n=/^\/\//.test(b)?k+"//"+e.buildAbsolutePath("",b.substring(2)):/^\//.test(b)?l+"/"+e.buildAbsolutePath("",b.substring(1)):e.buildAbsolutePath(l+m,b),c&&(n+=c),d&&(n+=d),n},buildAbsolutePath:function(a,b){for(var c,d,e=b,f="",g=a.replace(/[^\/]*$/,e.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),h=0;d=g.indexOf("/../",h),d>-1;h=d+c)c=/^\/(?:\.\.\/)*/.exec(g.slice(d))[0].length,f=(f+g.substring(h,d)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(c-1)/3+"}$"),"/");return f+g.substr(h)}};"object"==typeof d&&"object"==typeof c?c.exports=e:"function"==typeof a&&a.amd?a([],function(){return e}):"object"==typeof d?d.URLToolkit=e:b.URLToolkit=e}(this)},{}],354:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/slicedToArray"),f=d(e),g=a("global/window"),h=d(g),i=function(a,b){for(var c=a.cues,d=0;d<c.length;d++){var e=c[d];if(b>=e.adStartTime&&b<=e.adEndTime)return e}return null},j=function(a,b){var c=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(a.segments)for(var d=c,e=void 0,g=0;g<a.segments.length;g++){var j=a.segments[g];if(e||(e=i(b,d+j.duration/2)),e){if("cueIn"in j){e.endTime=d,e.adEndTime=d,d+=j.duration,e=null;continue}if(d<e.endTime){d+=j.duration;continue}e.endTime+=j.duration}else if("cueOut"in j&&(e=new h["default"].VTTCue(d,d+j.duration,j.cueOut),e.adStartTime=d,e.adEndTime=d+parseFloat(j.cueOut),b.addCue(e)),"cueOutCont"in j){var k=void 0,l=void 0,m=j.cueOutCont.split("/").map(parseFloat),n=f["default"](m,2);k=n[0],l=n[1],e=new h["default"].VTTCue(d,d+j.duration,""),e.adStartTime=d-k,e.adEndTime=e.adStartTime+l,b.addCue(e)}d+=j.duration}};c["default"]={updateAdCues:j,findAdCue:i}},{"babel-runtime/helpers/slicedToArray":216,"global/window":301}],355:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]={GOAL_BUFFER_LENGTH:30}},{}],356:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.MasterPlaylistController=c.mimeTypesForPlaylist_=void 0;{var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/inherits"),n=d(m),o=a("babel-runtime/core-js/object/keys"),p=d(o),q=a("babel-runtime/helpers/typeof"),r=d(q),s=a("./playlist-loader"),t=d(s),u=a("./segment-loader"),v=d(u),w=a("./ranges"),x=d(w),y="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,z=d(y),A=a("./ad-cue-tags"),B=d(A),C=a("./sync-controller"),D=d(C),E=3e5,F=void 0,G=function(a,b){if(("undefined"==typeof a?"undefined":r["default"](a))!==("undefined"==typeof b?"undefined":r["default"](b)))return!0;if(p["default"](a).length!==p["default"](b).length)return!0;for(var c in a)if(a[c]!==b[c])return!0;return!1},H=function(a){var b={codecCount:0,videoCodec:null,videoObjectTypeIndicator:null,audioProfile:null},c=void 0;return b.codecCount=a.split(",").length,b.codecCount=b.codecCount||2,c=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(a),c&&(b.videoCodec=c[2],b.videoObjectTypeIndicator=c[3]),b.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(a),b.audioProfile=b.audioProfile&&b.audioProfile[2],b},I=c.mimeTypesForPlaylist_=function(a,b){var c="mp2t",d={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},e=[],f=void 0,g=null;if(!b)return[];b.segments&&b.segments.length&&b.segments[0].map&&(c="mp4"),f=b.attributes||{},f.CODECS&&!function(){var a=H(f.CODECS);p["default"](a).forEach(function(b){d[b]=a[b]||d[b]})}(),a.mediaGroups.AUDIO&&(e=a.mediaGroups.AUDIO[f.AUDIO]);for(var h in e){if(g&&!!e[h].uri!=!!g.uri)return["video/"+c+'; codecs="'+d.videoCodec+d.videoObjectTypeIndicator+", mp4a.40."+d.audioProfile+'"',"audio/"+c+'; codecs="mp4a.40.'+d.audioProfile+'"'];g=e[h]}return g&&g.uri?["video/"+c+'; codecs="'+d.videoCodec+d.videoObjectTypeIndicator+'"',"audio/"+c+'; codecs="mp4a.40.'+d.audioProfile+'"']:["video/"+c+'; codecs="'+d.videoCodec+d.videoObjectTypeIndicator+", mp4a.40."+d.audioProfile+'"']};c.MasterPlaylistController=function(a){function b(a){h["default"](this,b);var c=l["default"](this,f["default"](b).call(this)),d=a.url,e=a.withCredentials,g=a.mode,i=a.tech,j=a.bandwidth,k=a.externHls,m=a.useCueTags;if(!d)throw new Error("A non-empty playlist URL is required");F=k,c.withCredentials=e,c.tech_=i,c.hls_=i.hls,c.mode_=g,c.useCueTags_=m,c.useCueTags_&&(c.cueTagsTrack_=c.tech_.addTextTrack("metadata","ad-cues"),c.cueTagsTrack_.inBandMetadataTrackDispatchType="",c.tech_.textTracks().addTrack_(c.cueTagsTrack_)),c.audioTracks_=[],c.requestOptions_={withCredentials:c.withCredentials,timeout:null},c.audioGroups_={},c.mediaSource=new z["default"].MediaSource({mode:g}),c.audioinfo_=null,c.mediaSource.on("audioinfo",c.handleAudioinfoUpdate_.bind(c)),c.mediaSource.addEventListener("sourceopen",c.handleSourceOpen_.bind(c)),c.seekable_=z["default"].createTimeRanges(),c.hasPlayed_=function(){return!1},c.syncController_=new D["default"];var n={hls:c.hls_,mediaSource:c.mediaSource,currentTime:c.tech_.currentTime.bind(c.tech_),seekable:function(){return c.seekable()},seeking:function(){return c.tech_.seeking()},setCurrentTime:function(a){return c.tech_.setCurrentTime(a)},hasPlayed:function(){return c.hasPlayed_()},bandwidth:j,syncController:c.syncController_};return c.masterPlaylistLoader_=new t["default"](d,c.hls_,c.withCredentials),c.setupMasterPlaylistLoaderListeners_(),c.audioPlaylistLoader_=null,c.mainSegmentLoader_=new v["default"](n),c.audioSegmentLoader_=new v["default"](n),c.setupSegmentLoaderListeners_(),c.masterPlaylistLoader_.start(),c}return n["default"](b,a),j["default"](b,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var a=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*a.masterPlaylistLoader_.targetDuration*1e3;a.requestOptions_.timeout=c,b.endList&&"none"!==a.tech_.preload()&&(a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load()),a.fillAudioTracks_(),a.setupAudio();try{a.setupSourceBuffers_()}catch(d){return z["default"].log.warn("Failed to create SourceBuffers",d),a.mediaSource.endOfStream("decode")}a.setupFirstPlay(),a.trigger("audioupdate"),a.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var b=a.masterPlaylistLoader_.media();return b?(a.useCueTags_&&a.updateAdCues_(b),a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.updateDuration(),void(b.endList||!function(){var b=function(){var b=a.seekable();0!==b.length&&a.mediaSource.addSeekableRange_(b.start(0),b.end(0))};a.duration()!==1/0?!function(){var c=function d(){a.duration()===1/0?b():a.tech_.one("durationchange",d)};a.tech_.one("durationchange",c)}():b()}())):(a.initialMedia_=a.selectPlaylist(),void a.masterPlaylistLoader_.media(a.initialMedia_))}),this.masterPlaylistLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){a.mainSegmentLoader_.abort(),a.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*a.masterPlaylistLoader_.targetDuration*1e3,d=void 0,e=void 0;a.requestOptions_.timeout=a.masterPlaylistLoader_.isLowestEnabledRendition_()?0:c,a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load(),d=a.activeAudioGroup(),e=d.filter(function(a){return a.enabled})[0],e||(a.setupAudio(),a.trigger("audioupdate")),a.tech_.trigger({type:"mediachange",bubbles:!0})})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("progress",function(){a.masterPlaylistLoader_.media(a.selectPlaylist()),a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("error",function(){z["default"].log.warn("Problem encountered with the current alternate audio track. Switching back to default."),a.audioSegmentLoader_.abort(),a.audioPlaylistLoader_=null,a.setupAudio()})}},{key:"handleAudioinfoUpdate_",value:function(a){if(F.supportsAudioInfoChange_()||!this.audioInfo_||!G(this.audioInfo_,a.info))return void(this.audioInfo_=a.info);var b="had different audio properties (channels, sample rate, etc.) or changed in some other way.  This behavior is currently unsupported in Firefox 48 and below due to an issue: \n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1247138\n\n",c=this.activeAudioGroup().map(function(a){return a.enabled}).indexOf(!0),d=this.activeAudioGroup()[c],e=this.activeAudioGroup().filter(function(a){return a.properties_&&a.properties_["default"]})[0];this.audioPlaylistLoader_?(b="The audio track '"+d.label+"' that we tried to "+("switch to "+b+" Unfortunately this means we will have to ")+("return you to the main track '"+e.label+"'. Sorry!"),e.enabled=!0,this.activeAudioGroup().splice(c,1),this.trigger("audioupdate")):(b="The rendition that we tried to switch to "+b+"Unfortunately that means we will have to blacklist the current playlist and switch to another. Sorry!",this.blacklistCurrentPlaylist()),z["default"].log.warn(b),this.setupAudio()}},{key:"mediaRequests_",value:function(){return this.audioSegmentLoader_.mediaRequests+this.mainSegmentLoader_.mediaRequests}},{key:"mediaTransferDuration_",value:function(){return this.audioSegmentLoader_.mediaTransferDuration+this.mainSegmentLoader_.mediaTransferDuration}},{key:"mediaBytesTransferred_",value:function(){return this.audioSegmentLoader_.mediaBytesTransferred+this.mainSegmentLoader_.mediaBytesTransferred}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"fillAudioTracks_",value:function(){var a=this.master(),b=a.mediaGroups||{};b&&b.AUDIO&&0!==p["default"](b.AUDIO).length&&"html5"===this.mode_||(b.AUDIO={main:{"default":{"default":!0}}});for(var c in b.AUDIO){this.audioGroups_[c]||(this.audioGroups_[c]=[]);for(var d in b.AUDIO[c]){var e=b.AUDIO[c][d],f=new z["default"].AudioTrack({id:d,kind:e["default"]?"main":"alternative",enabled:!1,language:e.language,label:d});f.properties_=e,this.audioGroups_[c].push(f)}}(this.activeAudioGroup().filter(function(a){return a.properties_["default"]})[0]||this.activeAudioGroup()[0]).enabled=!0}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load()}},{key:"activeAudioGroup",value:function(){var a=this.masterPlaylistLoader_.media(),b=void 0;return a.attributes&&a.attributes.AUDIO&&(b=this.audioGroups_[a.attributes.AUDIO]),b||this.audioGroups_.main}},{key:"setupAudio",value:function(){var a=this,b=this.activeAudioGroup(),c=b.filter(function(a){return a.enabled})[0];return c||(c=b.filter(function(a){return a.properties_["default"]})[0]||b[0],c.enabled=!0),this.audioPlaylistLoader_&&(this.audioPlaylistLoader_.dispose(),this.audioPlaylistLoader_=null),this.audioSegmentLoader_.pause(),c.properties_.resolvedUri?(this.audioSegmentLoader_.resetEverything(),this.audioPlaylistLoader_=new t["default"](c.properties_.resolvedUri,this.hls_,this.withCredentials),this.audioPlaylistLoader_.start(),this.audioPlaylistLoader_.on("loadedmetadata",function(){var b=a.audioPlaylistLoader_.media();a.audioSegmentLoader_.playlist(b,a.requestOptions_),(!a.tech_.paused()||b.endList&&"none"!==a.tech_.preload())&&a.audioSegmentLoader_.load(),b.endList||a.audioPlaylistLoader_.trigger("firstplay")}),this.audioPlaylistLoader_.on("loadedplaylist",function(){var b=void 0;return a.audioPlaylistLoader_&&(b=a.audioPlaylistLoader_.media()),b?void a.audioSegmentLoader_.playlist(b,a.requestOptions_):void a.audioPlaylistLoader_.media(a.audioPlaylistLoader_.playlists.master.playlists[0])}),void this.audioPlaylistLoader_.on("error",function(){z["default"].log.warn("Problem encountered loading the alternate audio track. Switching back to default."),a.audioSegmentLoader_.abort(),a.setupAudio()})):void this.mainSegmentLoader_.resetEverything()}},{key:"fastQualityChange_",value:function(){var a=this.selectPlaylist();a!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(a),this.mainSegmentLoader_.resetLoader(),this.audiosegmentloader_&&this.audioSegmentLoader_.resetLoader())}},{key:"play",value:function(){return this.setupFirstPlay()?void 0:(this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load(),this.tech_.duration()===1/0&&this.tech_.currentTime()<this.tech_.seekable().start(0)?this.tech_.setCurrentTime(this.tech_.seekable().start(0)):void 0)}},{key:"setupFirstPlay",value:function(){var a=void 0,b=this.masterPlaylistLoader_.media();return!b||this.tech_.paused()||this.hasPlayed_()?!1:(b.endList||(this.trigger("firstplay"),a=this.seekable(),a.length&&this.tech_.setCurrentTime(a.end(0))),this.hasPlayed_=function(){return!0},this.load(),!0)}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(a){return z["default"].log.warn("Failed to create Source Buffers",a),this.mediaSource.endOfStream("decode")}this.tech_.autoplay()&&this.tech_.play(),this.trigger("sourceopen")}},{key:"blacklistCurrentPlaylist",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=void 0,c=void 0;return(b=a.playlist||this.masterPlaylistLoader_.media())?(b.excludeUntil=Date.now()+E,(c=this.selectPlaylist())?(z["default"].log.warn("Problem encountered with the current HLS playlist. Switching to another playlist."),this.masterPlaylistLoader_.media(c)):(z["default"].log.warn("Problem encountered with the current HLS playlist. No suitable alternatives found."),this.error=a,this.mediaSource.endOfStream("network"))):(this.error=a,this.mediaSource.endOfStream("network"))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(a){var b=x["default"].findRange(this.tech_.buffered(),a);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?b&&b.length?a:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.audioPlaylistLoader_&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),void(this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load()))):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:F.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var a=void 0,b=void 0,c=void 0;return!this.masterPlaylistLoader_||(a=this.masterPlaylistLoader_.media(),!a||(b=F.Playlist.seekable(a),0===b.length||this.audioPlaylistLoader_&&(c=F.Playlist.seekable(this.audioPlaylistLoader_.media()),0===c.length)))?void 0:c?void(this.seekable_=z["default"].createTimeRanges([[c.start(0)>b.start(0)?c.start(0):b.start(0),c.end(0)<b.end(0)?c.end(0):b.end(0)]])):void(this.seekable_=b)}},{key:"updateDuration",value:function(){var a=this,b=this.mediaSource.duration,c=F.Playlist.duration(this.masterPlaylistLoader_.media()),d=this.tech_.buffered(),e=function f(){a.mediaSource.duration=c,a.tech_.trigger("durationchange"),a.mediaSource.removeEventListener("sourceopen",f)};d.length>0&&(c=Math.max(c,d.end(d.length-1))),b!==c&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.audioPlaylistLoader_&&this.audioPlaylistLoader_.dispose(),this.audioSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var a=this.masterPlaylistLoader_.media(),b=void 0;if(a&&"open"===this.mediaSource.readyState){if(b=I(this.masterPlaylistLoader_.master,a),b.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+a.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(b[0]),b[1]&&this.audioSegmentLoader_.mimeType(b[1]),this.excludeIncompatibleVariants_(a)}}},{key:"excludeIncompatibleVariants_",value:function(a){var b=this.masterPlaylistLoader_.master,c=2,d=null,e=null,f=void 0;a.attributes&&a.attributes.CODECS&&(f=H(a.attributes.CODECS),d=f.videoCodec,e=f.audioProfile,c=f.codecCount),b.playlists.forEach(function(a){var b={codecCount:2,videoCodec:null,audioProfile:null};if(a.attributes&&a.attributes.CODECS){var f=a.attributes.CODECS;b=H(f),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+f+'"')&&(a.excludeUntil=1/0)}b.codecCount!==c&&(a.excludeUntil=1/0),b.videoCodec!==d&&(a.excludeUntil=1/0),("5"===b.audioProfile&&"5"!==e||"5"===e&&"5"!==b.audioProfile)&&(a.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(a){var b=0,c=this.seekable();c.length&&(b=c.start(0)),B["default"].updateAdCues(a,this.cueTagsTrack_,b)}}]),b}(z["default"].EventTarget)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":354,"./playlist-loader":357,"./ranges":359,"./segment-loader":361,"./sync-controller":364,"babel-runtime/core-js/object/get-prototype-of":207,"babel-runtime/core-js/object/keys":208,"babel-runtime/helpers/classCallCheck":212,"babel-runtime/helpers/createClass":213,"babel-runtime/helpers/inherits":214,"babel-runtime/helpers/possibleConstructorReturn":215,"babel-runtime/helpers/typeof":217}],357:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./resolve-url"),f=d(e),g="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,h=a("./stream"),i=d(h),j=a("m3u8-parser"),k=d(j),l=a("global/window"),m=d(l),n=function(a,b,c){var d=b.slice(),e=void 0,f=void 0;for(c=c||0,e=Math.min(a.length,b.length+c),f=c;e>f;f++)d[f-c]=g.mergeOptions(a[f],d[f-c]);return d},o=function(a,b){for(var c=!1,d=g.mergeOptions(a,{}),e=a.playlists.length,h=void 0,i=void 0,j=void 0;e--;)if(h=d.playlists[e],h.uri===b.uri){if(h.segments&&b.segments&&h.segments.length===b.segments.length&&h.mediaSequence===b.mediaSequence)continue;for(d.playlists[e]=g.mergeOptions(h,b),d.playlists[b.uri]=d.playlists[e],h.segments&&(d.playlists[e].segments=n(h.segments,b.segments,b.mediaSequence-h.mediaSequence)),j=0,d.playlists[e].segments&&(j=d.playlists[e].segments.length);j--;)i=d.playlists[e].segments[j],i.resolvedUri||(i.resolvedUri=f["default"](h.resolvedUri,i.uri)),i.key&&!i.key.resolvedUri&&(i.key.resolvedUri=f["default"](h.resolvedUri,i.key.uri)),i.map&&!i.map.resolvedUri&&(i.map.resolvedUri=f["default"](h.resolvedUri,i.map.uri));c=!0}return c?d:null},p=function q(a,b,c){var d=this,e=this,g=void 0,h=void 0,i=void 0,j=void 0,l=void 0;if(q.prototype.constructor.call(this),this.hls_=b,!a)throw new Error("A non-empty playlist URL is required");j=function(a,b,c){e.setBandwidth(i||a),i=null,c&&(e.state=c),e.error={playlist:e.master.playlists[b],status:a.status,message:"HLS playlist request error at URL: "+b,responseText:a.responseText,code:a.status>=500?4:2},e.trigger("error")},l=function(a,b){var c=void 0,d=void 0,f=void 0;e.setBandwidth(i||a),i=null,e.state="HAVE_METADATA",c=new k["default"].Parser,c.push(a.responseText),c.end(),c.manifest.uri=b,f=o(e.master,c.manifest),d=1e3*(c.manifest.targetDuration||10),e.targetDuration=c.manifest.targetDuration,f?(e.master=f,e.media_=e.master.playlists[c.manifest.uri]):d/=2,e.media().endList||(m["default"].clearTimeout(h),h=m["default"].setTimeout(function(){e.trigger("mediaupdatetimeout")},d)),e.trigger("loadedplaylist")},e.state="HAVE_NOTHING",g=this.dispose,e.dispose=function(){e.stopRequest(),m["default"].clearTimeout(h),g.call(this)},e.stopRequest=function(){if(i){var a=i;i=null,a.onreadystatechange=null,a.abort()}},e.enabledPlaylists_=function(){return e.master.playlists.filter(function(a){return!a.excludeUntil||a.excludeUntil<=Date.now()}).length},e.isLowestEnabledRendition_=function(){var a=e.media();if(!a||!a.attributes)return!1;var b=e.media().attributes.BANDWIDTH||0;return!(e.master.playlists.filter(function(a){var c="undefined"==typeof a.excludeUntil||a.excludeUntil<=Date.now();if(!c)return!1;var d=0;return a&&a.attributes&&(d=a.attributes.BANDWIDTH),b>=d}).length>1)},e.media=function(a){var b=e.state,d=void 0;if(!a)return e.media_;if("HAVE_NOTHING"===e.state)throw new Error("Cannot switch media playlist from "+e.state);if("string"==typeof a){if(!e.master.playlists[a])throw new Error("Unknown playlist URI: "+a);a=e.master.playlists[a]}if(d=!e.media_||a.uri!==e.media_.uri,e.master.playlists[a.uri].endList)return i&&(i.onreadystatechange=null,i.abort(),i=null),e.state="HAVE_METADATA",e.media_=a,void(d&&(e.trigger("mediachanging"),e.trigger("mediachange")));if(d){if(e.state="SWITCHING_MEDIA",i){if(f["default"](e.master.uri,a.uri)===i.url)return;i.onreadystatechange=null,i.abort(),i=null}this.media_&&this.trigger("mediachanging"),i=this.hls_.xhr({uri:f["default"](e.master.uri,a.uri),withCredentials:c},function(c,d){if(i){if(c)return j(i,a.uri,b);l(d,a.uri),e.trigger("HAVE_MASTER"===b?"loadedmetadata":"mediachange")}})}},e.setBandwidth=function(a){e.bandwidth=a.bandwidth},e.on("mediaupdatetimeout",function(){"HAVE_METADATA"===e.state&&(e.state="HAVE_CURRENT_METADATA",i=this.hls_.xhr({uri:f["default"](e.master.uri,e.media().uri),withCredentials:c},function(a){return i?a?j(i,e.media().uri):void l(i,e.media().uri):void 0}))}),e.on("firstplay",function(){var a=e.media();a&&(a.syncInfo={mediaSequence:a.mediaSequence,time:0})}),e.pause=function(){e.stopRequest(),m["default"].clearTimeout(h)},e.load=function(){e.started?e.trigger(e.media().endList?"loadedplaylist":"mediaupdatetimeout"):e.start()},e.start=function(){e.started=!0,i=d.hls_.xhr({uri:a,withCredentials:c},function(b,c){var d=void 0,g=void 0,h=void 0;if(i){if(i=null,b)return e.error={status:c.status,message:"HLS playlist request error at URL: "+a,responseText:c.responseText,code:2},e.trigger("error");if(d=new k["default"].Parser,d.push(c.responseText),d.end(),e.state="HAVE_MASTER",d.manifest.uri=a,d.manifest.playlists){for(e.master=d.manifest,h=e.master.playlists.length;h--;)g=e.master.playlists[h],e.master.playlists[g.uri]=g,g.resolvedUri=f["default"](e.master.uri,g.uri);for(var j in e.master.mediaGroups.AUDIO)for(var n in e.master.mediaGroups.AUDIO[j]){var o=e.master.mediaGroups.AUDIO[j][n];o.uri&&(o.resolvedUri=f["default"](e.master.uri,o.uri))}return e.trigger("loadedplaylist"),void(i||e.media(d.manifest.playlists[0]))}return e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:m["default"].location.href,playlists:[{uri:a}]},e.master.playlists[a]=e.master.playlists[0],e.master.playlists[0].resolvedUri=a,l(c,a),e.trigger("loadedmetadata")}})}};p.prototype=new i["default"],c["default"]=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./resolve-url":360,"./stream":363,"global/window":301,"m3u8-parser":338}],358:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c.getMediaInfoForTime_=c.seekable=c.sumDurations=c.duration=void 0;var e="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,f=a("global/window"),g=d(f),h={UNSAFE_LIVE_SEGMENTS:3},i=function(a,b){var c=0,d=b-a.mediaSequence,e=a.segments[d];if(e){if("undefined"!=typeof e.start)return{result:e.start,precise:!0};if("undefined"!=typeof e.end)return{result:e.end-e.duration,precise:!0}}for(;d--;){if(e=a.segments[d],"undefined"!=typeof e.end)return{result:c+e.end,precise:!0};if(c+=e.duration,"undefined"!=typeof e.start)return{result:c+e.start,precise:!0}}return{result:c,precise:!1}},j=function(a,b){for(var c=0,d=void 0,e=b-a.mediaSequence;e<a.segments.length;e++){if(d=a.segments[e],"undefined"!=typeof d.start)return{result:d.start-c,precise:!0};if(c+=d.duration,"undefined"!=typeof d.end)return{result:d.end-c,precise:!0}}return{result:-1,precise:!1}},k=function(a,b,c){var d=void 0,e=void 0;return"undefined"==typeof b&&(b=a.mediaSequence+a.segments.length),b<a.mediaSequence?0:(d=i(a,b),d.precise?d.result:(e=j(a,b),e.precise?e.result:d.result+c))},l=c.duration=function(a,b,c){if(!a)return 0;if("number"!=typeof c&&(c=0),"undefined"==typeof b){if(a.totalDuration)return a.totalDuration;if(!a.endList)return g["default"].Infinity}return k(a,b,c)},m=c.sumDurations=function(a,b,c){var d=0;if(b>c){var e=[c,b];b=e[0],c=e[1]}if(0>b){for(var f=b;f<Math.min(0,c);f++)d+=a.targetDuration;b=0}for(var g=b;c>g;g++)d+=a.segments[g].duration;return d},n=function(a){if(!a||!a.segments)return[null,null];for(var b=a.syncInfo||null,c=null,d=0,e=a.segments.length;e>d;d++){var f=a.segments[d];if("undefined"!=typeof f.start){c={mediaSequence:a.mediaSequence+d,time:f.start};break}}return{expiredSync:b,segmentSync:c}},o=function(a,b,c){if(b&&c){var d=b.mediaSequence-a.mediaSequence,e=c.mediaSequence-a.mediaSequence,f=void 0,g=void 0;return Math.abs(d)>Math.abs(e)?(f=e,g=-c.time):(f=d,g=b.time),Math.abs(g+m(a,f,0))}if(b){var h=b.mediaSequence-a.mediaSequence;return b.time+m(a,h,0)}if(c){var i=c.mediaSequence-a.mediaSequence;return c.time-m(a,i,0)}},p=c.seekable=function(a){if(!a||!a.segments)return e.createTimeRange();if(a.endList)return e.createTimeRange(0,l(a));var b=n(a),c=b.expiredSync,d=b.segmentSync;if(!c&&!d)return e.createTimeRange();var f=o(a,c,d),g=f,i=Math.max(0,a.segments.length-h.UNSAFE_LIVE_SEGMENTS),j=k(a,a.mediaSequence+i,f);return e.createTimeRange(g,j)},q=function(a){return a-Math.floor(a)===0},r=function(a,b){if(q(b))return b+.1*a;for(var c=b.toString().split(".")[1].length,d=1;c>=d;d++){var e=Math.pow(10,d),f=b*e;if(q(f)||d===c)return(f+a)/e}},s=r.bind(null,1),t=r.bind(null,-1),u=c.getMediaInfoForTime_=function(a,b,c,d){var e=void 0,f=void 0,g=a.segments.length,h=b-d;if(0>h){if(c>0)for(e=c-1;e>=0;e--)if(f=a.segments[e],h+=t(f.duration),h>0)return{mediaIndex:e,startTime:d-m(a,c,e)};return{mediaIndex:0,startTime:b}}if(0>c){for(e=c;0>e;e++)if(h-=a.targetDuration,0>h)return{mediaIndex:0,startTime:b};c=0}for(e=c;g>e;e++)if(f=a.segments[e],h-=s(f.duration),0>h)return{mediaIndex:e,startTime:d+m(a,c,e)};return{mediaIndex:g-1,startTime:b}};h.duration=l,h.seekable=p,h.getMediaInfoForTime_=u,c["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":301}],359:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/slicedToArray"),f=d(e),g="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,h=d(g),i=1/30,j=function(a,b){var c=f["default"](b,2),d=c[0],e=c[1];return Math.min(Math.max(d,a),e)},k=function(a,b){var c=[],d=void 0;if(a&&a.length)for(d=0;d<a.length;d++)b(a.start(d),a.end(d))&&c.push([a.start(d),a.end(d)]);return h["default"].createTimeRanges(c)},l=function(a,b){return k(a,function(a,c){return b>=a-i&&c+i>=b})},m=function(a,b){return k(a,function(a){return a-i>=b})},n=function(a){if(a.length<2)return h["default"].createTimeRanges();for(var b=[],c=1;c<a.length;c++){var d=a.end(c-1),e=a.start(c);b.push([d,e])}return h["default"].createTimeRanges(b)},o=function(a,b){var c=void 0,d=void 0,e=void 0,f=[],g=[],h=function(a){return a[0]<=e&&a[1]>=e};if(a)for(c=0;c<a.length;c++)d=a.start(c),e=a.end(c),g.push([d,e]);if(b)for(c=0;c<b.length;c++)d=b.start(c),e=b.end(c),g.some(h)||f.push(e);return 1!==f.length?null:f[0]},p=function(a,b){var c=null,d=null,e=0,f=[],g=[];if(!(a&&a.length&&b&&b.length))return h["default"].createTimeRange();for(var i=a.length;i--;)f.push({time:a.start(i),type:"start"}),f.push({time:a.end(i),type:"end"});for(i=b.length;i--;)f.push({time:b.start(i),type:"start"}),f.push({time:b.end(i),type:"end"});for(f.sort(function(a,b){return a.time-b.time}),i=0;i<f.length;i++)"start"===f[i].type?(e++,2===e&&(c=f[i].time)):"end"===f[i].type&&(e--,1===e&&(d=f[i].time)),null!==c&&null!==d&&(g.push([c,d]),c=null,d=null);return h["default"].createTimeRanges(g)},q=function(a,b,c,d){for(var e=b.end(0)-b.start(0),f=a.end(0)-a.start(0),g=e-f,h=p(a,d),i=p(b,d),j=0,k=0,l=h.length;l--;)j+=h.end(l)-h.start(l),h.start(l)===c&&(j+=g);for(l=i.length;l--;)k+=i.end(l)-i.start(l);return Math.max(j,k)/e*100},r=function(a,b,c,d){var e=a+b,f=h["default"].createTimeRanges([[a,e]]),g=h["default"].createTimeRanges([[j(a,[c,e]),e]]);if(g.start(0)===g.end(0))return 0;var i=q(g,f,c,d);return isNaN(i)||i===1/0||i===-(1/0)?0:i};c["default"]={findRange:l,findNextRange:m,findGaps:n,findSoleUncommonTimeRangesEnd:o,getSegmentBufferedPercent:r,TIME_FUDGE_FACTOR:i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});

},{"babel-runtime/helpers/slicedToArray":216}],360:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("url-toolkit"),f=d(e),g=a("global/window"),h=d(g),i=function(a,b){return/^[a-z]+:/i.test(b)?b:(/\/\//i.test(a)||(a=f["default"].buildAbsoluteURL(h["default"].location.href,a)),f["default"].buildAbsoluteURL(a,b))};c["default"]=i},{"global/window":301,"url-toolkit":353}],361:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/inherits"),n=d(m),o=a("./playlist"),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,q=d(p),r=a("./source-updater"),s=d(r),t=a("aes-decrypter"),u=a("./config"),v=d(u),w=a("global/window"),x=d(w),y=500,z="console",A=function(){x["default"].logit&&x["default"][z].log.apply(x["default"][z],arguments)},B=function(a,b,c){if(!a)return!1;var d=a.segments,e=c===d.length;return a.endList&&"open"===b.readyState&&e},C=function(a){var b=void 0,c=void 0;return c=a.offset+a.length-1,b=a.offset,"bytes="+b+"-"+c},D=function(a){var b={};return"byterange"in a&&(b.Range=C(a.byterange)),b},E=function(a){var b=a.byterange||{length:1/0,offset:0};return[b.length,b.offset,a.resolvedUri].join(",")},F=function(a){function b(a){h["default"](this,b);var c=l["default"](this,f["default"](b).call(this)),d=void 0;if(!a)throw new TypeError("Initialization options are required");if("function"!=typeof a.currentTime)throw new TypeError("No currentTime getter specified");if(!a.mediaSource)throw new TypeError("No MediaSource specified");return d=q["default"].mergeOptions(q["default"].options.hls,a),c.state="INIT",c.bandwidth=d.bandwidth,c.throughput={rate:0,count:0},c.roundTrip=0/0,c.resetStats_(),c.mediaIndex=null,c.hasPlayed_=d.hasPlayed,c.currentTime_=d.currentTime,c.seekable_=d.seekable,c.seeking_=d.seeking,c.setCurrentTime_=d.setCurrentTime,c.mediaSource_=d.mediaSource,c.hls_=d.hls,c.checkBufferTimeout_=null,c.error_=void 0,c.currentTimeline_=-1,c.xhr_=null,c.pendingSegment_=null,c.mimeType_=null,c.sourceUpdater_=null,c.xhrOptions_=null,c.activeInitSegmentId_=null,c.initSegments_={},c.syncController_=d.syncController,c.syncPoint_={segmentIndex:0,time:0},c.syncController_.on("syncinfoupdate",function(){return c.trigger("syncinfoupdate")}),c.fetchAtBuffer_=!1,c}return n["default"](b,a),j["default"](b,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),void(this.paused()||(this.state="READY",this.fillBuffer_())))}},{key:"error",value:function(a){return"undefined"!=typeof a&&(this.error_=a),this.pendingSegment_=null,this.error_}},{key:"load",value:function(){return this.monitorBuffer_(),this.playlist_?(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.mimeType_?this.init_():void(!this.sourceUpdater_||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY",this.fillBuffer_()))):void 0}},{key:"playlist",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(a){var c=this.playlist_,d=this.pendingSegment_;if(null!==this.mediaIndex)if(c&&c.uri===a.uri){var e=a.mediaSequence-c.mediaSequence;this.mediaIndex-=e,d&&!d.isSyncRequest&&(d.mediaIndex-=e),this.syncController_.saveExpiredSegmentInfo(c,a)}else this.resyncLoader();else this.hasPlayed_()||(a.syncInfo={mediaSequence:a.mediaSequence,time:0},this.trigger("syncinfoupdate"));return this.playlist_=a,this.xhrOptions_=b,this.mimeType_&&"INIT"===this.state&&!this.paused()?this.init_():void 0}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(x["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(a){this.mimeType_||(this.mimeType_=a,this.playlist_&&"INIT"===this.state&&!this.paused()&&this.init_())}},{key:"monitorBuffer_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&x["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=x["default"].setTimeout(this.monitorBuffer_.bind(this),y)}},{key:"getSyncSegmentCandidate_",value:function(a){var b=this;if(-1===this.currentTimeline_)return 0;var c=a.segments.map(function(a,b){return{timeline:a.timeline,segmentIndex:b}}).filter(function(a){return a.timeline===b.currentTimeline_});return c.length?c[Math.min(c.length-1,1)].segmentIndex:Math.max(a.segments.length-1,0)}},{key:"checkBuffer_",value:function(a,b,c,d,e,f){var g=0,h=void 0;a.length&&(g=a.end(a.length-1));var i=Math.max(0,g-e);if(!b.segments.length)return null;if(A("cB_","mediaIndex:",c,"hasPlayed:",d,"currentTime:",e,"syncPoint:",f,"fetchAtBuffer:",this.fetchAtBuffer_),A("cB_ 2","bufferedTime:",i),i>=v["default"].GOAL_BUFFER_LENGTH)return null;if(!d&&i>=1)return null;if(null===f)return c=this.getSyncSegmentCandidate_(b),A("getSync",c),this.generateSegmentInfo_(b,c,null,!0);if(null!==c){A("++",c+1);var j=b.segments[c];return h=j&&j.end?j.end:g,this.generateSegmentInfo_(b,c+1,h,!1)}if(this.fetchAtBuffer_){var k=o.getMediaInfoForTime_(b,g,f.segmentIndex,f.time);c=k.mediaIndex,h=k.startTime}else{var l=o.getMediaInfoForTime_(b,e,f.segmentIndex,f.time);c=l.mediaIndex,h=l.startTime}return A("gMIFT",c,"sos",h),this.generateSegmentInfo_(b,c,h,!1)}},{key:"generateSegmentInfo_",value:function(a,b,c,d){if(b!==a.segments.length){if(0>b||b>a.segments.length)return this.__segmentOffset=this.currentTime_(),this.resetEverything();var e=null;this.__segmentOffset&&(e=this.__segmentOffset);var f=a.segments[b];return{uri:f.resolvedUri,mediaIndex:b,isSyncRequest:d,startOfSegment:c,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:e,timeline:f.timeline,duration:f.duration}}}},{key:"abort_",value:function(){this.xhr_&&this.xhr_.abort(),this.pendingSegment_=null}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new s["default"](this.mediaSource_,this.mimeType_),this.resetEverything(),this.fillBuffer_()}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.mediaSource_.duration,this.currentTimeline_));var a=this.checkBuffer_(this.sourceUpdater_.buffered(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(a){var b=B(this.playlist_,this.mediaSource_,a.mediaIndex);return b?void this.mediaSource_.endOfStream():void((a.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((a.timeline!==this.currentTimeline_||null!==a.startOfSegment&&a.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),a.timestampOffset=a.startOfSegment),this.currentTimeline_=a.timeline,this.loadSegment_(a)))}}}},{key:"trimBuffer_",value:function(){var a=this.seekable_(),b=this.currentTime_(),c=void 0;return a.length&&a.start(0)>0&&a.start(0)<b?a.start(0):c=b-60}},{key:"loadSegment_",value:function(a){var b=void 0,c=void 0,d=void 0,e=void 0,f=0;if(f=this.trimBuffer_(a),f>0&&this.sourceUpdater_.remove(0,f),b=a.playlist.segments[a.mediaIndex],b.key){var g=q["default"].mergeOptions(this.xhrOptions_,{uri:b.key.resolvedUri,responseType:"arraybuffer"});c=this.hls_.xhr(g,this.handleResponse_.bind(this))}if(b.map&&!this.initSegments_[E(b.map)]){var h=q["default"].mergeOptions(this.xhrOptions_,{uri:b.map.resolvedUri,responseType:"arraybuffer",headers:D(b.map)});d=this.hls_.xhr(h,this.handleResponse_.bind(this))}this.pendingSegment_=a;var i=q["default"].mergeOptions(this.xhrOptions_,{uri:a.uri,responseType:"arraybuffer",headers:D(b)});e=this.hls_.xhr(i,this.handleResponse_.bind(this)),this.xhr_={keyXhr:c,initSegmentXhr:d,segmentXhr:e,abort:function(){this.segmentXhr&&(this.segmentXhr.onreadystatechange=null,this.segmentXhr.abort(),this.segmentXhr=null),this.initSegmentXhr&&(this.initSegmentXhr.onreadystatechange=null,this.initSegmentXhr.abort(),this.initSegmentXhr=null),this.keyXhr&&(this.keyXhr.onreadystatechange=null,this.keyXhr.abort(),this.keyXhr=null)}},this.state="WAITING"}},{key:"handleResponse_",value:function(a,b){var c=void 0,d=void 0,e=void 0;if(this.xhr_&&(b===this.xhr_.segmentXhr||b===this.xhr_.keyXhr||b===this.xhr_.initSegmentXhr)){if(c=this.pendingSegment_,d=c.playlist.segments[c.mediaIndex],b.timedout)return this.abort_(),this.bandwidth=1,this.roundTrip=0/0,this.state="READY",this.trigger("progress");if(!b.aborted&&a){var f=this.xhr_.keyXhr;return this.abort_(),this.error({status:b.status,message:b===f?"HLS key request error at URL: "+d.key.uri:"HLS segment request error at URL: "+c.uri,code:2,xhr:b}),this.state="READY",this.pause(),this.trigger("error")}if(!b.response)return void this.abort_();if(b===this.xhr_.segmentXhr&&(this.xhr_.segmentXhr=null,c.startOfAppend=Date.now(),this.roundTrip=b.roundTripTime,this.bandwidth=b.bandwidth,this.mediaBytesTransferred+=b.bytesReceived||0,this.mediaRequests+=1,this.mediaTransferDuration+=b.roundTripTime||0,d.key?c.encryptedBytes=new Uint8Array(b.response):c.bytes=new Uint8Array(b.response)),b===this.xhr_.keyXhr){if(this.xhr_.keyXhr=null,16!==b.response.byteLength)return this.abort_(),this.error({status:b.status,message:"Invalid HLS key at URL: "+d.key.uri,code:2,xhr:b}),this.state="READY",this.pause(),this.trigger("error");e=new DataView(b.response),d.key.bytes=new Uint32Array([e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12)]),d.key.iv=d.key.iv||new Uint32Array([0,0,0,c.mediaIndex+c.playlist.mediaSequence])}b===this.xhr_.initSegmentXhr&&(this.xhr_.initSegmentXhr=null,d.map.bytes=new Uint8Array(b.response),this.initSegments_[E(d.map)]=d.map),this.xhr_.segmentXhr||this.xhr_.keyXhr||this.xhr_.initSegmentXhr||(this.xhr_=null,this.processResponse_())}}},{key:"resetEverything",value:function(){this.resetLoader(),this.remove(0,1/0)}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null}},{key:"remove",value:function(a,b){this.sourceUpdater_&&this.sourceUpdater_.remove(a,b)}},{key:"processResponse_",value:function(){if(!this.pendingSegment_)return void(this.state="READY");this.state="DECRYPTING";var a=this.pendingSegment_,b=a.playlist.segments[a.mediaIndex];b.key?new t.Decrypter(a.encryptedBytes,b.key.bytes,b.key.iv,function(b,c){a.bytes=c,this.handleSegment_()}.bind(this)):this.handleSegment_()}},{key:"handleSegment_",value:function(){var a=this;if(!this.pendingSegment_)return void(this.state="READY");this.state="APPENDING";var b=this.pendingSegment_,c=b.playlist.segments[b.mediaIndex];return this.syncController_.probeSegmentInfo(b),b.isSyncRequest?(this.pendingSegment_=null,void(this.state="READY")):(null!==b.timestampOffset&&b.timestampOffset!==this.sourceUpdater_.timestampOffset()&&this.sourceUpdater_.timestampOffset(b.timestampOffset),c.map&&!function(){var b=E(c.map);if(!a.activeInitSegmentId_||a.activeInitSegmentId_!==b){var d=a.initSegments_[b];a.sourceUpdater_.appendBuffer(d.bytes,function(){a.activeInitSegmentId_=b})}}(),b.byteLength=b.bytes.byteLength,this.mediaSecondsLoaded+="number"==typeof c.start&&"number"==typeof c.end?c.end-c.start:c.duration,void this.sourceUpdater_.appendBuffer(b.bytes,this.handleUpdateEnd_.bind(this)))}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.fillBuffer_());var a=this.pendingSegment_;this.pendingSegment_=null,this.recordThroughput_(a),A("handleUpdateEnd_"),a.isSyncRequest||(this.mediaIndex=a.mediaIndex,this.fetchAtBuffer_=!0);var b=a.mediaIndex;b+=a.playlist.mediaSequence-this.playlist_.mediaSequence;var c=B(a.playlist,this.mediaSource_,b+1);c&&this.mediaSource_.endOfStream(),this.state="READY",this.trigger("progress"),this.paused()||this.fillBuffer_()}},{key:"recordThroughput_",value:function(a){var b=this.throughput.rate,c=Date.now()-a.startOfAppend+1,d=Math.floor(a.byteLength/c*8*1e3);this.throughput.rate+=(d-b)/++this.throughput.count}}]),b}(q["default"].EventTarget);c["default"]=F}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":355,"./playlist":358,"./source-updater":362,"aes-decrypter":201,"babel-runtime/core-js/object/get-prototype-of":207,"babel-runtime/helpers/classCallCheck":212,"babel-runtime/helpers/createClass":213,"babel-runtime/helpers/inherits":214,"babel-runtime/helpers/possibleConstructorReturn":215,"global/window":301}],362:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("babel-runtime/helpers/classCallCheck"),f=d(e),g=a("babel-runtime/helpers/createClass"),h=d(g),i="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,j=d(i),k=function(){function a(b,c){var d=this;f["default"](this,a);var e=function(){d.sourceBuffer_=b.addSourceBuffer(c),d.onUpdateendCallback_=function(){var a=d.pendingCallback_;d.pendingCallback_=null,a&&a(),d.runCallback_()},d.sourceBuffer_.addEventListener("updateend",d.onUpdateendCallback_),d.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=b,"closed"===b.readyState?b.addEventListener("sourceopen",e):e()}return h["default"](a,[{key:"abort",value:function(a){var b=this;this.queueCallback_(function(){b.sourceBuffer_.abort()},a)}},{key:"appendBuffer",value:function(a,b){var c=this;this.queueCallback_(function(){c.sourceBuffer_.appendBuffer(a)},b)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:j["default"].createTimeRanges()}},{key:"duration",value:function(a){var b=this;this.queueCallback_(function(){b.sourceBuffer_.duration=a})}},{key:"remove",value:function(a,b){var c=this;this.queueCallback_(function(){c.sourceBuffer_.remove(a,b)})}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating}},{key:"timestampOffset",value:function(a){var b=this;return"undefined"!=typeof a&&(this.queueCallback_(function(){b.sourceBuffer_.timestampOffset=a}),this.timestampOffset_=a),this.timestampOffset_}},{key:"queueCallback_",value:function(a,b){this.callbacks_.push([a.bind(this),b]),this.runCallback_()}},{key:"runCallback_",value:function(){var a=void 0;this.sourceBuffer_&&!this.sourceBuffer_.updating&&this.callbacks_.length&&(a=this.callbacks_.shift(),this.pendingCallback_=a[1],a[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),a}();c["default"]=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/classCallCheck":212,"babel-runtime/helpers/createClass":213}],363:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("babel-runtime/helpers/classCallCheck"),f=d(e),g=a("babel-runtime/helpers/createClass"),h=d(g),i=function(){function a(){f["default"](this,a),this.listeners={}}return h["default"](a,[{key:"on",value:function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)}},{key:"off",value:function(a,b){var c=void 0;return this.listeners[a]?(c=this.listeners[a].indexOf(b),this.listeners[a].splice(c,1),c>-1):!1}},{key:"trigger",value:function(a){var b=void 0,c=void 0,d=void 0,e=void 0;if(b=this.listeners[a])if(2===arguments.length)for(d=b.length,c=0;d>c;++c)b[c].call(this,arguments[1]);else for(e=Array.prototype.slice.call(arguments,1),d=b.length,c=0;d>c;++c)b[c].apply(this,e)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(a){this.on("data",function(b){a.push(b)})}}]),a}();c["default"]=i},{"babel-runtime/helpers/classCallCheck":212,"babel-runtime/helpers/createClass":213}],364:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=c.syncPointStrategies=void 0;var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/inherits"),n=d(m),o=a("mux.js/lib/mp4/probe"),p=d(o),q=a("mux.js/lib/tools/ts-inspector.js"),r=a("./playlist"),s="undefined"!=typeof window?window.videojs:"undefined"!=typeof b?b.videojs:null,t=d(s),u="console",v=function(){window.logit&&window[u].log.apply(window[u],arguments)},w=c.syncPointStrategies=[{name:"VOD",run:function(a,b,c){if(c!==1/0){var d={time:0,segmentIndex:0};return d}return null}},{name:"ProgramDateTime",run:function(a,b){if(a.datetimeToDisplayTime&&b.dateTimeObject){var c=b.dateTimeObject.getTime()/1e3,d=c+a.datetimeToDisplayTime,e={time:d,segmentIndex:0};return e}return null}},{name:"Segment",run:function(a,b,c,d){for(var e=b.segments,f=e.length-1;f>=0;f--){var g=e[f];if(g.timeline===d&&"undefined"!=typeof g.start){var h={time:g.start,segmentIndex:f};return h}}return null}},{name:"Discontinuity",run:function(a,b){if(b.discontinuityStarts.length)for(var c=0;c<b.discontinuityStarts.length;c++){var d=b.discontinuityStarts[c],e=b.discontinuitySequence+c+1;if(a.discontinuities[e]){var f={time:a.discontinuities[e].time,segmentIndex:d};return f}}return null}},{name:"Playlist",run:function(a,b){if(b.syncInfo){var c={time:b.syncInfo.time,segmentIndex:b.syncInfo.mediaSequence-b.mediaSequence};return c}return null}}],x=function(a){function b(){h["default"](this,b);var a=l["default"](this,f["default"](b).call(this));return a.inspectCache_=void 0,a.timelines=[],a.discontinuities=[],a.datetimeToDisplayTime=null,a}return n["default"](b,a),j["default"](b,[{key:"getSyncPoint",value:function(a,b,c){for(var d=0;d<w.length;d++){var e=w[d],f=e.run(this,a,b,c);if(f)return v("syncPoint found via <"+e.name+">:",f),f}return null}},{key:"saveExpiredSegmentInfo",value:function(a,b){for(var c=b.mediaSequence-a.mediaSequence,d=c-1;d>=0;d--){var e=a.segments[d];if("undefined"!=typeof e.start){b.syncInfo={mediaSequence:a.mediaSequence+d,time:e.start},v("playlist sync:",b.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(a){if(!this.datetimeToDisplayTime&&a.dateTimeObject){var b=a.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-b}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(a){var b=a.playlist.segments[a.mediaIndex],c=void 0;c=b.map?this.probeMp4Segment_(a):this.probeTsSegment_(a),c&&this.calculateSegmentTimeMapping_(a,c)&&this.saveDiscontinuitySyncInfo_(a)}},{key:"probeMp4Segment_",value:function(a){var b=a.playlist.segments[a.mediaIndex],c=p["default"].timescale(b.map.bytes),d=p["default"].startTime(c,a.bytes);return null!==a.timestampOffset&&(a.timestampOffset-=d),{start:d,end:d+b.duration}}},{key:"probeTsSegment_",value:function(a){var b=q.inspect(a.bytes,this.inspectCache_),c=void 0,d=void 0;return b?(b.video&&2===b.video.length?(this.inspectCache_=b.video[1].dts,c=b.video[0].dtsTime,d=b.video[1].dtsTime):b.audio&&2===b.audio.length&&(this.inspectCache_=b.audio[1].dts,c=b.audio[0].dtsTime,d=b.audio[1].dtsTime),{start:c,end:d}):null}},{key:"calculateSegmentTimeMapping_",value:function(a,b){var c=a.playlist.segments[a.mediaIndex],d=this.timelines[a.timeline];if(null!==a.timestampOffset)v("tsO:",a.timestampOffset),d={time:a.timestampOffset,mapping:a.timestampOffset-b.start},this.timelines[a.timeline]=d,c.start=a.timestampOffset,c.end=b.end+d.mapping;else{if(!d)return!1;c.start=b.start+d.mapping,c.end=b.end+d.mapping}return this.trigger("syncinfoupdate"),!0}},{key:"saveDiscontinuitySyncInfo_",value:function(a){var b=a.playlist,c=b.segments[a.mediaIndex];if(c.discontinuity)this.discontinuities[c.timeline]={time:c.start,accuracy:0};else if(b.discontinuityStarts.length)for(var d=0;d<b.discontinuityStarts.length;d++){var e=b.discontinuityStarts[d],f=b.discontinuitySequence+d+1,g=e-a.mediaIndex;g>0&&(!this.discontinuities[f]||this.discontinuities[f].accuracy>g)&&(this.discontinuities[f]={time:c.end+r.sumDurations(b,a.mediaIndex+1,e),accuracy:g})}}}]),b}(t["default"].EventTarget);c["default"]=x}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist":358,"babel-runtime/core-js/object/get-prototype-of":207,"babel-runtime/helpers/classCallCheck":212,"babel-runtime/helpers/createClass":213,"babel-runtime/helpers/inherits":214,"babel-runtime/helpers/possibleConstructorReturn":215,"mux.js/lib/mp4/probe":347,"mux.js/lib/tools/ts-inspector.js":348}]},{},[197])(197)}),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c.IVPAIDAdUnit=function(){function a(){d(this,a)}return e(a,[{key:"handshakeVersion",value:function(){arguments.length<=0||void 0===arguments[0]?"2.0":arguments[0],arguments.length<=1||void 0===arguments[1]?void 0:arguments[1]}},{key:"initAd",value:function(){arguments.length<=4||void 0===arguments[4]?{AdParameters:""}:arguments[4],arguments.length<=5||void 0===arguments[5]?{flashVars:""}:arguments[5],arguments.length<=6||void 0===arguments[6]?void 0:arguments[6]}},{key:"resizeAd",value:function(){arguments.length<=3||void 0===arguments[3]?void 0:arguments[3]}},{key:"startAd",value:function(){arguments.length<=0||void 0===arguments[0]?void 0:arguments[0]}},{key:"stopAd",value:function(){arguments.length<=0||void 0===arguments[0]?void 0:arguments[0]}},{key:"pauseAd",value:function(){arguments.length<=0||void 0===arguments[0]?void 0:arguments[0]}},{key:"resumeAd",value:function(){arguments.length<=0||void 0===arguments[0]?void 0:arguments[0]}},{key:"expandAd",value:function(){arguments.length<=0||void 0===arguments[0]?void 0:arguments[0]}},{key:"collapseAd",value:function(){arguments.length<=0||void 0===arguments[0]?void 0:arguments[0]}},{key:"skipAd",value:function(){arguments.length<=0||void 0===arguments[0]?void 0:arguments[0]}},{key:"getAdLinear",value:function(){}},{key:"getAdWidth",value:function(){}},{key:"getAdHeight",value:function(){}},{key:"getAdExpanded",value:function(){}},{key:"getAdSkippableState",value:function(){}},{key:"getAdRemainingTime",value:function(){}},{key:"getAdDuration",value:function(){}},{key:"setAdVolume",value:function(){arguments.length<=1||void 0===arguments[1]?void 0:arguments[1]}},{key:"getAdVolume",value:function(){}},{key:"getAdCompanions",value:function(){}},{key:"getAdIcons",value:function(){}}]),a}();Object.defineProperty(f,"EVENTS",{writable:!1,configurable:!1,value:["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]})},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0});{var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./IVPAIDAdUnit").IVPAIDAdUnit,j=Object.getOwnPropertyNames(i.prototype).filter(function(a){return-1===["constructor"].indexOf(a)});c.VPAIDAdUnit=function(a){function b(a){d(this,b);var c=e(this,Object.getPrototypeOf(b).call(this));return c._destroyed=!1,c._flash=a,c}return f(b,a),h(b,[{key:"_destroy",value:function(){var a=this;this._destroyed=!0,j.forEach(function(b){a._flash.removeCallbackByMethodName(b)}),i.EVENTS.forEach(function(b){a._flash.offEvent(b)}),this._flash=null}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"on",value:function(a,b){this._flash.on(a,b)}},{key:"off",value:function(a,b){this._flash.off(a,b)}},{key:"handshakeVersion",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"2.0":arguments[0],b=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];this._flash.callFlashMethod("handshakeVersion",[a],b)}},{key:"initAd",value:function(a,b,c,d){var e=arguments.length<=4||void 0===arguments[4]?{AdParameters:""}:arguments[4],f=arguments.length<=5||void 0===arguments[5]?{flashVars:""}:arguments[5],g=arguments.length<=6||void 0===arguments[6]?void 0:arguments[6];this._flash.setSize(a,b),e=e||{AdParameters:""},f=f||{flashVars:""},this._flash.callFlashMethod("initAd",[this._flash.getWidth(),this._flash.getHeight(),c,d,e.AdParameters||"",f.flashVars||""],g)}},{key:"resizeAd",value:function(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];this._flash.setSize(a,b),this._flash.callFlashMethod("resizeAd",[this._flash.getWidth(),this._flash.getHeight(),c],d)}},{key:"startAd",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._flash.callFlashMethod("startAd",[],a)}},{key:"stopAd",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._flash.callFlashMethod("stopAd",[],a)}},{key:"pauseAd",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._flash.callFlashMethod("pauseAd",[],a)}},{key:"resumeAd",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._flash.callFlashMethod("resumeAd",[],a)}},{key:"expandAd",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._flash.callFlashMethod("expandAd",[],a)}},{key:"collapseAd",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._flash.callFlashMethod("collapseAd",[],a)}},{key:"skipAd",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this._flash.callFlashMethod("skipAd",[],a)}},{key:"getAdLinear",value:function(a){this._flash.callFlashMethod("getAdLinear",[],a)}},{key:"getAdWidth",value:function(a){this._flash.callFlashMethod("getAdWidth",[],a)}},{key:"getAdHeight",value:function(a){this._flash.callFlashMethod("getAdHeight",[],a)}},{key:"getAdExpanded",value:function(a){this._flash.callFlashMethod("getAdExpanded",[],a)}},{key:"getAdSkippableState",value:function(a){this._flash.callFlashMethod("getAdSkippableState",[],a)}},{key:"getAdRemainingTime",value:function(a){this._flash.callFlashMethod("getAdRemainingTime",[],a)}},{key:"getAdDuration",value:function(a){this._flash.callFlashMethod("getAdDuration",[],a)}},{key:"setAdVolume",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];this._flash.callFlashMethod("setAdVolume",[a],b)}},{key:"getAdVolume",value:function(a){this._flash.callFlashMethod("getAdVolume",[],a)}},{key:"getAdCompanions",value:function(a){this._flash.callFlashMethod("getAdCompanions",[],a)}},{key:"getAdIcons",value:function(a){this._flash.callFlashMethod("getAdIcons",[],a)}}]),b}(i)}},{"./IVPAIDAdUnit":1}],3:[function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(){if(this._destroyed)throw new Error("VPAIDFlashToJS is destroyed!")}function e(){this._loadLater&&(this.loadAdUnit(this._loadLater.url,this._loadLater.callback),delete this._loadLater)}function f(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];Object.defineProperty(s,a,{writable:c,configurable:!1,value:b})}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("swfobject"),i=a("./jsFlashBridge").JSFlashBridge,j=a("./VPAIDAdUnit").VPAIDAdUnit,k=a("./utils").noop,l=a("./utils").callbackTimeout,m=a("./utils").isPositiveInt,n=a("./utils").createElementWithID,o=a("./utils").unique("vpaid"),p=a("./flashTester.js").createFlashTester,q="10.1.0",r={isSupported:function(){return!0}},s=function(){function a(b,d){function f(a){return setTimeout(function(){d(new Error(a))},0),s}var g=arguments.length<=2||void 0===arguments[2]?{data:"VPAIDFlash.swf",width:800,height:400}:arguments[2],j=this,p=arguments.length<=3||void 0===arguments[3]?{wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",allowFullScreen:"true",quality:"high"}:arguments[3],r=arguments.length<=4||void 0===arguments[4]?{debug:!1,timeout:1e4}:arguments[4];c(this,a);var s=this;if(this._vpaidParentEl=b,this._flashID=o(),this._destroyed=!1,d=d||k,g.width=m(g.width,800),g.height=m(g.height,400),n(b,this._flashID,!0),p.movie=g.data,p.FlashVars="flashid="+this._flashID+"&handler="+i.VPAID_FLASH_HANDLER+"&debug="+r.debug+"&salign="+p.salign,!a.isSupported())return f("user don't support flash or doesn't have the minimum required version of flash "+q);if(this.el=h.createSWF(g,p,this._flashID),!this.el)return f("swfobject failed to create object in element");var t=l(r.timeout,function(a,b){e.call(j),d(a,b)},function(){d("vpaid flash load timeout "+r.timeout)});this._flash=new i(this.el,g.data,this._flashID,g.width,g.height,t)}return g(a,[{key:"destroy",value:function(){this._destroyAdUnit(),this._flash&&(this._flash.destroy(),this._flash=null),this.el=null,this._destroyed=!0}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"_destroyAdUnit",value:function(){delete this._loadLater,this._adUnitLoad&&(this._adUnitLoad=null,this._flash.removeCallback(this._adUnitLoad)),
this._adUnit&&(this._adUnit._destroy(),this._adUnit=null)}},{key:"loadAdUnit",value:function(a,b){var c=this;d.call(this),this._adUnit&&this._destroyAdUnit(),this._flash.isReady()?(this._adUnitLoad=function(a){a||(c._adUnit=new j(c._flash)),c._adUnitLoad=null,b(a,c._adUnit)},this._flash.callFlashMethod("loadAdUnit",[a],this._adUnitLoad)):this._loadLater={url:a,callback:b}}},{key:"unloadAdUnit",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];d.call(this),this._destroyAdUnit(),this._flash.callFlashMethod("unloadAdUnit",[],a)}},{key:"getFlashID",value:function(){return d.call(this),this._flash.getFlashID()}},{key:"getFlashURL",value:function(){return d.call(this),this._flash.getFlashURL()}}]),a}();f("isSupported",function(){return h.hasFlashPlayerVersion(q)&&r.isSupported()},!0),f("runFlashTest",function(a){r=p(document.body,a)}),s.swfobject=h,b.exports=s},{"./VPAIDAdUnit":2,"./flashTester.js":4,"./jsFlashBridge":5,"./utils":8,swfobject:14}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});{var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("swfobject"),g="vpaid_video_flash_tester",h="vpaid_video_flash_tester_el",i=a("./jsFlashBridge").JSFlashBridge,j=a("./utils"),k=a("./registry").MultipleValuesRegistry,l=function(){function a(b){var c=this,e=arguments.length<=1||void 0===arguments[1]?{data:"VPAIDFlash.swf",width:800,height:400}:arguments[1];d(this,a),this.parentEl=j.createElementWithID(b,h),j.hideFlashEl(this.parentEl);var g={};g.movie=e.data,g.FlashVars="flashid="+h+"&handler="+i.VPAID_FLASH_HANDLER,g.allowScriptAccess="always",this.el=f.createSWF(e,g,h),this._handlers=new k,this._isSupported=!1,this.el&&(j.hideFlashEl(this.el),this._flash=new i(this.el,e.data,h,e.width,e.height,function(){var a=!0;c._isSupported=a,c._handlers.get("change").forEach(function(b){setTimeout(function(){b("change",a)},0)})}))}return e(a,[{key:"isSupported",value:function(){return this._isSupported}},{key:"on",value:function(a,b){this._handlers.add(a,b)}}]),a}();c.createFlashTester=function(a,b){return window[g]||(window[g]=new l(a,b)),window[g]}}},{"./jsFlashBridge":5,"./registry":7,"./utils":8,swfobject:14}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){var d=this;setTimeout(function(){var e=d._callbacks.get(a);e&&(d._callbacks.remove(a),e(b,c))},0)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./utils").unique,h=a("./utils").isPositiveInt,i=a("./utils").stringEndsWith,j=a("./registry").SingleValueRegistry,k=a("./registry").MultipleValuesRegistry,l=a("./jsFlashBridgeRegistry"),m="vpaid_video_flash_handler",n="AdError",o=c.JSFlashBridge=function(){function a(b,c,e,f,h,i){d(this,a),this._el=b,this._flashID=e,this._flashURL=c,this._width=f,this._height=h,this._handlers=new k,this._callbacks=new j,this._uniqueMethodIdentifier=g(this._flashID),this._ready=!1,this._handShakeHandler=i,l.addInstance(this._flashID,this)}return f(a,[{key:"on",value:function(a,b){this._handlers.add(a,b)}},{key:"off",value:function(a,b){return this._handlers.remove(a,b)}},{key:"offEvent",value:function(a){return this._handlers.removeByKey(a)}},{key:"offAll",value:function(){return this._handlers.removeAll()}},{key:"callFlashMethod",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],c=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],d="";c&&(d=this._uniqueMethodIdentifier()+"_"+a,this._callbacks.add(d,c));try{this._el[a]([d].concat(b))}catch(f){c?e.call(this,d,f):this._trigger(n,f)}}},{key:"removeCallback",value:function(a){return this._callbacks.removeByValue(a)}},{key:"removeCallbackByMethodName",value:function(a){var b=this;this._callbacks.filterKeys(function(b){return i(b,a)}).forEach(function(a){b._callbacks.remove(a)})}},{key:"removeAllCallbacks",value:function(){return this._callbacks.removeAll()}},{key:"_trigger",value:function(a,b){var c=this;this._handlers.get(a).forEach(function(d){"AdClickThru"===a?d(b):setTimeout(function(){c._handlers.get(a).length>0&&d(b)},0)})}},{key:"_callCallback",value:function(a,b,c,d){var f=this._callbacks.get(b);return f?void e.call(this,b,c,d):void(c&&""===b&&this.trigger(n,c))}},{key:"_handShake",value:function(a,b){this._ready=!0,this._handShakeHandler&&(this._handShakeHandler(a,b),delete this._handShakeHandler)}},{key:"getSize",value:function(){return{width:this._width,height:this._height}}},{key:"setSize",value:function(a,b){this._width=h(a,this._width),this._height=h(b,this._height),this._el.setAttribute("width",this._width),this._el.setAttribute("height",this._height)}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(a){this.setSize(a,this._height)}},{key:"getHeight",value:function(){return this._height}},{key:"setHeight",value:function(a){this.setSize(this._width,a)}},{key:"getFlashID",value:function(){return this._flashID}},{key:"getFlashURL",value:function(){return this._flashURL}},{key:"isReady",value:function(){return this._ready}},{key:"destroy",value:function(){this.offAll(),this.removeAllCallbacks(),l.removeInstanceByID(this._flashID),this._el.parentElement&&this._el.parentElement.removeChild(this._el)}}]),a}();Object.defineProperty(o,"VPAID_FLASH_HANDLER",{writable:!1,configurable:!1,value:m}),window[m]=function(a,b,c,d,e,f){var g=l.getInstanceByID(a);g&&("handShake"===c?g._handShake(e,f):"event"!==b?g._callCallback(c,d,e,f):g._trigger(c,f))}},{"./jsFlashBridgeRegistry":6,"./registry":7,"./utils":8}],6:[function(a,b){"use strict";var c=a("./registry").SingleValueRegistry,d=new c,e={};Object.defineProperty(e,"addInstance",{writable:!1,configurable:!1,value:function(a,b){d.add(a,b)}}),Object.defineProperty(e,"getInstanceByID",{writable:!1,configurable:!1,value:function(a){return d.get(a)}}),Object.defineProperty(e,"removeInstanceByID",{writable:!1,configurable:!1,value:function(a){return d.remove(a)}}),b.exports=e},{"./registry":7}],7:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});{var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.MultipleValuesRegistry=function(){function a(){d(this,a),this._registries={}}return e(a,[{key:"add",value:function(a,b){this._registries[a]||(this._registries[a]=[]),-1===this._registries[a].indexOf(b)&&this._registries[a].push(b)}},{key:"get",value:function(a){return this._registries[a]||[]}},{key:"filterKeys",value:function(a){return Object.keys(this._registries).filter(a)}},{key:"findByValue",value:function(a){var b=this,c=Object.keys(this._registries).filter(function(c){return-1!==b._registries[c].indexOf(a)});return c}},{key:"remove",value:function(a,b){if(this._registries[a]){var c=this._registries[a].indexOf(b);if(!(0>c))return this._registries[a].splice(c,1)}}},{key:"removeByKey",value:function(a){var b=this._registries[a];return delete this._registries[a],b}},{key:"removeByValue",value:function(a){var b=this,c=this.findByValue(a);return c.map(function(c){return b.remove(c,a)})}},{key:"removeAll",value:function(){var a=this._registries;return this._registries={},a}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),a}(),c.SingleValueRegistry=function(){function a(){d(this,a),this._registries={}}return e(a,[{key:"add",value:function(a,b){this._registries[a]=b}},{key:"get",value:function(a){return this._registries[a]}},{key:"filterKeys",value:function(a){return Object.keys(this._registries).filter(a)}},{key:"findByValue",value:function(a){var b=this,c=Object.keys(this._registries).filter(function(c){return b._registries[c]===a});return c}},{key:"remove",value:function(a){var b=this._registries[a];return delete this._registries[a],b}},{key:"removeByValue",value:function(a){var b=this,c=this.findByValue(a);return c.map(function(a){return b.remove(a)})}},{key:"removeAll",value:function(){var a=this._registries;return this._registries={},a}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),a}()}},{}],8:[function(a,b,c){"use strict";function d(a){var b=-1;return function(){return a+"_"+ ++b}}function e(){}function f(a,b,c){var d=setTimeout(function(){b=e,c()},a);return function(){clearTimeout(d),b.apply(this,arguments)}}function g(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=document.createElement("div");return d.id=b,c&&(a.innerHTML=""),a.appendChild(d),d}function h(a,b){return!isNaN(parseFloat(a))&&isFinite(a)&&a>0?a:b}function i(a,b){return k.call(a,b)}function j(a){a.style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.style.width="1px",a.style.height="1px"}Object.defineProperty(c,"__esModule",{value:!0}),c.unique=d,c.noop=e,c.callbackTimeout=f,c.createElementWithID=g,c.isPositiveInt=h,c.stringEndsWith=i,c.hideFlashEl=j;var k=function(){return String.prototype.endsWith?String.prototype.endsWith:function(a,b){var c=this.toString();(void 0===b||b>c.length)&&(b=c.length),b-=a.length;var d=c.indexOf(a,b);return-1!==d&&d===b}}()},{}],9:[function(a,b){"use strict";function c(a,b,c){}function d(a,b,c){Object.defineProperty(a,b,{writable:!1,configurable:!1,value:c})}var e=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],f=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],g=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],h=["setAdVolume"];c.prototype.handshakeVersion=function(a,b){},c.prototype.initAd=function(a,b,c,d,e,f,g){},c.prototype.startAd=function(a){},c.prototype.stopAd=function(a){},c.prototype.skipAd=function(a){},c.prototype.resizeAd=function(a,b,c,d){},c.prototype.pauseAd=function(a){},c.prototype.resumeAd=function(a){},c.prototype.expandAd=function(a){},c.prototype.collapseAd=function(a){},c.prototype.subscribe=function(a,b,c){},c.prototype.unsubscribe=function(a,b){},c.prototype.getAdLinear=function(a){},c.prototype.getAdWidth=function(a){},c.prototype.getAdHeight=function(a){},c.prototype.getAdExpanded=function(a){},c.prototype.getAdSkippableState=function(a){},c.prototype.getAdRemainingTime=function(a){},c.prototype.getAdDuration=function(a){},c.prototype.getAdVolume=function(a){},c.prototype.getAdCompanions=function(a){},c.prototype.getAdIcons=function(a){},c.prototype.setAdVolume=function(){},d(c,"METHODS",e),d(c,"GETTERS",g),d(c,"SETTERS",h),d(c,"EVENTS",f);var i=e.filter(function(a){return-1===["skipAd"].indexOf(a)});d(c,"checkVPAIDInterface",function(a){var b=i.every(function(b){return"function"==typeof a[b]});return b}),b.exports=c},{}],10:[function(a,b){"use strict";function c(a,b,c,e){this._isValid=j(a),this._isValid&&(this._creative=a,this._el=b,this._videoEl=c,this._iframe=e,this._subscribers=new i,k.setFullSizeStyle(b),d.call(this))}function d(){if(n.forEach(function(a){this._creative.subscribe(f.bind(this,a),a)}.bind(this)),this._creative.subscribe(e.bind(this),m),this._videoEl){var a=this._iframe.contentDocument.documentElement,b=this._videoEl;a.addEventListener("click",function(c){c.target===a&&b.click()})}}function e(a,b,c){this._subscribers.triggerSync(m,{url:a,id:b,playerHandles:c})}function f(a){this._subscribers.trigger(a,Array.prototype.slice(arguments,1))}function g(a,b,c,d){a?a(c,d):c&&b.trigger(l,c)}var h=a("./IVPAIDAdUnit"),i=a("./subscriber"),j=h.checkVPAIDInterface,k=a("./utils"),l=(h.METHODS,"AdError"),m="AdClickThru",n=h.EVENTS.filter(function(a){return a!=m});c.prototype=Object.create(h.prototype),c.prototype.isValidVPAIDAd=function(){return this._isValid},h.METHODS.forEach(function(a){var b=["subscribe","unsubscribe","initAd"];-1===b.indexOf(a)&&(c.prototype[a]=function(){var b=h.prototype[a].length,c=Array.prototype.slice.call(arguments),d=b===c.length?c.pop():void 0;setTimeout(function(){var b,e=null;try{b=this._creative[a].apply(this._creative,c)}catch(f){e=f}g(d,this._subscribers,e,b)}.bind(this),0)})}),c.prototype.initAd=function(a,b,c,d,e,f,h){e=e||{},f=k.extend({slot:this._el,videoSlot:this._videoEl},f||{}),setTimeout(function(){var i;try{this._creative.initAd(a,b,c,d,e,f)}catch(j){i=j}g(h,this._subscribers,i)}.bind(this),0)},c.prototype.subscribe=function(a,b,c){this._subscribers.subscribe(b,a,c)},c.prototype.unsubscribe=function(a,b){this._subscribers.unsubscribe(b,a)},c.prototype.on=c.prototype.subscribe,c.prototype.off=c.prototype.unsubscribe,h.GETTERS.forEach(function(a){c.prototype[a]=function(b){setTimeout(function(){var c,d=null;try{c=this._creative[a]()}catch(e){d=e}g(b,this._subscribers,d,c)}.bind(this),0)}}),c.prototype.setAdVolume=function(a,b){setTimeout(function(){var c,d=null;try{this._creative.setAdVolume(a),c=this._creative.getAdVolume()}catch(e){d=e}d||(d=k.validate(c===a,"failed to apply volume: "+a)),g(b,this._subscribers,d,c)}.bind(this),0)},c.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},b.exports=c},{"./IVPAIDAdUnit":9,"./subscriber":12,"./utils":13}],11:[function(a,b){"use strict";function c(a,b,c,d){c=c||{},this._id=n(),this._destroyed=!1,this._frameContainer=m.createElementInEl(a,"div"),this._videoEl=b,this._vpaidOptions=d||{timeout:1e4},this._templateConfig={template:c.template||p,extraOptions:c.extraOptions||{}}}function d(a){var b=this[a];b&&(b.remove(),delete this[a])}function e(){g.call(this),delete this._adUnit}function f(){g.call(this),i.call(this)}function g(){d.call(this,"_frame"),h.call(this)}function h(){this._onLoad&&(window.removeEventListener("message",this._onLoad),m.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function i(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function j(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}function k(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function l(){for(var a,b=/[?&]([^=#]+)=([^&#]*)/g,c=location.href,d={};a=b.exec(c);)d[a[1]]=a[2];try{var e=d.urlParent||document.referrer.replace(/(http(s?)):\/\//,"");d.domain=(e.match(/(.*?)(\/.*)/)||[])[1]||"",d.pathname=(e.match(/(.*?)(\/.*)/)||[])[2]||""}catch(f){}return d.hackVpaidURL_JS?'<script type="text/javascript" src="'+d.hackVpaidURL_JS+'"></script>':""}var m=a("./utils"),n=m.unique("vpaidIframe"),o=a("./VPAIDAdUnit"),p='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"></script>{{hackVpaidScript}}<script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');</script></body></html>',q="AdStopped";c.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,f.call(this))},c.prototype.isDestroyed=function(){return this._destroyed},c.prototype.loadAdUnit=function(a,b){function c(a){if(a.origin===k()){var c=JSON.parse(a.data);if(c.id===g.getID()){var d,f,i;if(g._frame.contentWindow?(i=g._frame.contentWindow.getVPAIDAd,f=m.validate("function"==typeof i,"the ad didn't return a function to create an ad")):f="the iframe is not anymore in the DOM tree",!f){var j=g._frame.contentWindow.document.querySelector(".ad-element");d=new o(i(),j,g._videoEl,g._frame),d.subscribe(q,e.bind(g)),f=m.validate(d.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return g._adUnit=d,h.call(g),b(f,f?null:d),!0}}}function d(){b("timeout",null)}j.call(this),f.call(this);var g=this,i=m.createIframeWithContent(this._frameContainer,this._templateConfig.template,m.extend({iframeURL_JS:a,hackVpaidScript:l(),iframeID:this.getID(),origin:k()},this._templateConfig.extraOptions));this._frame=i,this._onLoad=m.callbackTimeout(this._vpaidOptions.timeout,c.bind(this),d.bind(this)),window.addEventListener("message",this._onLoad)},c.prototype.unloadAdUnit=function(){f.call(this)},c.prototype.getID=function(){return this._id},b.exports=c},{"./VPAIDAdUnit":10,"./utils":13}],12:[function(a,b){"use strict";function c(){this._subscribers={}}c.prototype.subscribe=function(a,b,c){this.isHandlerAttached(a,b)||this.get(b).push({handler:a,context:c,eventName:b})},c.prototype.unsubscribe=function(a,b){this._subscribers[b]=this.get(b).filter(function(b){return a!==b.handler})},c.prototype.unsubscribeAll=function(){this._subscribers={}},c.prototype.trigger=function(a,b){var c=this,d=this.get(a).concat(this.get("*"));d.forEach(function(a){setTimeout(function(){c.isHandlerAttached(a.handler,a.eventName)&&a.handler.call(a.context,b)},0)})},c.prototype.triggerSync=function(a,b){var c=this.get(a).concat(this.get("*"));c.forEach(function(a){a.handler.call(a.context,b)})},c.prototype.get=function(a){return this._subscribers[a]||(this._subscribers[a]=[]),this._subscribers[a]},c.prototype.isHandlerAttached=function(a,b){return this.get(b).some(function(b){return a===b.handler})},b.exports=c},{}],13:[function(a,b){"use strict";function c(){}function d(a,b){return a?null:new Error(b)}function e(a){var b=o[a];b&&(clearTimeout(b),delete o[a])}function f(a,b,d){var f,g;return g=setTimeout(function(){b=c,delete g[f],d()},a),f=function(){b.apply(this,arguments)&&e(f)},o[f]=g,f}function g(a,b,c){var d=document.createElement(b);return c&&(d.id=c),a.appendChild(d),d}function h(a,b,c){var d=i(a,null,c.zIndex);if(l(d,k(b,c)))return d}function i(a,b,c){var d=document.createElement("iframe");return d.src=b||"about:blank",d.marginWidth="0",d.marginHeight="0",d.frameBorder="0",d.width="100%",d.height="100%",j(d),c&&(d.style.zIndex=c),d.setAttribute("SCROLLING","NO"),a.innerHTML="",a.appendChild(d),d}function j(a){a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.margin="0px",a.style.padding="0px",a.style.border="none",a.style.width="100%",a.style.height="100%"}function k(a,b){return Object.keys(b).forEach(function(c){var d="object"==typeof d?JSON.stringify(b[c]):b[c];a=a.replace(new RegExp("{{"+c+"}}","g"),d)}),a}function l(a,b){var c=a.contentWindow&&a.contentWindow.document;return c?(c.write(b),!0):!1}function m(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a}function n(a){var b=-1;return function(){return a+"_"+ ++b}}var o={};b.exports={noop:c,validate:d,clearCallbackTimeout:e,callbackTimeout:f,createElementInEl:g,createIframeWithContent:h,createIframe:i,setFullSizeStyle:j,simpleTemplate:k,setIframeContent:l,extend:m,unique:n}},{}],14:[function(a,b){var c=function(){function a(){if(!S){try{var a=L.getElementsByTagName("body")[0].appendChild(r("span"));a.parentNode.removeChild(a)}catch(b){return}S=!0;for(var c=O.length,d=0;c>d;d++)O[d]()}}function b(a){S?a():O[O.length]=a}function d(a){if(typeof K.addEventListener!=D)K.addEventListener("load",a,!1);else if(typeof L.addEventListener!=D)L.addEventListener("load",a,!1);else if(typeof K.attachEvent!=D)s(K,"onload",a);else if("function"==typeof K.onload){var b=K.onload;K.onload=function(){b(),a()}}else K.onload=a}function e(){N?f():g()}function f(){var a=L.getElementsByTagName("body")[0],b=r(E);b.setAttribute("type",H);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=D){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),V.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,g()}()}else g()}function g(){var a=P.length;if(a>0)for(var b=0;a>b;b++){var c=P[b].id,d=P[b].callbackFn,e={success:!1,id:c};if(V.pv[0]>0){var f=q(c);if(f)if(!t(P[b].swfVersion)||V.wk&&V.wk<312)if(P[b].expressInstall&&i()){var g={};g.data=P[b].expressInstall,g.width=f.getAttribute("width")||"0",g.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(g.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(g.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));j(g,l,c,d)}else k(f),d&&d(e);else v(c,!0),d&&(e.success=!0,e.ref=h(c),d(e))}else if(v(c,!0),d){var p=h(c);p&&typeof p.SetVariable!=D&&(e.success=!0,e.ref=p),d(e)}}}function h(a){var b=null,c=q(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=D)b=c;else{var d=c.getElementsByTagName(E)[0];d&&(b=d)}return b}function i(){return!T&&t("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function j(a,b,c,d){T=!0,z=d||null,A={success:!1,id:c};var e=q(c);if(e){"OBJECT"==e.nodeName?(x=l(e),y=null):(x=e,y=c),a.id=I,(typeof a.width==D||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==D||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),L.title=L.title.slice(0,47)+" - Flash Player Installation";var f=V.ie&&V.win?["Active"].concat("").join("X"):"PlugIn",g="MMredirectURL="+K.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+L.title;if(typeof b.flashvars!=D?b.flashvars+="&"+g:b.flashvars=g,V.ie&&V.win&&4!=e.readyState){var h=r("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}m(a,b,c)}}function k(a){if(V.ie&&V.win&&4!=a.readyState){var b=r("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(l(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(l(a),a)}function l(a){var b=r("div");if(V.win&&V.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(E)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function m(a,b,c){var d,e=q(c);if(V.wk&&V.wk<312)return d;if(e)if(typeof a.id==D&&(a.id=c),V.ie&&V.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",Q[Q.length]=a.id,d=q(a.id)}else{var j=r(E);j.setAttribute("type",H);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&n(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function n(a,b,c){var d=r("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function o(a){var b=q(a);b&&"OBJECT"==b.nodeName&&(V.ie&&V.win?(b.style.display="none",function(){4==b.readyState?p(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function p(a){var b=q(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function q(a){var b=null;try{b=L.getElementById(a)}catch(c){}return b}function r(a){return L.createElement(a)}function s(a,b,c){a.attachEvent(b,c),R[R.length]=[a,b,c]}function t(a){var b=V.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function u(a,b,c,d){if(!V.ie||!V.mac){var e=L.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(B=null,C=null),!B||C!=f){var g=r("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),B=e.appendChild(g),V.ie&&V.win&&typeof L.styleSheets!=D&&L.styleSheets.length>0&&(B=L.styleSheets[L.styleSheets.length-1]),C=f}V.ie&&V.win?B&&typeof B.addRule==E&&B.addRule(a,b):B&&typeof L.createTextNode!=D&&B.appendChild(L.createTextNode(a+" {"+b+"}"))}}}function v(a,b){if(U){var c=b?"visible":"hidden";S&&q(a)?q(a).style.visibility=c:u("#"+a,"visibility:"+c)}}function w(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=D?encodeURIComponent(a):a}{var x,y,z,A,B,C,D="undefined",E="object",F="Shockwave Flash",G="ShockwaveFlash.ShockwaveFlash",H="application/x-shockwave-flash",I="SWFObjectExprInst",J="onreadystatechange",K=window,L=document,M=navigator,N=!1,O=[e],P=[],Q=[],R=[],S=!1,T=!1,U=!0,V=function(){var a=typeof L.getElementById!=D&&typeof L.getElementsByTagName!=D&&typeof L.createElement!=D,b=M.userAgent.toLowerCase(),c=M.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof M.plugins!=D&&typeof M.plugins[F]==E)i=M.plugins[F].description,!i||typeof M.mimeTypes!=D&&M.mimeTypes[H]&&!M.mimeTypes[H].enabledPlugin||(N=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof K[["Active"].concat("Object").join("X")]!=D)try{var j=new(window[["Active"].concat("Object").join("X")])(G);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){V.w3&&((typeof L.readyState!=D&&"complete"==L.readyState||typeof L.readyState==D&&(L.getElementsByTagName("body")[0]||L.body))&&a(),S||(typeof L.addEventListener!=D&&L.addEventListener("DOMContentLoaded",a,!1),V.ie&&V.win&&(L.attachEvent(J,function(){"complete"==L.readyState&&(L.detachEvent(J,arguments.callee),a())}),K==top&&!function(){if(!S){try{L.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),V.wk&&!function(){return S?void 0:/loaded|complete/.test(L.readyState)?void a():void setTimeout(arguments.callee,0)}(),d(a)))}(),function(){V.ie&&V.win&&window.attachEvent("onunload",function(){for(var a=R.length,b=0;a>b;b++)R[b][0].detachEvent(R[b][1],R[b][2]);for(var d=Q.length,e=0;d>e;e++)o(Q[e]);for(var f in V)V[f]=null;V=null;for(var g in c)c[g]=null;c=null})}()}return{registerObject:function(a,b,c,d){if(V.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,P[P.length]=e,v(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return V.w3?h(a):void 0},embedSWF:function(a,c,d,e,f,g,h,k,l,n){var o={success:!1,id:c};V.w3&&!(V.wk&&V.wk<312)&&a&&c&&d&&e&&f?(v(c,!1),b(function(){d+="",e+="";var b={};if(l&&typeof l===E)for(var p in l)b[p]=l[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===E)for(var r in k)q[r]=k[r];if(h&&typeof h===E)for(var s in h)typeof q.flashvars!=D?q.flashvars+="&"+s+"="+h[s]:q.flashvars=s+"="+h[s];if(t(f)){var u=m(b,q,c);b.id==c&&v(c,!0),o.success=!0,o.ref=u}else{if(g&&i())return b.data=g,void j(b,q,c,n);v(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){U=!1},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:t,createSWF:function(a,b,c){return V.w3?m(a,b,c):void 0},showExpressInstall:function(a,b,c,d){V.w3&&i()&&j(a,b,c,d)},removeSWF:function(a){V.w3&&o(a)},createCSS:function(a,b,c,d){V.w3&&u(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:d,getQueryParamValue:function(a){var b=L.location.search||L.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return w(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return w(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(T){var a=q(I);a&&x&&(a.parentNode.replaceChild(x,a),y&&(v(y,!0),V.ie&&V.win&&(x.style.display="block")),z&&z(A)),T=!1}}}}();b.exports=c},{}],15:[function(a,b){"use strict";function c(a){return this instanceof c?void this.initialize(a):new c(a)}var d=a("./InLine"),e=a("./Wrapper");c.prototype.initialize=function(a){this.id=a.attr("id"),this.sequence=a.attr("sequence"),a.inLine&&(this.inLine=new d(a.inLine)),a.wrapper&&(this.wrapper=new e(a.wrapper))},b.exports=c},{"./InLine":18,"./Wrapper":28}],16:[function(a,b){"use strict";function c(a){function b(a){var b=[];return e.isDefined(a)&&(a=e.isArray(a)?a:[a],a.forEach(function(a){b.push(new d(a))})),b}if(!(this instanceof c))return new c(a);g.info("<Companion> found companion ad"),g.debug("<Companion>  companionJTree:",a),this.creativeType=f.attr(a.staticResource,"creativeType"),this.staticResource=f.keyValue(a.staticResource),g.info("<Companion>  creativeType: "+this.creativeType),g.info("<Companion>  staticResource: "+this.staticResource);var h=null;f.keyValue(a.HTMLResource)?h=f.keyValue(a.HTMLResource):f.keyValue(a.hTMLResource)&&(h=f.keyValue(a.hTMLResource)),null!==h&&g.info("<Companion> found html resource",h),this.htmlResource=h;var i=null;f.keyValue(a.IFrameResource)?i=f.keyValue(a.IFrameResource):f.keyValue(a.iFrameresource)&&(i=f.keyValue(a.iFrameresource)),null!==i&&g.info("<Companion> found iframe resource",i),this.iframeResource=i,this.id=f.attr(a,"id"),this.width=f.attr(a,"width"),this.height=f.attr(a,"height"),this.expandedWidth=f.attr(a,"expandedWidth"),this.expandedHeight=f.attr(a,"expandedHeight"),this.scalable=f.attr(a,"scalable"),this.maintainAspectRatio=f.attr(a,"maintainAspectRatio"),this.minSuggestedDuration=f.attr(a,"minSuggestedDuration"),this.apiFramework=f.attr(a,"apiFramework"),this.companionClickThrough=f.keyValue(a.companionClickThrough),this.trackingEvents=b(a.trackingEvents&&a.trackingEvents.tracking),g.info("<Companion>  companionClickThrough: "+this.companionClickThrough)}var d=a("./TrackingEvent"),e=a("../../utils/utilityFunctions"),f=a("../../utils/xml"),g=a("../../utils/consoleLogger");b.exports=c},{"../../utils/consoleLogger":41,"../../utils/utilityFunctions":48,"../../utils/xml":49,"./TrackingEvent":21}],17:[function(a,b){"use strict";function c(a){if(!(this instanceof c))return new c(a);if(this.id=a.attr("id"),this.sequence=a.attr("sequence"),this.adId=a.attr("adId"),this.apiFramework=a.attr("apiFramework"),a.linear&&(this.linear=new d(a.linear)),a.companionAds){var b=[],g=a.companionAds&&a.companionAds.companion;f.isDefined(g)&&(g=f.isArray(g)?g:[g],g.forEach(function(a){b.push(new e(a))})),this.companionAds=b}}var d=a("./Linear"),e=a("./Companion"),f=a("../../utils/utilityFunctions");c.prototype.isSupported=function(){return this.linear?this.linear.isSupported():!0},c.parseCreatives=function(a){var b,d=[];return f.isDefined(a)&&f.isDefined(a.creative)&&(b=f.isArray(a.creative)?a.creative:[a.creative],b.forEach(function(a){d.push(new c(a))})),d},b.exports=c},{"../../utils/utilityFunctions":48,"./Companion":16,"./Linear":19}],18:[function(a,b){"use strict";function c(a){function b(a){return a?f.transformArray(f.isArray(a)?a:[a],function(a){return f.isNotEmptyString(a.keyValue)?{
uri:a.keyValue,type:a.attr("type")}:void 0}):[]}return this instanceof c?(this.adTitle=g.keyValue(a.adTitle),this.adSystem=g.keyValue(a.adSystem),this.impressions=d.parseImpressions(a.impression),this.creatives=e.parseCreatives(a.creatives),this.description=g.keyValue(a.description),this.advertiser=g.keyValue(a.advertiser),this.surveys=b(a.survey),this.error=g.keyValue(a.error),this.pricing=g.keyValue(a.pricing),void(this.extensions=a.extensions)):new c(a)}var d=a("./vastUtil"),e=a("./Creative"),f=a("../../utils/utilityFunctions"),g=a("../../utils/xml");c.prototype.isSupported=function(){var a,b;if(0===this.creatives.length)return!1;for(a=0,b=this.creatives.length;b>a;a+=1)if(!this.creatives[a].isSupported())return!1;return!0},b.exports=c},{"../../utils/utilityFunctions":48,"../../utils/xml":49,"./Creative":17,"./vastUtil":30}],19:[function(a,b){"use strict";function c(a){function b(a,b){var c=[];return g.isDefined(a)&&(a=g.isArray(a)?a:[a],a.forEach(function(a){c.push(new d(a,b))})),c}function j(a){var b=[];return g.isDefined(a)&&(a=g.isArray(a)?a:[a],a.forEach(function(a){b.push(new e(a))})),b}return this instanceof c?(this.duration=h.duration(i.keyValue(a.duration)),this.mediaFiles=j(a.mediaFiles&&a.mediaFiles.mediaFile),this.trackingEvents=b(a.trackingEvents&&a.trackingEvents.tracking,this.duration),this.skipoffset=h.offset(i.attr(a,"skipoffset"),this.duration),a.videoClicks&&(this.videoClicks=new f(a.videoClicks)),void(a.adParameters&&(this.adParameters=i.keyValue(a.adParameters),i.attr(a.adParameters,"xmlEncoded")&&(this.adParameters=i.decode(this.adParameters))))):new c(a)}var d=a("./TrackingEvent"),e=a("./MediaFile"),f=a("./VideoClicks"),g=a("../../utils/utilityFunctions"),h=a("./parsers"),i=a("../../utils/xml");c.prototype.isSupported=function(){var a,b;for(a=0,b=this.mediaFiles.length;b>a;a+=1)if(this.mediaFiles[a].isSupported())return!0;return!1},b.exports=c},{"../../utils/utilityFunctions":48,"../../utils/xml":49,"./MediaFile":20,"./TrackingEvent":21,"./VideoClicks":27,"./parsers":29}],20:[function(a,b){"use strict";function c(a){if(!(this instanceof c))return new c(a);this.src=d.keyValue(a);for(var b=0;b<f.length;b++){var e=f[b];this[e]=a.attr(e)}"video/x-mp4"===this.type&&(this.type="video/mp4")}var d=a("../../utils/xml"),e=a("./vastUtil"),f=["delivery","type","width","height","codec","id","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","apiFramework"];c.prototype.isSupported=function(){return e.isVPAID(this)?!!e.findSupportedVPAIDTech(this.type):"video/x-flv"===this.type?e.isFlashSupported():!0},b.exports=c},{"../../utils/xml":49,"./vastUtil":30}],21:[function(a,b){"use strict";function c(a,b){return this instanceof c?(this.name=a.attr("event"),this.uri=e.keyValue(a),void("progress"===this.name&&(this.offset=d.offset(a.attr("offset"),b)))):new c(a,b)}var d=a("./parsers"),e=a("../../utils/xml");b.exports=c},{"../../utils/xml":49,"./parsers":29}],22:[function(a,b){"use strict";function c(a){if(!(this instanceof c))return new c(a);var b={WRAPPER_LIMIT:5};a=a||{},this.settings=j.extend({},a,b),this.errorURLMacros=[]}var d=a("./Ad"),e=a("./VASTError"),f=a("./VASTResponse"),g=a("./vastUtil"),h=a("../../utils/async"),i=a("../../utils/http").http,j=a("../../utils/utilityFunctions"),k=a("../../utils/xml"),l=a("../../utils/trackJobGama"),m=a("../../utils/consoleLogger");c.prototype.getVASTResponse=function(a,b){function c(b,c){try{var d=f._buildVASTResponse(b);c(null,d)}catch(e){l({p:12,url:a,err:e.message}),c(e)}}function d(a,b){return a?j.isFunction(b)?void 0:new e("on VASTClient.getVASTResponse, missing callback function"):new e("on VASTClient.getVASTResponse, missing ad tag URL")}var f=this;this.isGamaJob=!1;var g=d(a,b);if(g){if(j.isFunction(b))return b(g);throw g}h.waterfall([this._getVASTAd.bind(this,a),c],function(a,c){if(!a){var d=c.ads,e=c.mediaFiles,f=d.length-1,g=f-1,h=e.map(function(a){return a.src});c.trackdata={bid:d[0].id,lv:f,url:g>=0?d[g].wrapper.VASTAdTagURI:"-1",files:h},l({p:8,bid:d[0].id,lv:f,url:g>=0?d[g].wrapper.VASTAdTagURI:"-1",files:h})}b(a,c)})},c.prototype._getVASTAd=function(a,b){function c(a,b){var c=q._requestVASTXml.bind(q,a);h.waterfall([c,f],b)}function f(a,b){var c;if(!a)return void b(new e("on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml",99),null);try{c=k.toJXONTree(a),m.debug("built JXONTree from VAST response:",c),c.ads=j.isArray(c.ad)?c.ad:c.ad?[c.ad]:[],b(g(c),c)}catch(d){b(new e("on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml",100),null)}}function g(a){var b=k.attr(a,"version");return a.ad?b&&3!=b&&2!=b?new e('on VASTClient.getVASTAd.validateVASTTree, not supported VAST version "'+b+'"',102):null:new e("on VASTClient.getVASTAd.validateVASTTree, no Ad in VAST tree",303)}function i(a,b,c){return b.length>=q.WRAPPER_LIMIT?c(new e("on VASTClient.getVASTAd.getAd, players wrapper limit reached (the limit is "+q.WRAPPER_LIMIT+")",302),b):void h.waterfall([function(c){j.isString(a)?(l({p:4,bid:b[0].id,url:a,lv:b.length}),p(a,c)):c(null,a)},n],function(d,e){return b.length&&d&&301===d.code&&l({p:6,bid:b[0].id,url:a,lv:b.length}),!b.length||d&&301===d.code||l({p:5,bid:b[0].id,url:a,lv:b.length}),b.length&&d&&301!==d.code&&l({p:9,bid:b[0].id,url:a,lv:b.length}),e&&b.push(e),d?c(d,b):(1===b.length&&l({p:7,bid:b[0].id}),e.wrapper?i(e.wrapper.VASTAdTagURI,b,c):c(null,b))})}function n(a,b){try{var c=new d(a);b(o(c),c)}catch(f){b(new e("on VASTClient.getVASTAd.buildAd, error parsing xml",100),null)}}function o(a){var b=a.wrapper,c=a.inLine,d="on VASTClient.getVASTAd.validateAd, ";return c&&b?new e(d+"InLine and Wrapper both found on the same Ad",101):c||b?c&&!c.isSupported()?new e(d+"could not find MediaFile that is supported by this video player",403):b&&!b.VASTAdTagURI?new e(d+"missing 'VASTAdTagURI' in wrapper",101):null:new e(d+"nor wrapper nor inline elements found on the Ad",101)}function p(a,b){q._requestVASTXml(a,function(a,c){if(a)return b(a);try{var d=k.toJXONTree(c);b(g(d),d.ad)}catch(f){b(new e("on VASTClient.getVASTAd.requestVASTAd, error parsing xml",100))}})}var q=this;l({p:1,url:a}),c(a,function(c,d){function e(a,c){a?(q._trackError(a,c),f.length>0?i(f.shift(),[],e):b(a,c)):b(null,c)}var f=d&&j.isArray(d.ads)?d.ads:null;return c?(99===c.code?l({p:2,url:a}):301!==c.code&&l({p:3,url:a}),q._trackError(c,f),b(c,f)):void i(f.shift(),[],e)})},c.prototype._requestVASTXml=function(a,b){function c(a,c,d){if(a){var f=j.isDefined(d)?"on VASTClient.requestVastXML, HTTP request error with status '"+d+"'":"on VASTClient.requestVastXML, Error getting the the VAST XML with he passed adTagXML fn";return b(new e(f,301),null)}b(null,c)}try{j.isFunction(a)?a(c):(m.info("requesting adTagUrl: "+a),i.get(a,c,{}))}catch(d){b(d)}},c.prototype._buildVASTResponse=function(a){function b(a,b){b.forEach(function(b){a.addAd(b)})}function c(a){var b=a.trackingEvents.progress;if(!a.hasLinear())throw new e("on VASTClient._buildVASTResponse, Received an Ad type that is not supported",200);if(void 0===a.duration)throw new e("on VASTClient._buildVASTResponse, Missing duration field in VAST response",101);b&&b.forEach(function(a){if(!j.isNumber(a.offset))throw new e("on VASTClient._buildVASTResponse, missing or wrong offset attribute on progress tracking event",101)})}var d=new f;return b(d,a),c(d),d},c.prototype._trackError=function(a,b){function c(a){a.wrapper&&a.wrapper.error&&d.push(a.wrapper.error),a.inLine&&a.inLine.error&&d.push(a.inLine.error)}if(j.isArray(b)&&0!==b.length){var d=[];b.forEach(c),g.track(d,{ERRORCODE:a.code||900})}},b.exports=c},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/http":43,"../../utils/trackJobGama":46,"../../utils/utilityFunctions":48,"../../utils/xml":49,"./Ad":15,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],23:[function(a,b){"use strict";function c(a,b){this.message="VAST Error: "+(a||""),b&&(this.code=b)}c.prototype=new Error,c.prototype.name="VAST Error",b.exports=c},{}],24:[function(a,b){"use strict";function c(a){return this instanceof c?void(this.player=a):new c(a)}var d=a("./VASTResponse"),e=a("./VASTError"),f=a("./VASTTracker"),g=a("./vastUtil"),h=(a("./parsers"),a("../../utils/async")),i=a("../../utils/dom"),j=a("../../utils/playerUtils"),k=a("../../utils/utilityFunctions"),l=a("../../utils/trackJobGama"),m=a("../../utils/consoleLogger");c.prototype.playAd=function(a,b){var c=this;return b=b||k.noop,a instanceof d?(h.waterfall([function(b){b(null,a)},this._selectAdSource.bind(this),this._createVASTTracker.bind(this),this._addClickThrough.bind(this),this._addSkipButton.bind(this),this._setupEvents.bind(this),this._playSelectedAd.bind(this)],function(a,d){a&&d&&c._trackError(a,d),b(a,d)}),this._adUnit={_src:null,type:"VAST",pauseAd:function(){c.player.pause(!0)},resumeAd:function(){c.player.play(!0)},isPaused:function(){return c.player.paused(!0)},getSrc:function(){return this._src}},this._adUnit):b(new e("On VASTIntegrator, missing required VASTResponse"))},c.prototype._selectAdSource=function(a,b){var c,d=i.getDimension(this.player.el()).width;return a.mediaFiles.sort(function(a,b){var c=Math.abs(d-a.width),e=Math.abs(d-b.width);return c-e}),(c=this.player.selectSource(a.mediaFiles).source)?(m.info("selected source: ",c),this._adUnit&&(this._adUnit._src=c),b(null,c,a)):void b(new e("Could not find Ad mediafile supported by this player",403),a)},c.prototype._createVASTTracker=function(a,b,c){try{c(null,a,new f(a.src,b),b)}catch(d){c(d,b)}},c.prototype._setupEvents=function(a,b,c,d){function e(){p.off("fullscreenchange",g),p.off("vast.adStart",k),p.off("pause",h),p.off("timeupdate",i),p.off("volumechange",m),p.off("durationchange",n)}function f(){p.off("durationchange",n)}function g(){p.isFullscreen()?b.trackFullscreen():b.trackExitFullscreen()}function h(){Math.abs(p.duration()-p.currentTime())<2||(b.trackPause(),j.once(p,["play","vast.adEnd","vast.adsCancel"],function(a){"play"===a.type&&b.trackResume()}))}function i(){var a=1e3*p.currentTime();b.trackProgress(a)}function k(){var a=c.trackdata;l({p:10,bid:a.bid,lv:a.lv,url:a.url,files:a.files}),b.trackImpressions(),b.trackCreativeView()}function m(){var a=p.muted();a?b.trackMute():o&&b.trackUnmute(),o=a}function n(){var a=p.duration();b.durationChange(1e3*a)}var o,p=this.player;return p.on("fullscreenchange",g),p.on("vast.adStart",k),p.on("vast.adStart",f),p.on("pause",h),p.on("timeupdate",i),p.on("volumechange",m),p.on("durationchange",n),j.once(p,["vast.adEnd","vast.adsCancel"],e),j.once(p,["vast.adEnd","vast.adsCancel","vast.adSkip"],function(a){"vast.adEnd"===a.type&&b.trackComplete()}),d(null,a,c)},c.prototype._addSkipButton=function(a,b,c,d){function e(a,b){function c(){a.off("timeupdate",e),i.remove(d)}var d=f(a),e=g.bind(l,d,b,a);a.trigger("add.skipbutton",d),a.el().appendChild(d),a.on("timeupdate",e),j.once(a,["vast.adEnd","vast.adsCancel"],c)}function f(a){var c=window.document.createElement("div");return i.addClass(c,"vast-skip-button"),c.onclick=function(d){return i.hasClass(c,"enabled")&&(b.trackSkip(),a.trigger("vast.adSkip")),void 0===window.Event.prototype.stopPropagation?!1:void d.stopPropagation()},c}function g(a,b,c){var d=Math.ceil(b-c.currentTime());d>0?a.innerHTML=k.toFixedDigits(d,1)+" giy":i.hasClass(a,"enabled")||(i.addClass(a,"enabled"),a.innerHTML="B Qua")}var h,l=this,m=this.player,n=m.vast;if(n.isSkipAds()===!1)return void d(null,a,b,c);var o=k.isNumber(c.skipoffset)?c.skipoffset:5e3;h=o/1e3,e(this.player,h),d(null,a,b,c)},c.prototype._addClickThrough=function(a,b,c,d){function e(a,b,c){var d=window.document.createElement("a"),e=c.clickThrough;return i.addClass(d,"vast-blocker"),d.href=h(e,a),k.isString(e)&&(d.target="_blank"),d.onclick=function(c){return a.paused()?(a.play(),void 0!==window.Event.prototype.stopPropagation&&c.stopPropagation(),!1):void b.trackClick()},d}function f(a,b,c){a.href=h(b.clickThrough,c)}function h(b,c){var d={ASSETURI:a.src,CONTENTPLAYHEAD:g.formatProgress(1e3*c.currentTime())};return b?g.parseURLMacro(b,d):"#"}function l(){m.off("timeupdate",o),i.remove(n)}var m=this.player,n=e(m,b,c),o=f.bind(this,n,c,m);return m.trigger("add.blocker",n),m.el().insertBefore(n,m.controlBar.el()),m.on("timeupdate",o),j.once(m,["vast.adEnd","vast.adsCancel"],l),d(null,a,b,c)},c.prototype._playSelectedAd=function(a,b,c){function d(){m.debug("<VASTIntegrator._playSelectedAd> got durationchange; calling playAd()"),f()}function f(){g.one(g,"playing",function(a){function d(a){"ended"===a.type&&g.duration()-g.currentTime()>3||(g.off("ended",d),g.off("vast.adsCancel",d),g.off("vast.adSkip",d),("ended"===a.type||"vast.adSkip"===a.type)&&c(null,b))}"vast.adsCancel"!==a.type&&(m.debug("<VASTIntegrator._playSelectedAd/playAd> got playing event; triggering vast.adStart..."),g.trigger("vast.adStart"),g.on("ended",d),g.on("vast.adsCancel",d),g.on("vast.adSkip",d))}),g.options_.playAds?g.play():g.one("play-ads",function(){g.play()})}var g=this.player;g.preload("auto"),g.src(a),m.debug("<VASTIntegrator._playSelectedAd> waiting for durationchange to play the ad..."),g.one(g,"durationchange",d),j.once(g,["error","vast.adsCancel","restorePlayer","vast.adError"],function(a){g.off(g,"durationchange",d),"error"===a.type&&c(new e("on VASTIntegrator, Player is unable to play the Ad",400),b)})},c.prototype._trackError=function(a,b){g.track(b.errorURLMacros,{ERRORCODE:a.code||900})},b.exports=c},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/playerUtils":45,"../../utils/trackJobGama":46,"../../utils/utilityFunctions":48,"./VASTError":23,"./VASTResponse":25,"./VASTTracker":26,"./parsers":29,"./vastUtil":30}],25:[function(a,b){"use strict";function c(){return this instanceof c?(this._linearAdded=!1,this.ads=[],this.errorURLMacros=[],this.impressions=[],this.clickTrackings=[],this.customClicks=[],this.trackingEvents={},this.mediaFiles=[],this.clickThrough=void 0,this.adTitle="",this.duration=void 0,void(this.skipoffset=void 0)):new c}function d(a,b){b.forEach(function(b){a.push(b)})}var e=a("./Ad"),f=a("./VideoClicks"),g=a("./Linear"),h=a("./InLine"),i=a("./Wrapper"),j=a("../../utils/utilityFunctions"),k=a("../../utils/xml");window.InLine__A=h,c.prototype.addAd=function(a){var b,c;a instanceof e&&(b=a.inLine,c=a.wrapper,this.ads.push(a),b&&this._addInLine(b),c&&this._addWrapper(c))},c.prototype._addErrorTrackUrl=function(a){var b=a instanceof k.JXONTree?k.keyValue(a):a;b&&this.errorURLMacros.push(b)},c.prototype._addImpressions=function(a){j.isArray(a)&&d(this.impressions,a)},c.prototype._addClickThrough=function(a){j.isNotEmptyString(a)&&(this.clickThrough=a)},c.prototype._addClickTrackings=function(a){j.isArray(a)&&d(this.clickTrackings,a)},c.prototype._addCustomClicks=function(a){j.isArray(a)&&d(this.customClicks,a)},c.prototype._addTrackingEvents=function(a){var b=this.trackingEvents;a&&(a=j.isArray(a)?a:[a],a.forEach(function(a){b[a.name]||(b[a.name]=[]),b[a.name].push(a)}))},c.prototype._addTitle=function(a){j.isNotEmptyString(a)&&(this.adTitle=a)},c.prototype._addDuration=function(a){j.isNumber(a)&&(this.duration=a)},c.prototype._addVideoClicks=function(a){a instanceof f&&(this._addClickThrough(a.clickThrough),this._addClickTrackings(a.clickTrackings),this._addCustomClicks(a.customClicks))},c.prototype._addMediaFiles=function(a){j.isArray(a)&&d(this.mediaFiles,a)},c.prototype._addSkipoffset=function(a){a&&(this.skipoffset=a)},c.prototype._addAdParameters=function(a){a&&(this.adParameters=a)},c.prototype._addLinear=function(a){a instanceof g&&(this._addDuration(a.duration),this._addTrackingEvents(a.trackingEvents),this._addVideoClicks(a.videoClicks),this._addMediaFiles(a.mediaFiles),this._addSkipoffset(a.skipoffset),this._addAdParameters(a.adParameters),this._linearAdded=!0)},c.prototype._addInLine=function(a){var b=this;a instanceof h&&(this._addTitle(a.adTitle),this._addErrorTrackUrl(a.error),this._addImpressions(a.impressions),a.creatives.forEach(function(a){a.linear&&b._addLinear(a.linear)}))},c.prototype._addWrapper=function(a){var b=this;a instanceof i&&(this._addErrorTrackUrl(a.error),this._addImpressions(a.impressions),a.creatives.forEach(function(a){var c=a.linear;c&&(b._addVideoClicks(c.videoClicks),b.clickThrough=void 0,b._addTrackingEvents(c.trackingEvents))}))},c.prototype.hasLinear=function(){return this._linearAdded},b.exports=c},{"../../utils/utilityFunctions":48,"../../utils/xml":49,"./Ad":15,"./InLine":18,"./Linear":19,"./VideoClicks":27,"./Wrapper":28}],26:[function(a,b){"use strict";function c(a,b){return this instanceof c?(this.sanityCheck(a,b),void this.initialize(a,b)):new c(a,b)}var d=a("./VASTError"),e=a("./VASTResponse"),f=a("./vastUtil"),g=a("../../utils/utilityFunctions");c.prototype.initialize=function(a,b){this.response=b,this.assetURI=a,this.progress=0,this.quartiles={firstQuartile:{tracked:!1,time:Math.round(25*b.duration)/100},midpoint:{tracked:!1,time:Math.round(50*b.duration)/100},thirdQuartile:{tracked:!1,time:Math.round(75*b.duration)/100}}},c.prototype.durationChange=function(a){this.quartiles={firstQuartile:{tracked:!1,time:Math.round(25*a)/100},midpoint:{tracked:!1,time:Math.round(50*a)/100},thirdQuartile:{tracked:!1,time:Math.round(75*a)/100}}},c.prototype.sanityCheck=function(a,b){if(!g.isString(a)||g.isEmptyString(a))throw new d("on VASTTracker constructor, missing required the URI of the ad asset being played");if(!(b instanceof e))throw new d("on VASTTracker constructor, missing required VAST response")},c.prototype.trackURLs=function(a,b){g.isArray(a)&&a.length>0&&(b=g.extend({ASSETURI:this.assetURI,CONTENTPLAYHEAD:f.formatProgress(this.progress)},b||{}),f.track(a,b))},c.prototype.trackEvent=function(a,b){function c(a){var b;return a&&(b=[],a.forEach(function(a){a.uri&&b.push(a.uri)})),b}this.trackURLs(c(this.response.trackingEvents[a])),b&&(this.response.trackingEvents[a]=void 0)},c.prototype.trackProgress=function(a){function b(b,c){var d=3e3;return b>a&&Math.abs(c-b)>d}function c(a,b,c){m[a]&&c&&j.push({name:a,trackOnce:!!b})}function d(a){function b(a,b){var f=d[a];e(f,b)&&(f.tracked=!0,c(a,k,!0))}var d=i.quartiles,f=i.quartiles.firstQuartile,g=i.quartiles.midpoint,h=i.quartiles.thirdQuartile;f.tracked?g.tracked?h.tracked||b("thirdQuartile",a):b("midpoint",a):b("firstQuartile",a)}function e(a,b){var c=a.time;return b>=c&&c+5e3>=b}function f(a){if(g.isArray(m.progress)){var b=[];m.progress.forEach(function(c){c.offset<=a?i.trackURLs([c.uri]):b.push(c)}),m.progress=b}}function h(){j.forEach(function(a){i.trackEvent(a.name,a.trackOnce)})}var i=this,j=[],k=!0,l=!1,m=this.response.trackingEvents;g.isNumber(a)&&(c("start",k,a>0),c("rewind",l,b(this.progress,a)),d(a),f(a),h(),this.progress=a)},["rewind","fullscreen","exitFullscreen","pause","resume","mute","unmute","acceptInvitation","acceptInvitationLinear","collapse","expand"].forEach(function(a){c.prototype["track"+g.capitalize(a)]=function(){this.trackEvent(a)}}),["start","skip","close","closeLinear"].forEach(function(a){c.prototype["track"+g.capitalize(a)]=function(){this.trackEvent(a,!0)}}),["firstQuartile","midpoint","thirdQuartile"].forEach(function(a){c.prototype["track"+g.capitalize(a)]=function(){this.quartiles[a].tracked=!0,this.trackEvent(a,!0)}}),c.prototype.trackComplete=function(){this.quartiles.thirdQuartile.tracked&&this.trackEvent("complete",!0)},c.prototype.trackErrorWithCode=function(a){g.isNumber(a)&&this.trackURLs(this.response.errorURLMacros,{ERRORCODE:a})},c.prototype.trackImpressions=function(){this.trackURLs(this.response.impressions)},c.prototype.trackCreativeView=function(){this.trackEvent("creativeView")},c.prototype.trackClick=function(){this.trackURLs(this.response.clickTrackings)},b.exports=c},{"../../utils/utilityFunctions":48,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],27:[function(a,b){"use strict";function c(a){function b(a){var b=[];return a&&(a=d.isArray(a)?a:[a],a.forEach(function(a){b.push(e.keyValue(a))})),b}return this instanceof c?(this.clickThrough=e.keyValue(a.clickThrough),this.clickTrackings=b(a.clickTracking),void(this.customClicks=b(a.customClick))):new c(a)}var d=a("../../utils/utilityFunctions"),e=a("../../utils/xml");b.exports=c},{"../../utils/utilityFunctions":48,"../../utils/xml":49}],28:[function(a,b){"use strict";function c(a){return this instanceof c?(this.adSystem=g.keyValue(a.adSystem),this.impressions=d.parseImpressions(a.impression),this.VASTAdTagURI=g.keyValue(a.vASTAdTagURI),this.creatives=e.parseCreatives(a.creatives),this.error=g.keyValue(a.error),this.extensions=a.extensions,this.followAdditionalWrappers=f.isDefined(g.attr(a,"followAdditionalWrappers"))?g.attr(a,"followAdditionalWrappers"):!0,this.allowMultipleAds=g.attr(a,"allowMultipleAds"),void(this.fallbackOnNoAd=g.attr(a,"fallbackOnNoAd"))):new c(a)}var d=a("./vastUtil"),e=a("./Creative"),f=a("../../utils/utilityFunctions"),g=a("../../utils/xml");b.exports=c},{"../../utils/utilityFunctions":48,"../../utils/xml":49,"./Creative":17,"./vastUtil":30}],29:[function(a,b){"use strict";var c=a("../../utils/utilityFunctions"),d=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/,e={duration:function(a){function b(a){return 60*parseInt(a,10)*60*1e3}function e(a){return 60*parseInt(a,10)*1e3}function f(a){return 1e3*parseInt(a,10)}var g,h;return c.isString(a)&&(g=a.match(d),g&&(h=b(g[1])+e(g[2])+f(g[3])+parseInt(g[5]||0))),isNaN(h)?null:h},offset:function(a,b){function c(a){var b=/^\d+(\.\d+)?%$/g;return b.test(a)}function d(a,b){return b?f(b,parseFloat(a.replace("%",""))):null}function f(a,b){return a*b/100}return c(a)?d(a,b):e.duration(a)}};b.exports=e},{"../../utils/utilityFunctions":48}],30:[function(a,b){"use strict";var c=a("../../utils/utilityFunctions"),d=a("../vpaid/VPAIDHTML5Tech"),e=a("../vpaid/VPAIDFlashTech"),f=a("VPAIDFLASHClient/js/VPAIDFLASHClient"),g={track:function(a,b){var c=g.parseURLMacros(a,b),d=[];return c.forEach(function(a){var b=new Image;b.src=a,d.push(b)}),d},parseURLMacros:function(a,b){var c=[];return b=b||{},b.CACHEBUSTING||(b.CACHEBUSTING=Math.round(1e10*Math.random())),a.forEach(function(a){a&&c.push(g._parseURLMacro(a,b))}),c},parseURLMacro:function(a,b){return b=b||{},b.CACHEBUSTING||(b.CACHEBUSTING=Math.round(1e10*Math.random())),g._parseURLMacro(a,b)},_parseURLMacro:function(a,b){return b=b||{},c.forEach(b,function(b,c){a=a.replace(new RegExp("\\["+c+"\\]","gm"),b)}),a},parseDuration:function(a){function b(a){return 60*parseInt(a,10)*60*1e3}function d(a){return 60*parseInt(a,10)*1e3}function e(a){return 1e3*parseInt(a,10)}var f,g,h=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/;return c.isString(a)&&(f=a.match(h),f&&(g=b(f[1])+d(f[2])+e(f[3])+parseInt(f[5]||0))),isNaN(g)?null:g},parseImpressions:function(a){return a?(a=c.isArray(a)?a:[a],c.transformArray(a,function(a){return c.isNotEmptyString(a.keyValue)?a.keyValue:void 0})):[]},formatProgress:function(a){var b,d,e,f;return b=a/36e5,b=Math.floor(b),d=a/6e4%60,d=Math.floor(d),e=a/1e3%60,e=Math.floor(e),f=a%1e3,c.toFixedDigits(b,2)+":"+c.toFixedDigits(d,2)+":"+c.toFixedDigits(e,2)+"."+c.toFixedDigits(f,3)},parseOffset:function(a,b){function c(a){var b=/^\d+(\.\d+)?%$/g;return b.test(a)}function d(a,b){return b?e(b,parseFloat(a.replace("%",""))):null}function e(a,b){return a*b/100}return c(a)?d(a,b):g.parseDuration(a)},VPAID_techs:[e,d],isVPAID:function(a){return!!a&&"VPAID"===a.apiFramework},findSupportedVPAIDTech:function(a){var b,c,d;for(b=0,c=this.VPAID_techs.length;c>b;b+=1)if(d=this.VPAID_techs[b],d.supports(a))return d;return null},isFlashSupported:function(){return f.isSupported()},runFlashSupportCheck:function(a){f.runFlashTest({data:a})}};b.exports=g},{"../../utils/utilityFunctions":48,"../vpaid/VPAIDFlashTech":32,"../vpaid/VPAIDHTML5Tech":33,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],31:[function(a,b){"use strict";function c(a,b){function f(a,b){if(!a||!c.checkVPAIDInterface(a))throw new d("on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface");if(!e.isObject(b))throw new d("on VPAIDAdUnitWrapper, expected options hash  but got '"+b+"'");if(!("responseTimeout"in b&&e.isNumber(b.responseTimeout)))throw new d("on VPAIDAdUnitWrapper, expected responseTimeout in options")}return this instanceof c?(f(a,b),this.options=e.extend({},b),void(this._adUnit=a)):new c(a,b)}var d=a("../vast/VASTError"),e=a("../../utils/utilityFunctions");c.checkVPAIDInterface=function(a){function b(a){return e.isFunction(a.subscribe)||e.isFunction(a.addEventListener)||e.isFunction(a.on)}function c(a){return e.isFunction(a.unsubscribe)||e.isFunction(a.removeEventListener)||e.isFunction(a.off)}for(var d=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","expandAd","collapseAd"],f=0,g=d.length;g>f;f++)if(!a||!e.isFunction(a[d[f]]))return!1;return b(a)&&c(a)},c.prototype.adUnitAsyncCall=function(){function a(a,b,c){if(!e.isString(a)||!e.isFunction(c[a]))throw new d("on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name");if(!e.isFunction(b))throw new d("on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback")}function b(){return function(){c&&clearTimeout(c),h.apply(this,arguments)}}var c,f=e.arrayLikeObjToArray(arguments),g=f.shift(),h=f.pop();a(g,h,this._adUnit),f.push(b()),this._adUnit[g].apply(this._adUnit,f),c=setTimeout(function(){c=null,h(new d("on VPAIDAdUnitWrapper, timeout while waiting for a response on call '"+g+"'")),h=e.noop},this.options.responseTimeout)},c.prototype.on=function(a,b){var c=this._adUnit.addEventListener||this._adUnit.subscribe||this._adUnit.on;c.call(this._adUnit,a,b)},c.prototype.off=function(a,b){var c=this._adUnit.removeEventListener||this._adUnit.unsubscribe||this._adUnit.off;c.call(this._adUnit,a,b)},c.prototype.waitForEvent=function(a,b,c,f){function g(a,b){if(!e.isString(a))throw new d("on VPAIDAdUnitWrapper.waitForEvent, missing evt name");if(!e.isFunction(b))throw new d("on VPAIDAdUnitWrapper.waitForEvent, missing callback")}function h(){var a=e.arrayLikeObjToArray(arguments);i&&(clearTimeout(i),i=null),a.unshift(null),b.apply(c,a)}var i;g(a,b),c=c||null,this.on(a,h),i=setTimeout(function(){b(new d("on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '"+a+"'",601)),i=null,b=e.noop},f||this.options.responseTimeout)},c.prototype.handshakeVersion=function(a,b){this.adUnitAsyncCall("handshakeVersion",a,b)},c.prototype.initAd=function(a,b,c,e,f,g){var h=!1,i=!1;this.waitForEvent("AdLoaded",function(){i||(h=!0,g.apply(null,arguments))}),this.on("AdError",function(){h||(i=!0,g(new d("on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event AdLoaded")))}),this._adUnit.initAd(a,b,c,e,f)},c.prototype.resizeAd=function(a,b,c,d){this.adUnitAsyncCall("resizeAd",a,b,c,d)},c.prototype.startAd=function(a){this.waitForEvent("AdStarted",a),this._adUnit.startAd()},c.prototype.stopAd=function(a){this.waitForEvent("AdStopped",a,null,300),this._adUnit.stopAd()},c.prototype.pauseAd=function(a){this.waitForEvent("AdPaused",a),this._adUnit.pauseAd()},c.prototype.resumeAd=function(a){this.waitForEvent("AdPlaying",a),this._adUnit.resumeAd()},c.prototype.expandAd=function(a){this.waitForEvent("AdExpandedChange",a),this._adUnit.expandAd()},c.prototype.collapseAd=function(a){this.waitForEvent("AdExpandedChange",a),this._adUnit.collapseAd()},c.prototype.skipAd=function(a){this.waitForEvent("AdSkipped",a),this._adUnit.skipAd()},["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"].forEach(function(a){var b="get"+e.capitalize(a);c.prototype[b]=function(a){this.adUnitAsyncCall(b,a)}}),c.prototype.setAdVolume=function(a,b){this.adUnitAsyncCall("setAdVolume",a,b)},b.exports=c},{"../../utils/utilityFunctions":48,"../vast/VASTError":23}],32:[function(a,b){"use strict";function c(a,b){function d(a){if(!a||!g.isString(a.src))throw new e("on VPAIDFlashTech, invalid MediaFile")}return this instanceof c?(d(a),this.name="vpaid-flash",this.mediaFile=a,this.containerEl=null,this.vpaidFlashClient=null,void(this.settings=b)):new c(a)}var d=a("../../utils/mimetypes"),e=a("../vast/VASTError"),f=a("VPAIDFLASHClient/js/VPAIDFLASHClient"),g=a("../../utils/utilityFunctions"),h=a("../../utils/dom"),i=a("../../utils/consoleLogger");c.VPAIDFLASHClient=f,c.supports=function(a){return d.flash.indexOf(a)>-1&&c.VPAIDFLASHClient.isSupported()},c.prototype.loadAdUnit=function(a,b,d){function f(a,b){if(!h.isDomElement(a))throw new e("on VPAIDFlashTech.loadAdUnit, invalid dom container element");if(!g.isFunction(b))throw new e("on VPAIDFlashTech.loadAdUnit, missing valid callback")}var j=this,k=this.settings&&this.settings.vpaidFlashLoaderPath?{data:this.settings.vpaidFlashLoaderPath}:void 0;f(a,d),this.containerEl=a,i.debug("<VPAIDFlashTech.loadAdUnit> loading VPAIDFLASHClient with opts:",k),this.vpaidFlashClient=new c.VPAIDFLASHClient(a,function(a){return a?d(a):(i.info("<VPAIDFlashTech.loadAdUnit> calling VPAIDFLASHClient.loadAdUnit(); that.mediaFile:",j.mediaFile),void j.vpaidFlashClient.loadAdUnit(j.mediaFile.src,d))},k,{wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",allowFullScreen:"true",quality:"high"},{debug:"false",timeout:1e4})},c.prototype.unloadAdUnit=function(){if(this.vpaidFlashClient){try{this.vpaidFlashClient.destroy()}catch(a){i.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidFlashClient=null}this.containerEl&&(h.remove(this.containerEl),this.containerEl=null)},b.exports=c},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":48,"../vast/VASTError":23,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],33:[function(a,b){"use strict";function c(a){function b(a){if(!a||!g.isString(a.src))throw new e(c.INVALID_MEDIA_FILE)}return this instanceof c?(b(a),this.name="vpaid-html5",this.containerEl=null,this.videoEl=null,this.vpaidHTMLClient=null,void(this.mediaFile=a)):new c(a)}var d=a("../../utils/mimetypes"),e=a("../vast/VASTError"),f=a("VPAIDHTML5Client/js/VPAIDHTML5Client"),g=a("../../utils/utilityFunctions"),h=a("../../utils/dom"),i=a("../../utils/consoleLogger");c.VPAIDHTML5Client=f,c.supports=function(a){return!g.isOldIE()&&d.html5.indexOf(a)>-1},c.prototype.loadAdUnit=function(a,b,d){function f(a,b,d){if(!h.isDomElement(a))throw new e(c.INVALID_DOM_CONTAINER_EL);if(!h.isDomElement(b)||"video"!==b.tagName.toLowerCase())throw new e(c.INVALID_DOM_CONTAINER_EL);if(!g.isFunction(d))throw new e(c.MISSING_CALLBACK)}f(a,b,d),this.containerEl=a,this.videoEl=b,this.vpaidHTMLClient=new c.VPAIDHTML5Client(a,b,{}),this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src,d)},c.prototype.unloadAdUnit=function(){if(this.vpaidHTMLClient){try{this.vpaidHTMLClient.destroy()}catch(a){i.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidHTMLClient=null}this.containerEl&&(h.remove(this.containerEl),this.containerEl=null)};var j="on VPAIDHTML5Tech";c.INVALID_MEDIA_FILE=j+", invalid MediaFile",c.INVALID_DOM_CONTAINER_EL=j+", invalid container HtmlElement",c.INVALID_DOM_VIDEO_EL=j+", invalid HTMLVideoElement",c.MISSING_CALLBACK=j+", missing valid callback",b.exports=c},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":48,"../vast/VASTError":23,"VPAIDHTML5Client/js/VPAIDHTML5Client":11}],34:[function(a,b){"use strict";function c(a,b){function d(){var b=document.createElement("div");return m.addClass(b,"VPAID-container"),a.trigger("add.vpaid.container",b),a.el().insertBefore(b,a.controlBar.el()),b}return this instanceof c?(this.VIEW_MODE={NORMAL:"normal",FULLSCREEN:"fullscreen",THUMBNAIL:"thumbnail"},this.player=a,this.containerEl=d(a),this.options={responseTimeout:5e3,VPAID_VERSION:"2.0"},void(this.settings=b)):new c(a)}function d(a,b,c){var d=a.el().querySelector(".vjs-tech"),f=m.getDimension(d),g=a.isFullscreen()?c.FULLSCREEN:c.NORMAL;b.resizeAd(f.width,f.height,g,e),q.info("resizeAd","width:",f.width,"height:",f.height)}function e(a){a&&q.error("ERROR: "+a.message,a)}var f=a("../../utils/mimetypes"),g=a("../vast/VASTError"),h=a("../vast/VASTResponse"),i=a("../vast/VASTTracker"),j=a("../vast/vastUtil"),k=a("./VPAIDAdUnitWrapper"),l=a("../../utils/async"),m=a("../../utils/dom"),n=a("../../utils/playerUtils"),o=a("../../utils/utilityFunctions"),p=a("../../utils/trackJobGama"),q=a("../../utils/consoleLogger");

c.prototype.playAd=function(a,b){function c(a,c,d){a&&d&&f._trackError(d,a.code),i.trigger("vpaid.adEnd"),b(a,d)}function d(){i.trigger("vpaid.adEnd")}function e(){j&&j.unloadAdUnit(),f.containerEl&&(m.remove(f.containerEl),f.containerEl=null),m.removeClass(i.el(),"vjs-vpaid-ad")}if(!(a instanceof h))return b(new g("on VASTIntegrator.playAd, missing required VASTResponse"));var f=this,i=this.player;q.debug("<VPAIDIntegrator.playAd> looking for supported tech...");var j=this._findSupportedTech(a,this.settings);if(b=b||o.noop,this._adUnit=null,m.addClass(i.el(),"vjs-vpaid-ad"),i.trigger("vpaid-ad"),i.on("vast.adsCancel",d),i.one("vpaid.adEnd",function(){i.off("vast.adsCancel",d),e()}),j)q.info("<VPAIDIntegrator.playAd> found tech: ",j),l.waterfall([function(b){b(null,j,a)},this._loadAdUnit.bind(this),this._playAdUnit.bind(this),this._finishPlaying.bind(this)],c),this._adUnit={_paused:!0,type:"VPAID",techName:function(){return j.name},pauseAd:function(){i.trigger("vpaid.pauseAd"),i.pause(!0)},resumeAd:function(){i.trigger("vpaid.resumeAd")},isPaused:function(){return this._paused},getSrc:function(){return j.mediaFile}};else{q.debug("<VPAIDIntegrator.playAd> could not find suitable tech");var k=new g("on VPAIDIntegrator.playAd, could not find a supported mediaFile",403);c(k,this._adUnit,a)}return this._adUnit},c.prototype._findSupportedTech=function(a,b){if(!(a instanceof h))return null;var c,d,e,g,i,k=a.mediaFiles.filter(j.isVPAID),l=b&&b.preferredTech,m=[];for(c=0,d=k.length;d>c;c+=1)if(e=k[c],g=j.findSupportedVPAIDTech(e.type)){if(i=l?e.type===l||f[l]&&f[l].indexOf(e.type)>-1:!1)return new g(e,b);m.push({mediaFile:e,tech:g})}if(m.length){var n=m[0];return new n.tech(n.mediaFile,b)}return null},c.prototype._createVPAIDAdUnitWrapper=function(a,b,c){return new k(a,{src:b,responseTimeout:c})},c.prototype._loadAdUnit=function(a,b,c){var d=this,e=this.player,f=e.el().querySelector(".vjs-tech"),g=this.settings.responseTimeout||this.options.responseTimeout;a.loadAdUnit(this.containerEl,f,function(f,h){if(f)return c(f,h,b);try{var i=d._createVPAIDAdUnitWrapper(h,a.mediaFile.src,g),j="vjs-"+a.name+"-ad";m.addClass(e.el(),j),e.trigger(a.name+"-ad"),e.one("vpaid.adEnd",function(){m.removeClass(e.el(),j)}),c(null,i,b)}catch(k){c(k,h,b)}})},c.prototype._playAdUnit=function(a,b,c){l.waterfall([function(c){c(null,a,b)},this._handshake.bind(this),this._setupEvents.bind(this),this._initAd.bind(this),this._addSkipButton.bind(this),this._addMuteButton.bind(this),this._linkPlayerControls.bind(this),this._startAd.bind(this)],c)},c.prototype._handshake=function(a,b,c){function d(a){var b=e(a);return b>=1&&2>=b}function e(a){var b=a.split(".");return parseInt(b[0],10)}a.handshakeVersion(this.options.VPAID_VERSION,function(e,f){return e?c(e,a,b):f&&d(f)?c(null,a,b):c(new g('on VPAIDIntegrator._handshake, unsupported version "'+f+'"'),a,b)})},c.prototype._initAd=function(a,b,c){var d=this.player.el().querySelector(".vjs-tech"),e=m.getDimension(d);a.initAd(e.width,e.height,this.VIEW_MODE.NORMAL,-1,{AdParameters:b.adParameters||""},function(d){c(d,a,b)})},c.prototype._createVASTTracker=function(a,b){return new i(a,b)},c.prototype._setupEvents=function(a,b,c){function e(){l._adUnit&&l._adUnit.isPaused()&&(l._adUnit._paused=!1),k.trigger("play")}function f(){l._adUnit&&(l._adUnit._paused=!0),k.trigger("pause")}function g(){a.pauseAd(o.noop)}function h(){a.resumeAd(o.noop)}var i=a.options.src,j=this._createVASTTracker(i,b),k=this.player,l=this;a.on("AdSkipped",function(){k.trigger("vpaid.AdSkipped"),j.trackSkip()}),a.on("AdImpression",function(){var a=b.trackdata;p({p:10,bid:a.bid,lv:a.lv,url:a.url,files:a.files}),k.trigger("vpaid.AdImpression"),j.trackImpressions()}),a.on("AdStarted",function(){k.trigger("vpaid.AdStarted"),j.trackCreativeView(),e()}),a.on("AdVideoStart",function(){k.trigger("vpaid.AdVideoStart"),j.trackStart(),e()}),a.on("AdPlaying",function(){k.trigger("vpaid.AdPlaying"),j.trackResume(),e()}),a.on("AdPaused",function(){k.trigger("vpaid.AdPaused"),j.trackPause(),f()}),a.on("AdVideoFirstQuartile",function(){k.trigger("vpaid.AdVideoFirstQuartile"),j.trackFirstQuartile()}),a.on("AdVideoMidpoint",function(){k.trigger("vpaid.AdVideoMidpoint"),j.trackMidpoint()}),a.on("AdVideoThirdQuartile",function(){k.trigger("vpaid.AdVideoThirdQuartile"),j.trackThirdQuartile()}),a.on("AdVideoComplete",function(){k.trigger("vpaid.AdVideoComplete"),j.trackComplete()}),a.on("AdClickThru",function(a){k.trigger("vpaid.AdClickThru");var b=a.url,c=a.playerHandles,d=o.isNotEmptyString(b)?b:null;j.trackClick(),c&&d&&window.open(d,"_blank")}),a.on("AdUserAcceptInvitation",function(){k.trigger("vpaid.AdUserAcceptInvitation"),j.trackAcceptInvitation(),j.trackAcceptInvitationLinear()}),a.on("AdUserClose",function(){k.trigger("vpaid.AdUserClose"),j.trackClose(),j.trackCloseLinear()}),a.on("AdUserMinimize",function(){k.trigger("vpaid.AdUserMinimize"),j.trackCollapse()}),a.on("AdError",function(){k.trigger("vpaid.AdError"),j.trackErrorWithCode(901)}),a.on("AdVolumeChange",function(){k.trigger("vpaid.AdVolumeChange");var b=k.volume();a.getAdVolume(function(a,c){b!==c&&(0===c&&b>0&&j.trackMute(),c>0&&0===b&&j.trackUnmute())})});var n=d.bind(this,k,a,this.VIEW_MODE),q=o.throttle(n,100),r=this.settings.autoResize;r&&(m.addEventListener(window,"resize",q),m.addEventListener(window,"orientationchange",q)),k.on("vast.resize",q),k.on("vpaid.pauseAd",g),k.on("vpaid.resumeAd",h),k.one("vpaid.AdStarted",q),k.one("vpaid.AdImpression",q),k.one("vpaid.adEnd",function(){k.off("vast.resize",q),k.off("vpaid.pauseAd",g),k.off("vpaid.resumeAd",h),k.off("vpaid.AdStarted",q),k.off("vpaid.AdImpression",q),r&&(m.removeEventListener(window,"resize",q),m.removeEventListener(window,"orientationchange",q))}),c(null,a,b)},c.prototype._addMuteButton=function(a,b,c){function d(){f.volume=g}var f=this.player,g=f.volume,h=f.volume();f.one("vpaid.AdStarted",function(){var a="";try{a=b.ads[b.ads.length-1].inLine.adSystem}catch(c){}var d=f.vast.adUnit.techName();"vpaid-flash"===d&&f.pause(!0);var e=f.muted()?0:h;f.volume(e)}),n.once(f,["vast.adEnd","vast.adsCancel"],d),c(null,a,b),f.volume=function(b){return void 0===b?g.call(f):void a.setAdVolume(b,e)}},c.prototype._addSkipButton=function(a,b,c){function d(){a.getAdDuration(function(b,c){return l===c?void a.off("AdDurationChange",d):void(l=c)})}function f(){a.getAdRemainingTime(function(a,b){if(!l&&b>0)l=b;else if(!l)return;var c=b+r-l;c=Math.ceil(c),c>0?j.innerHTML=o.toFixedDigits(c,1)+" giy":(clearInterval(k),m.hasClass(j,"enabled")||(m.addClass(j,"enabled"),j.innerHTML="B Qua"))})}function g(a){j=i(a),a.el().appendChild(j)}function h(){m.remove(j),clearInterval(k),j=null}function i(){var b=window.document.createElement("div");return m.addClass(b,"vast-skip-button"),b.innerHTML=o.toFixedDigits(r,1)+" giy",b.onclick=function(c){return m.hasClass(b,"enabled")&&a.stopAd(function(a){a&&p.trigger("vpaid_html5_stop_ad_error")}),void 0===window.Event.prototype.stopPropagation?!1:void c.stopPropagation()},b}var j,k,l,p=this.player,q=p.vast,r=o.isNumber(b.skipoffset)?b.skipoffset:5e3;return r/=1e3,q.isSkipAds()===!1?void c(null,a,b):(p.one("vpaid.AdStarted",function(){var c="";try{c=b.ads[b.ads.length-1].inLine.adSystem}catch(d){}var h=p.vast.adUnit.techName();"vpaid-flash"===h&&p.pause(!0);var i=c+":"+h;switch(i){case"AdMicro:vpaid-flash":break;default:g(p),k=setInterval(f,1e3)}var j=p.muted()?0:p.volume();a.setAdVolume(j,e)}),n.once(p,["vast.adEnd","vast.adsCancel"],h),a.on("AdDurationChange",d),void c(null,a,b))},c.prototype._linkPlayerControls=function(a,b,c){function f(a,c){function d(){var b=a.muted()?0:a.volume();c.setAdVolume(b,e)}function f(){a.trigger("vpaid.AdVolumeChange");var b=a.volume();c.getAdVolume(function(c,d){c?e(c):b!==d&&a.volume(d)})}a.one("vpaid.AdStarted",function(){var e="";try{e=b.ads[b.ads.length-1].inLine.adSystem}catch(g){}var h=a.vast.adUnit.techName(),i=e+":"+h;"AdMicro:vpaid-flash"!==i&&(a.on("volumechange",d),c.on("AdVolumeChange",f))}),a.one("vpaid.adEnd",function(){a.off("volumechange",d)})}function g(a,b,c){var e=d.bind(h,a,b,c);a.on("fullscreenchange",e),a.one("vpaid.adEnd",function(){a.off("fullscreenchange",e)})}var h=this;f(this.player,a),g(this.player,a,this.VIEW_MODE),c(null,a,b)},c.prototype._startAd=function(a,b,c){function d(){a.startAd(function(d){d||e.trigger("vast.adStart"),c(d,a,b)})}var e=this.player;e.options_.playAds?d():e.one("play-ads",d)},c.prototype._finishPlaying=function(a,b,c){function d(){e()}function e(){h&&clearTimeout(h),i.off("vpaid_html5_stop_ad_error"),i.trigger("vpaid.AdStopped"),a.off("AdStopped"),a.off("AdVideoComplete"),f(null)}function f(d){c(d,a,b)}var h,i=this.player;a.on("AdStopped",function(){e()}),a.on("AdVideoComplete",function(){h=setTimeout(function(){e()},300)}),a.on("AdError",function(a){var b=a?a.message:"on VPAIDIntegrator, error while waiting for the adUnit to finish playing";f(new g(b))}),i.one("vpaid_html5_stop_ad_error",d)},c.prototype._trackError=function(a,b){j.track(a.errorURLMacros,{ERRORCODE:b||901})},b.exports=c},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/playerUtils":45,"../../utils/trackJobGama":46,"../../utils/utilityFunctions":48,"../vast/VASTError":23,"../vast/VASTResponse":25,"../vast/VASTTracker":26,"../vast/vastUtil":30,"./VPAIDAdUnitWrapper":31}],35:[function(a,b){"use strict";var c=a("../../utils/dom"),d=document.createElement("div");d.className="vjs-ads-label vjs-control vjs-label-hidden",d.innerHTML="Advertisement";var e=function(a){return{init:function(b,e){e.el=d,a.call(this,b,e),setTimeout(function(){var a=b.controlBar&&(b.controlBar.getChild("timerControls")||b.controlBar.getChild("currentTimeDisplay"));a&&b.controlBar.el().insertBefore(d,a.el()),c.removeClass(d,"vjs-label-hidden")},0)},el:function(){return d}}};b.exports=e},{"../../utils/dom":42}],36:[function(a){"use strict";var b=videojs.getComponent("Component"),c=a("./ads-label")(b);videojs.registerComponent("AdsLabel",videojs.extend(b,c))},{"./ads-label":35}],37:[function(a,b){"use strict";var c=document.createElement("div"),d=function(a){return{init:function(b,d){d.el=c,c.className="vjs-black-poster",a.call(this,b,d);var e=b.getChild("posterImage");setTimeout(function(){e&&b&&b.el()&&b.el().insertBefore(c,e.el())},0)},el:function(){return c}}};b.exports=d},{}],38:[function(a){"use strict";var b=videojs.getComponent("Component"),c=a("./black-poster")(b);videojs.registerComponent("BlackPoster",videojs.extend(b,c))},{"./black-poster":37}],39:[function(a,b){"use strict";var c=a("../ads/vast/VASTClient"),d=a("../ads/vast/VASTError"),e=a("../ads/vast/vastUtil"),f=a("../ads/vast/VASTIntegrator"),g=a("../ads/vpaid/VPAIDIntegrator"),h=a("../utils/async"),i=a("../utils/dom"),j=a("../utils/playerUtils"),k=a("../utils/utilityFunctions"),l=a("../utils/trackJobGama"),m=a("../utils/consoleLogger");e.runFlashSupportCheck("build/temp/VPAIDFlash.swf?r=1476334"),b.exports=function(a){function b(){function a(){u.vast&&u.vast.adUnit&&(u.vast.adUnit=null)}function b(){c(),u.trigger("restorePlayer",t),t=null}function c(){j.once(u,["playing","vast.reset","vast.firstPlay"],function(a){"playing"===a.type&&(u.trigger("vast.contentStart"),j.once(u,["ended","vast.reset","vast.firstPlay"],function(a){"ended"===a.type&&u.trigger("vast.contentEnd")}))})}function e(a){return y.adsEnabled?a(null):void a(new d("Ads are not enabled"))}function f(a){g()?(u.pause(),n(),u.paused()?a(null):j.once(u,["playing"],function(){u.pause(),a(null)})):a(new d("video content has been playing before preroll ad"))}function g(){return!k.isIPhone()||u.currentTime()<=y.iosPrerollCancelTimeout}function m(a){function b(){c&&(clearTimeout(c),c=null)}var c;w=!1,c=setTimeout(function(){r(new d("timeout while waiting for the video to start playing",402))},y.adCancelTimeout),j.once(u,["vast.adStart","vast.adsCancel","adsLoaded"],b),a(null)}function n(){i.addClass(u.el(),"vjs-vast-ad-loading"),j.once(u,["vast.adStart","vast.adsCancel"],p)}function p(){setTimeout(function(){i.removeClass(u.el(),"vjs-vast-ad-loading")},100)}j.removeNativePoster(u),j.once(u,["vast.adsCancel","vast.adEnd"],function(){a(),b()}),h.waterfall([e,f,m,o],function(a,b){if(a){var c=b?b.trackdata:null;c&&l({p:11,bid:c.bid,lv:c.lv,url:c.url,files:c.files,err:a.message}),r(a,b)}else u.trigger("vast.adEnd")})}function n(){u.trigger("vast.adsCancel"),w=!0}function o(a){h.waterfall([p,q],a)}function p(a){return y.vastResponse?a(null,y.vastResponse):void v.getVASTResponse(y.adTagUrl?y.adTagUrl():y.adTagXML,a)}function q(a,b){function c(){i||u.controlBar.getChild("AdsLabel")||u.controlBar.addChild("AdsLabel")}function d(){u.controlBar.removeChild("AdsLabel"),i=!0}function e(){function a(){u.duration()-e>d&&(u.pause(!0),u.play(!0),u.currentTime(e))}function b(){var a=u.currentTime(),b=Math.abs(a-e);b>d?(f+=1,f>=2&&u.pause(!0),u.currentTime(e)):e=a}function c(){u.off("timeupdate",b),u.off("ended",a)}var d=3,e=0,f=0;u.on("timeupdate",b),u.on("ended",a),j.once(u,["vast.adEnd","vast.adsCancel","vast.adError"],c)}if(!w){u.trigger("vast.xmlParse",a);var h=s(a)?new g(u,y):new f(u),i=!1;j.once(u,["vast.adStart","vast.adsCancel"],function(a){"vast.adStart"===a.type&&c()}),j.once(u,["vast.adEnd","vast.adsCancel"],d),k.isIDevice()&&e(),u.vast.vastResponse=a,m.debug("calling adIntegrator.playAd() with vastResponse:",a),u.vast.adUnit=h.playAd(a,b),u.trigger("adsLoaded")}}function r(a,b){u.trigger("vast.adError",{error:a,vastResponse:b}),n(),m.error("AD ERROR:",a.message,a,b)}function s(a){var b,c,d=a.mediaFiles;for(b=0,c=d.length;c>b;b++)if(e.isVPAID(d[b])&&d[b].isSupported())return!0;return!1}var t,u=this,v=new c,w=!1,x={timeout:500,iosPrerollCancelTimeout:2e3,adCancelTimeout:3e3,playAdAlways:!1,adsEnabled:!0,autoResize:!0,vpaidFlashLoaderPath:"/VPAIDFlash.swf",verbosity:0},y=k.extend({},x,a||{});return k.isUndefined(y.adTagUrl)&&k.isDefined(y.url)&&(y.adTagUrl=y.url),k.isString(y.adTagUrl)&&(y.adTagUrl=k.echoFn(y.adTagUrl)),k.isDefined(y.adTagXML)&&!k.isFunction(y.adTagXML)?r(new d("on VideoJS VAST plugin, the passed adTagXML option does not contain a function")):k.isDefined(y.adTagUrl)||k.isFunction(y.adTagXML)?(m.setVerbosity(y.verbosity),t=j.getPlayerSnapshot(u),j.prepareForAds(u),y.playAdAlways&&u.on("vast.contentEnd",function(){setTimeout(function(){u.trigger("vast.reset")},0)}),u.one("vast.firstPlay",b),u.on("vast.reset",function(){t=null,n()}),u.vast={isEnabled:function(){return y.adsEnabled},enable:function(){y.adsEnabled=!0},disable:function(){y.adsEnabled=!1},isSkipAds:function(){return y.skipads},cancelAds:function(){n()}},u.vast):r(new d("on VideoJS VAST plugin, missing adTagUrl on options object"))}},{"../ads/vast/VASTClient":22,"../ads/vast/VASTError":23,"../ads/vast/VASTIntegrator":24,"../ads/vast/vastUtil":30,"../ads/vpaid/VPAIDIntegrator":34,"../utils/async":40,"../utils/consoleLogger":41,"../utils/dom":42,"../utils/playerUtils":45,"../utils/trackJobGama":46,"../utils/utilityFunctions":48}],40:[function(a,b){var c=a("./utilityFunctions"),d={};d.setImmediate=function(a){setTimeout(a,0)},d.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},d.waterfall=function(a,b){if(b=b||function(){},!c.isArray(a)){var e=new Error("First argument to waterfall must be an array of functions");return b(e)}if(!a.length)return b();var f=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();e.push(g?f(g):b),d.setImmediate(function(){a.apply(null,e)})}}};f(d.iterator(a))()},d.when=function(a,b){if(!c.isFunction(b))throw new Error("async.when error: missing callback argument");var d=c.isFunction(a)?a:function(){return!!a};return function(){var a=c.arrayLikeObjToArray(arguments),e=a.pop();return d.apply(null,a)?b.apply(this,arguments):(a.unshift(null),e.apply(null,a))}},b.exports=d},{"./utilityFunctions":48}],41:[function(a,b){"use strict";function c(a){j=a}function d(a,b){b.length>0&&"string"==typeof b[0]&&(b[0]=k+b[0]),a.apply?a.apply(console,Array.prototype.slice.call(b)):a(Array.prototype.slice.call(b))}function e(){4>j||("undefined"==typeof console.debug?d(console.log,arguments):d(console.debug,arguments))}function f(){3>j||d(console.log,arguments)}function g(){2>j||d(console.info,arguments)}function h(){1>j||d(console.warn,arguments)}function i(){0>j||d(console.error,arguments)}var j=0,k="[videojs-vast-vpaid] ",l={setVerbosity:c,debug:e,log:f,info:g,warn:h,error:i};"undefined"!=typeof console&&console.log||(l.debug=function(){},l.log=function(){},l.info=function(){},l.warn=function(){},l.error=function(){}),b.exports=l},{}],42:[function(a,b){"use strict";var c=a("./utilityFunctions"),d={};d.isVisible=function(a){var b=window.getComputedStyle(a);return"hidden"!==b.visibility},d.isHidden=function(a){var b=window.getComputedStyle(a);return"none"===b.display},d.isShown=function(a){return!d.isHidden(a)},d.hide=function(a){a.__prev_style_display_=a.style.display,a.style.display="none"},d.show=function(a){d.isHidden(a)&&(a.style.display=a.__prev_style_display_),a.__prev_style_display_=void 0},d.hasClass=function(a,b){var d,e,f;if(c.isNotEmptyString(b)){if(a.classList)return a.classList.contains(b);for(d=c.isString(a.getAttribute("class"))?a.getAttribute("class").split(/\s+/):[],b=b||"",e=0,f=d.length;f>e;e+=1)if(d[e]===b)return!0}return!1},d.addClass=function(a,b){var d;if(c.isNotEmptyString(b)){if(a.classList)return a.classList.add(b);d=c.isString(a.getAttribute("class"))?a.getAttribute("class").split(/\s+/):[],c.isString(b)&&c.isNotEmptyString(b.replace(/\s+/,""))&&(d.push(b),a.setAttribute("class",d.join(" ")))}},d.removeClass=function(a,b){var d;if(c.isNotEmptyString(b)){if(a.classList)return a.classList.remove(b);d=c.isString(a.getAttribute("class"))?a.getAttribute("class").split(/\s+/):[];var e,f,g=[];if(c.isString(b)&&c.isNotEmptyString(b.replace(/\s+/,""))){for(e=0,f=d.length;f>e;e+=1)b!==d[e]&&g.push(d[e]);a.setAttribute("class",g.join(" "))}}},d.addEventListener=function(a,b,e){return c.isArray(a)?void c.forEach(a,function(a){d.addEventListener(a,b,e)}):c.isArray(b)?void c.forEach(b,function(b){d.addEventListener(a,b,e)}):void(a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent&&a.attachEvent("on"+b,e))},d.removeEventListener=function(a,b,e){return c.isArray(a)?void c.forEach(a,function(a){d.removeEventListener(a,b,e)}):c.isArray(b)?void c.forEach(b,function(b){d.removeEventListener(a,b,e)}):void(a.removeEventListener?a.removeEventListener(b,e,!1):a.detachEvent?a.detachEvent("on"+b,e):a["on"+b]=null)},d.dispatchEvent=function(a,b){a.dispatchEvent?a.dispatchEvent(b):a.fireEvent("on"+b.eventType,b)},d.isDescendant=function(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1},d.getTextContent=function(a){return a.textContent||a.text},d.prependChild=function(a,b){return b.parentNode&&b.parentNode.removeChild(b),a.insertBefore(b,a.firstChild)},d.remove=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},d.isDomElement=function(a){return a instanceof Element},d.click=function(a,b){d.addEventListener(a,"click",b)},d.once=function(a,b,c){function e(){c.apply(null,arguments),d.removeEventListener(a,b,e)}d.addEventListener(a,b,e)},d.getDimension=function(a){var b;return!c.isOldIE()&&a.getBoundingClientRect?(b=a.getBoundingClientRect(),{width:b.width,height:b.height}):{width:a.offsetWidth,height:a.offsetHeight}},b.exports=d},{"./utilityFunctions":48}],43:[function(a,b){"use strict";function c(a){this.message="HttpRequest Error: "+(a||"")}function d(a){if(!g.isFunction(a))throw new c("Missing XMLHttpRequest factory method");this.createXhr=a}function e(){var a=new XMLHttpRequest;return"withCredentials"in a||(a=new XDomainRequest),a}var f=a("./urlUtils"),g=a("./utilityFunctions");c.prototype=new Error,c.prototype.name="HttpRequest Error",d.prototype.run=function(a,b,d,e){function h(a,b,d){if(!g.isString(a)||g.isEmptyString(a))throw new c("Invalid url '"+a+"'");if(!g.isFunction(b))throw new c("Invalid handler '"+b+"' for the http request");if(g.isDefined(d)&&!g.isObject(d))throw new c("Invalid options map '"+d+"'")}function i(a,b){g.forEach(b,function(b,c){g.isDefined(b)&&a.setRequestHeader(c,b)})}function j(){d(-1,null,null,"")}h(b,d,e);var k,l,m=this.createXhr();e=e||{},k=g.isNumber(e.timeout)?e.timeout:0,m.open(a,f.urlParts(b).href,!0),e.headers&&i(m,e.headers),e.withCredentials&&(m.withCredentials=!0),m.onload=function(){var a,b,c;m.getAllResponseHeaders||(m.getAllResponseHeaders=function(){return null}),m.status||(m.status=200),g.isDefined(l)&&(clearTimeout(l),l=void 0),a=m.statusText||"",b="response"in m?m.response:m.responseText,c=1223===m.status?204:m.status,d(c,b,m.getAllResponseHeaders(),a)},m.onerror=j,m.onabort=j,m.send(),k>0&&(l=setTimeout(function(){m&&m.abort()},k))},d.prototype.get=function(a,b,d){function e(a,d,e,g){f(a)?b(null,d,a,e,g):b(new c(g),d,a,e,g)}function f(a){return a>=200&&300>a}this.run("GET",a,e,d)};var h=new d(e);b.exports={http:h,HttpRequest:d,HttpRequestError:c,createXhr:e}},{"./urlUtils":47,"./utilityFunctions":48}],44:[function(a,b){"use strict";b.exports={html5:["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript"],flash:["application/x-shockwave-flash"]}},{}],45:[function(a,b){"use strict";var c=a("./dom"),d=a("./utilityFunctions"),e={};e.getPlayerSnapshot=function(a){function b(a){var b=a.remoteTextTracks?a.remoteTextTracks():[];b&&d.isArray(b.tracks_)&&(b=b.tracks_),d.isArray(b)||(b=[]);var c=[];return b.forEach(function(a){c.push({track:a,mode:a.mode}),a.mode="disabled"}),c}var c=a.el().querySelector(".vjs-tech"),e={ended:a.ended(),src:a.currentSrc(),currentTime:a.currentTime(),type:a.currentType(),playing:!a.paused(),suppressedTracks:b(a)};return c&&(e.nativePoster=c.poster,e.style=c.getAttribute("style")),e},e.restorePlayerSnapshot=function(a,b){a.el().querySelector(".vjs-tech");a.trigger("restorePlayer",b)},e.isReadyToResume=function(a){return a.readyState()>1?!0:void 0===a.seekable()?!0:a.seekable().length>0?!0:!1},e.prepareForAds=function(a){function b(){var b=a.play;a.play=function(d){function f(){b.apply(i,arguments)}function g(d){e()&&!d?(c.apply(i,arguments),a.vast.adUnit.resumeAd()):b.apply(i,arguments)}var i=this;return a.options_.playAds=!0,a.trigger("play-ads"),h()?f():g(d),this};var c=a.pause;a.pause=function(b){return e()&&!b?a.vast.adUnit.pauseAd():c.apply(this,arguments),this};var d=a.paused;a.paused=function(b){return e()&&!b?a.vast.adUnit.isPaused():d.apply(this,arguments)}}function e(){return a.vast&&a.vast.adUnit}function f(){a.src()&&h()&&(p=!1,a.trigger("vast.firstPlay"))}function g(){p=!0,o.show(),i()}function h(){return p}function i(){n&&(a.currentTime(0),j(n),n=null)}function j(b){d.isObject(b)&&(a.volume(b.volume),a.muted(b.muted))}function k(){c.hasClass(o.el(),"vjs-hidden")||o.hide()}function l(){c.addClass(a.el(),"vjs-ad-playing")}function m(){c.removeClass(a.el(),"vjs-ad-playing")}var n,o=a.addChild("blackPoster"),p=!0;b(),a.one("filling",f),a.one("updateVideoSource",f),a.one("timeupdate",f),a.one("play",f),a.on("vast.reset",g),a.on("vast.firstPlay",i),a.on("error",k),a.on("vast.adStart",k),a.on("vast.adsCancel",k),a.on("vast.adError",k),a.on("vast.adStart",l),a.on("vast.adEnd",m),a.on("vast.adsCancel",m),a.on("restorePlayer",m)},e.removeNativePoster=function(a){var b=a.el().querySelector(".vjs-tech");b&&b.removeAttribute("poster")},e.once=function(a,b,c){function d(){for(var e=0;e<b.length;e++)a.off(b[e],d);c.apply(null,arguments)}b.forEach(function(b){a.on(b,d)})},b.exports=e},{"./dom":42,"./utilityFunctions":48}],46:[function(a,b){function c(a){e("//lg1.logging.admicro.vn/video_track_err?",a)}var d=function(a,b){var c,e=[];for(c in a)if(a.hasOwnProperty(c)){var f=b?b+"["+c+"]":c,g=a[c];e.push(null!==g&&"object"==typeof g?d(g,f):encodeURIComponent(f)+"="+encodeURIComponent(g))}return e.join("&")},e=function(a,b){var c=d(b),e=new Image;e.src=a+c};b.exports=c},{}],47:[function(a,b){"use strict";function c(a){var b=a;return h&&(g.setAttribute("href",b),b=g.href),g.setAttribute("href",b),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:f.isNotEmptyString(g.port)?g.port:80,pathname:"/"===g.pathname.charAt(0)?g.pathname:"/"+g.pathname}}function d(a,b){var c,d;return b=f.isFunction(b)?b:function(){return!0},a=a.trim().replace(/^\?/,""),c=a.split("&"),d={},f.forEach(c,function(a){var c,e,f;""!==a&&(c=a.split("="),e=c[0],f=c[1],b(e,f)&&(d[e]=f))}),d}function e(a){var b=[];return f.forEach(a,function(a,c){b.push(c+"="+a)}),b.join("&")}var f=a("./utilityFunctions"),g=document.createElement("a"),h=document.documentMode;b.exports={urlParts:c,queryStringToObj:d,objToQueryString:e}},{"./utilityFunctions":48}],48:[function(a,b){"use strict";function c(){}function d(a){return null===a}function e(a){return void 0!==a}function f(a){return void 0===a}function g(a){return"object"==typeof a}function h(a){return"function"==typeof a}function i(a){return"number"==typeof a}function j(a){return N.isObject(a)&&a.window===a}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){if(null===a||N.isWindow(a)||N.isFunction(a)||N.isUndefined(a))return!1;var b=a.length;return a.nodeType===J&&b?!0:N.isString(a)||N.isArray(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function m(a){return"string"==typeof a}function n(a){return N.isString(a)&&0===a.length}function o(a){return N.isString(a)&&0!==a.length}function p(a){return Array.prototype.slice.call(a)}function q(a,b,c){var d,e;if(a)if(h(a))for(d in a)"prototype"===d||"length"===d||"name"===d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(k(a)){var f="object"!=typeof a;for(d=0,e=a.length;e>d;d++)(f||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,c,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);return a}function r(a,b){return b=b||"_",a.replace(K,function(a,c){return(c?b:"")+a.toLowerCase()})}function s(a){return N.isString(a)?L.test(a.trim()):!1}function t(a){var b,c,e;for(c=1;c<arguments.length;c++){b=arguments[c];for(e in b)b.hasOwnProperty(e)&&(a[e]=g(a[e])&&!d(a[e])&&g(b[e])?t({},a[e],b[e]):b[e])}return a}function u(a){return a.charAt(0).toUpperCase()+a.slice(1)}function v(a){return a.charAt(0).toLowerCase()+a.slice(1)}function w(a,b){var c=[];return a.forEach(function(a,d){var e=b(a,d);N.isDefined(e)&&c.push(e)}),c}function x(a,b){var c=a+"";if(b=N.isNumber(b)?b:0,a=N.isNumber(a)?a:parseInt(a,10),N.isNumber(a)&&!isNaN(a)){for(c=a+"";c.length<b;)c="0"+c;return c}return"NaN"}function y(a,b){var c=(new Date).getTime()-(b+1);return function(){var d=(new Date).getTime();d-c>=b&&(c=d,a.apply(this,arguments))}}function z(a,b){var c;return function(){c&&clearTimeout(c),c=setTimeout(function(){a.apply(this,arguments),c=void 0},b)}}function A(a,b,c){for(var d=b(a),e=0;e<d.length;e++){if(c(d[e]))return d[e];var f=A(d[e],b,c);if(f)return f}}function B(a){return function(){return a}}function C(a){return N.isNumber(a)&&(a+=""),N.isString(a)?M.test(a.trim()):!1}function D(){var a=N.getInternetExplorerVersion(navigator);return-1===a?!1:10>a}function E(a){var b=-1;if("Microsoft Internet Explorer"==a.appName){var c=a.userAgent,d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),e=d.exec(c);null!==e&&(b=parseFloat(e[1]))}return b}function F(){return/iP(hone|ad)/.test(N._UA)}function G(){return/iP(hone|ad|od)|Android|Windows Phone/.test(N._UA)}function H(){return/iP(hone|od)/.test(N._UA)}function I(){return/Android/.test(N._UA)}var J=1,K=/[A-Z]/g,L=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i,M=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,N={_UA:navigator.userAgent,noop:c,isNull:d,isDefined:e,isUndefined:f,isObject:g,isFunction:h,isNumber:i,isWindow:j,isArray:k,isArrayLike:l,isString:m,isEmptyString:n,isNotEmptyString:o,arrayLikeObjToArray:p,forEach:q,snake_case:r,isValidEmail:s,extend:t,capitalize:u,decapitalize:v,transformArray:w,toFixedDigits:x,throttle:y,debounce:z,treeSearch:A,echoFn:B,isISO8601:C,isOldIE:D,getInternetExplorerVersion:E,isIDevice:F,isMobile:G,isIPhone:H,isAndroid:I};b.exports=N},{}],49:[function(a,b){"use strict";var c=a("./utilityFunctions"),d={};d.strToXMLDoc=function(a){function b(a){var b,e=new DOMParser;try{if(b=e.parseFromString(a,"application/xml"),d(b)||c.isEmptyString(a))throw new Error}catch(f){throw new Error("xml.strToXMLDOC: Error parsing the string: '"+a+"'")}return b}function d(a){try{var b=new DOMParser,c=b.parseFromString("INVALID","text/xml"),d=c.getElementsByTagName("parsererror")[0].namespaceURI;return"http://www.w3.org/1999/xhtml"===d?a.getElementsByTagName("parsererror").length>0:a.getElementsByTagNameNS(d,"parsererror").length>0}catch(e){}}if("undefined"==typeof window.DOMParser){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async=!1,e.loadXML(a),e}return b(a)},d.parseText=function(a){return/^\s*$/.test(a)?null:/^(?:true|false)$/i.test(a)?"true"===a.toLowerCase():isFinite(a)?parseFloat(a):c.isISO8601(a)?new Date(a):a.trim()},d.JXONTree=function(a){var b=d.parseText;if(a.documentElement)return new d.JXONTree(a.documentElement);if(a.hasChildNodes()){for(var e,f,g,h="",i=0;i<a.childNodes.length;i++)e=a.childNodes.item(i),3===(e.nodeType-1|1)?h+=3===e.nodeType?e.nodeValue.trim():e.nodeValue:1!==e.nodeType||e.prefix||(f=c.decapitalize(e.nodeName),g=new d.JXONTree(e),this.hasOwnProperty(f)?(this[f].constructor!==Array&&(this[f]=[this[f]]),this[f].push(g)):this[f]=g);h&&(this.keyValue=b(h))}var j="undefined"==typeof a.hasAttributes?a.attributes.length>0:a.hasAttributes();if(j)for(var k,l=0;l<a.attributes.length;l++)k=a.attributes.item(l),this["@"+c.decapitalize(k.name)]=b(k.value.trim())},d.JXONTree.prototype.attr=function(a){return this["@"+c.decapitalize(a)]},d.toJXONTree=function(a){var b=d.strToXMLDoc(a);return new d.JXONTree(b)},d.keyValue=function(a){return a?a.keyValue:void 0},d.attr=function(a,b){return a?a["@"+c.decapitalize(b)]:void 0},d.encode=function(a){return c.isString(a)?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):void 0},d.decode=function(a){return c.isString(a)?a.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"):void 0},b.exports=d},{"./utilityFunctions":48}],50:[function(a){"use strict";a("./plugin/components/ads-label_5"),a("./plugin/components/black-poster_5");var b=a("./plugin/videojs.vast.vpaid"),c=a("./ads/vast/VASTClient");videojs.VASTClient=c,videojs.plugin("vastClient",b)},{"./ads/vast/VASTClient":22,"./plugin/components/ads-label_5":36,"./plugin/components/black-poster_5":38,"./plugin/videojs.vast.vpaid":39}]},{},[50]);